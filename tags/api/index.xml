<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Api on Simo Ahava's blog</title><link>https://www.simoahava.com/tags/api/</link><description>Recent content in Api on Simo Ahava's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 02 Mar 2020 09:00:00 +0200</lastBuildDate><atom:link href="https://www.simoahava.com/tags/api/index.xml" rel="self" type="application/rss+xml"/><item><title>Create Slack Notification System For Google Tag Manager Changes</title><link>https://www.simoahava.com/analytics/create-slack-notification-system-google-tag-manager-changes/</link><pubDate>Mon, 02 Mar 2020 09:00:00 +0200</pubDate><guid>https://www.simoahava.com/analytics/create-slack-notification-system-google-tag-manager-changes/</guid><description>&lt;p>Until recently, I had a feature on &lt;a href="https://www.gtmtools/">GTM Tools&lt;/a> that polled the user&amp;rsquo;s &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> container(s) for a recently published version. If one was found, a notification was sent to a &lt;a href="https://www.slack.com/apps/">Slack app&lt;/a>, which forwarded it to a workspace and channel of the user&amp;rsquo;s choice.&lt;/p>
&lt;p>This was fine, except for the fact that polling the GTM and Slack APIs for dozens upon dozens of containers is a total resource hog, and the only way I can maintain GTM Tools is it doesn&amp;rsquo;t have API leaks like that.&lt;/p></description></item><item><title>#GTMTips: Collect ISP As A Custom Dimension In Google Analytics</title><link>https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/</link><pubDate>Mon, 10 Feb 2020 09:34:32 +0200</pubDate><guid>https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Update 6 April 2020&lt;/strong>: I updated the template in the gallery to the latest version of the &lt;a href="https://ipgeolocation.io/documentation/ip-geolocation-api-jquery-sdk.html">IP Geolocation API SDK&lt;/a>, which no longer requires jQuery. Also, the SDK now handles API request caching to browser storage automatically, so the &amp;ldquo;Enable Session Storage&amp;rdquo; option was added to the template.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> had been foreshadowing the deprecation of the &lt;strong>Network Domain&lt;/strong> and &lt;strong>Service Provider&lt;/strong> custom dimensions since late 2019. On &lt;strong>February 4&lt;/strong>, the plug was finally pulled, and both these dimensions started flatlining to &lt;code>(not set)&lt;/code> in Google Analytics reports. For more information about this, see these articles:&lt;/p></description></item><item><title>#GTMTips: Get Latest Exchange Rates For Client-side Conversions</title><link>https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/</link><pubDate>Wed, 07 Aug 2019 13:00:43 +0300</pubDate><guid>https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/</guid><description>&lt;p>It&amp;rsquo;s been a while since I&amp;rsquo;ve last written a bona fide &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> &lt;strong>trick&lt;/strong>, so here comes. This was inspired by Bart Gibby&amp;rsquo;s question in &lt;a href="https://www.measure.chat/">Measure Slack&lt;/a>.&lt;/p>
&lt;p>The purpose is to fetch the latest currency exchange rates from the &lt;a href="https://exchangeratesapi.io">exchangeratesapi.io&lt;/a> service, cache them using &lt;code>sessionStorage&lt;/code>, and push the results into &lt;code>dataLayer&lt;/code>. From &lt;code>dataLayer&lt;/code>, they can then be utilized in Custom JavaScript variables and custom variable templates to perform client-side conversions. I&amp;rsquo;ll show you how!&lt;/p></description></item><item><title>DIY Google Ads Account Monitor With R, AdWords API, And Slack API</title><link>https://www.simoahava.com/web-development/monitor-google-ads-accounts-r-adwords-api-slack-api/</link><pubDate>Wed, 17 Apr 2019 09:00:00 +0300</pubDate><guid>https://www.simoahava.com/web-development/monitor-google-ads-accounts-r-adwords-api-slack-api/</guid><description>&lt;p>Every now and then I&amp;rsquo;m fortunate enough to be able to publish &lt;a href="https://www.simoahava.com/tags/guest-post/">guest posts&lt;/a> by illustrious people in the analytics and digital marketing industries. This time, I get to work with an old colleague of mine who&amp;rsquo;s a veritable wizard when it comes to building solutions that make our daily work in the digital industry so much smoother.&lt;/p>
&lt;p>&lt;strong>Erik GrÃ¶nroos&lt;/strong> works as an analyst in &lt;a href="https://markkinointiakatemia.fi/">MarkkinointiAkatemia&lt;/a>, a Finnish digital customer acquisition agency. Erik&amp;rsquo;s job is to utilize data and analytics to help grow the agency as well as the companies of the clients he works with.&lt;/p></description></item><item><title>Workspace Mode In GTM Tools</title><link>https://www.simoahava.com/analytics/workspace-mode-gtm-tools/</link><pubDate>Tue, 02 Oct 2018 09:41:28 +0300</pubDate><guid>https://www.simoahava.com/analytics/workspace-mode-gtm-tools/</guid><description>&lt;p>It&amp;rsquo;s time for a big feature update to my &lt;a href="https://www.gtmtools.com/">GTM Tools&lt;/a>, a free tool for managing your &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> containers, tags, triggers, variables, and now: &lt;strong>workspaces&lt;/strong>.&lt;/p>



&lt;div style="aspect-ratio: 2310 / 1480;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2018/10/gtm-tools-workspace-mode.jpg" title="Workspace mode for GTM Tools">
 
 &lt;img class="fig-img" height="1480" width="2310" loading="lazy" src="https://www.simoahava.com/images/2018/10/gtm-tools-workspace-mode.jpg#ZgotmplZ" alt="Workspace mode for GTM Tools">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>In this article, I&amp;rsquo;ll quickly go over the main features of &lt;strong>Workspace mode&lt;/strong>. Be sure to check out the updated &lt;a href="https://www.simoahava.com/analytics/gtm-tools-release-notes-and-user-guide/">Release Notes &amp;amp; User Guide&lt;/a>.&lt;/p>
&lt;!-- toc -->
&lt;h2 id="introduction">Introduction&lt;/h2>
&lt;p>First of all, you can access &lt;strong>Workspace mode&lt;/strong> through the container selection screen, or via the container page:&lt;/p></description></item><item><title>New Tools Released</title><link>https://www.simoahava.com/analytics/new-tools-released/</link><pubDate>Fri, 12 Jan 2018 08:32:46 +0200</pubDate><guid>https://www.simoahava.com/analytics/new-tools-released/</guid><description>&lt;p>Over the past few weeks, I&amp;rsquo;ve been coding like crazy. The three biggest outcomes of this frenzy have been this new blog design (switched finally away from &lt;a href="https://wordpress.org/">WordPress&lt;/a> and took the plunge back into the world static sites using &lt;a href="https://gohugo.io">Hugo&lt;/a>), a new &lt;a href="https://www.simoahava.com/tools/gtm-tools-by-simo-ahava/">Google Sheets add-on for managing Google Tag Manager containers and assets&lt;/a>, and a &lt;a href="https://slack.com/">Slack&lt;/a> integration in &lt;a href="https://www.gtmtools.com/">GTM Tools&lt;/a>. In this article, I&amp;rsquo;ll quickly introduce the last two, as I&amp;rsquo;m writing a separate article about the site redesign.&lt;/p></description></item><item><title>GTM Tools: Release Notes And User Guide</title><link>https://www.simoahava.com/analytics/gtm-tools-release-notes-and-user-guide/</link><pubDate>Mon, 03 Apr 2017 08:52:28 +0000</pubDate><guid>https://www.simoahava.com/analytics/gtm-tools-release-notes-and-user-guide/</guid><description>&lt;p>With the &lt;a href="https://www.simoahava.com/analytics/google-tag-manager-api-v2-released/">release&lt;/a> of the latest &lt;a href="https://developers.google.com/tag-manager/api/v2/">Google Tag Manager API&lt;/a> version, it&amp;rsquo;s time to release the new version of &lt;a href="https://www.gtmtools.com/">GTM Tools&lt;/a>. Most of the changes have been done under the hood, with the entire codebase refactored for improved stability.&lt;/p>
&lt;p>I &lt;a href="https://www.simoahava.com/analytics/introducing-gtm-tools/">released the first toolset&lt;/a> in October 2014, and &lt;a href="https://www.simoahava.com/analytics/release-gtm-tools-v2-0/">quickly released an updated UI&lt;/a> a few months later. Aside from a few bug fixes and stability improvements, the tools have remained largely unchanged since then. Now with the new API version, it was time to update the tools again.&lt;/p></description></item><item><title>Google Tag Manager API V2 Released</title><link>https://www.simoahava.com/analytics/google-tag-manager-api-v2-released/</link><pubDate>Fri, 31 Mar 2017 12:16:49 +0000</pubDate><guid>https://www.simoahava.com/analytics/google-tag-manager-api-v2-released/</guid><description>&lt;p>&lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> has a very nifty &lt;a href="http://online-behavior.com/analytics/tag-manager-api">programmatic API&lt;/a> that lets you do almost anything that&amp;rsquo;s also possible within the GTM UI. I&amp;rsquo;ve used the API a lot, most notably for my &lt;a href="http://www.gtmtools.com/">GTM Tools&lt;/a>, which might be getting a new release soon, too!&lt;/p>
&lt;p>The API was recently updated to its &lt;a href="https://developers.google.com/tag-manager/api/v2/">second release version&lt;/a> (V2), and in this article I want to go over the additions, removals, and changes that the new version introduced.&lt;/p></description></item><item><title>Mixcloud Player Tracking In Google Tag Manager</title><link>https://www.simoahava.com/analytics/mixcloud-player-integration-google-tag-manager/</link><pubDate>Mon, 20 Feb 2017 15:22:50 +0000</pubDate><guid>https://www.simoahava.com/analytics/mixcloud-player-integration-google-tag-manager/</guid><description>&lt;p>A couple of years ago I wrote &lt;a href="https://www.simoahava.com/analytics/google-tag-manager-soundcloud-integration/">an article&lt;/a> on tracking interactions with the &lt;a href="https://soundcloud.com/">SoundCloud&lt;/a> widget via &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>. When a platform provides a JavaScript embed API, it&amp;rsquo;s surprisingly easy to track interactions with the player. You&amp;rsquo;ve seen this with &lt;a href="https://www.bounteous.com/insights/2015/05/11/updated-youtube-tracking-google-analytics-gtm/">YouTube&lt;/a>, with SoundCloud, with &lt;a href="https://www.thyngster.com/jwplayer-video-tracking-using-google-tag-manager/">JWPlayer&lt;/a>, and now you&amp;rsquo;ll see how to do this with the &lt;a href="https://www.mixcloud.com/">Mixcloud&lt;/a> player.&lt;/p>



&lt;div style="aspect-ratio: 2572 / 328;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2017/02/mixcloud.jpg" title="Mixcloud player">
 
 &lt;img class="fig-img" height="328" width="2572" loading="lazy" src="https://www.simoahava.com/images/2017/02/mixcloud.jpg#ZgotmplZ" alt="Mixcloud player">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>If you don&amp;rsquo;t know what Mixcloud is, well it&amp;rsquo;s a hugely popular streaming service for DJs, podcasts, radio shows, and other published radio media. Since they offer a &lt;a href="http://support.mixcloud.com/customer/portal/articles/1672993-wordpress-how-to-embed-a-mixcloud-widget-into-wordpress">handy embed solution&lt;/a> for any show you like, it makes sense to start tracking if people are actually using the widget, right?&lt;/p></description></item><item><title>Spam Filter Insertion Tool</title><link>https://www.simoahava.com/analytics/spam-filter-insertion-tool/</link><pubDate>Wed, 06 May 2015 18:04:46 +0000</pubDate><guid>https://www.simoahava.com/analytics/spam-filter-insertion-tool/</guid><description>&lt;p>Last weekend, I wrote a very simple web app that automatically creates a number of referral spam filters to tackle the problem that seems to have everybody all riled up.&lt;/p>



&lt;div style="aspect-ratio: 2878 / 1046;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2015/05/spam-filter-installer.jpg" title="Spam Filter Installer Tool">
 
 &lt;img class="fig-img" height="1046" width="2878" loading="lazy" src="https://www.simoahava.com/images/2015/05/spam-filter-installer.jpg#ZgotmplZ" alt="Spam Filter Installer Tool">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>For a nice recap of the situation, take a look at &lt;a href="http://www.jeffalytics.com/google-analytics-data-quality-issue/">this post by Jeff Sauer&lt;/a>, or &lt;a href="http://www.analyticsedge.com/2014/12/removing-referral-spam-google-analytics/">this article by Mike Sullivan&lt;/a>.&lt;/p>
&lt;p>This isn&amp;rsquo;t an opinion piece, even though I&amp;rsquo;ve got a great number of opinions about this issue. If you want to read some discussion surrounding this, take a look at &lt;a href="https://plus.google.com/+StephaneHamel-immeria/posts/RckvNxRjF4u">this Google+ thread&lt;/a>.&lt;/p></description></item><item><title>Send Weather Data To Google Analytics In GTM V2</title><link>https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/</link><pubDate>Thu, 19 Mar 2015 09:48:55 +0000</pubDate><guid>https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/</guid><description>&lt;p>In 2013, I wrote &lt;a href="https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/">a guide&lt;/a> for Universal Analytics and &lt;a href="http://tagmanager.google.com">Google Tag Manager&lt;/a> on how to poll for weather conditions, and send this information to &lt;a href="http://analytics.google.com">Google Analytics&lt;/a> as a custom dimension of the session. The guide was intended as a technical introduction to Google Tag Manager, and I think it succeeded in that.&lt;/p>
&lt;p>However, GTM has &lt;a href="https://support.google.com/tagmanager/answer/4620708?hl=en">changed a lot&lt;/a> over the last 1.5 years, and I&amp;rsquo;ve made some improvements to the method along the way. So I wanted to update the guide for &lt;a href="http://analytics.blogspot.fi/2014/10/making-tag-management-more-accessible.html">the new version&lt;/a> of Google Tag Manager (V2), and introduce some changes to the code that make it more flexible and efficient.&lt;/p></description></item><item><title>Introducing GTM Tools</title><link>https://www.simoahava.com/analytics/introducing-gtm-tools/</link><pubDate>Thu, 16 Oct 2014 12:12:42 +0000</pubDate><guid>https://www.simoahava.com/analytics/introducing-gtm-tools/</guid><description>&lt;p>&lt;em>I&amp;rsquo;ve written a &lt;a href="https://www.simoahava.com/analytics/release-gtm-tools-v2-0/">completely revamped version&lt;/a> of this toolset for Google Tag Manager V2.&lt;/em>&lt;/p>
&lt;p>Well, I just yesterday published the first of my GTM API tools (the &lt;a href="https://www.simoahava.com/analytics/container-visualizer-google-tag-manager/">Container Visualizer&lt;/a>), and I vowed that I wouldn&amp;rsquo;t release the other tools for a number of reasons.&lt;/p>
&lt;p>The reasons were good, in my opinion (especially the part about the tools being ugly as crap), but on the other hand I don&amp;rsquo;t want to keep anyone away from the amazing potential of the new API.&lt;/p></description></item><item><title>Container Visualizer for Google Tag Manager</title><link>https://www.simoahava.com/analytics/container-visualizer-google-tag-manager/</link><pubDate>Wed, 15 Oct 2014 14:00:31 +0000</pubDate><guid>https://www.simoahava.com/analytics/container-visualizer-google-tag-manager/</guid><description>&lt;p>&lt;em>[UPDATE:] Quite a lot of people had trouble accessing the tool after I published this post. This should now be fixed.&lt;/em>&lt;/p>
&lt;p>So, AWESOME stuff. The new &lt;a href="http://analytics.blogspot.fi/2014/10/making-tag-management-more-accessible.html">Google Tag Manager UI and API have just rolled out&lt;/a>, and I can finally start revealing the stuff I&amp;rsquo;ve been working on :)&lt;/p>
&lt;p>I&amp;rsquo;m not going to go into the new UI in this post. I just want to give a huge thanks to the GTM team for working on the UX with such dedication. The big problem with GTM so far has been that newcomers and non-developers (and why not developers as well) don&amp;rsquo;t get the &lt;em>flow&lt;/em> of the tool. There&amp;rsquo;s no indication of &amp;ldquo;what to do next&amp;rdquo;, or &amp;ldquo;what&amp;rsquo;s taking place right now&amp;rdquo;. These are some of the things that have been remedied in this release.&lt;/p></description></item><item><title>Persist dataLayer In Google Tag Manager</title><link>https://www.simoahava.com/analytics/persist-datalayer-google-tag-manager/</link><pubDate>Mon, 01 Sep 2014 06:57:02 +0000</pubDate><guid>https://www.simoahava.com/analytics/persist-datalayer-google-tag-manager/</guid><description>&lt;p>(Update 19 November 2018: See &lt;a href="https://www.simoahava.com/analytics/persist-datalayer-across-pages/">this article&lt;/a> for a more elegant solution.)&lt;/p>
&lt;p>If you know your &lt;a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">JavaScript&lt;/a>, you know that all variables, functions, objects, resources, and data in the document get rewritten with every page load. In other words, every single page refresh builds the page from scratch, and the state of the document before the page refresh is left drifting in the ocean of oblivion.&lt;/p>
&lt;p>&lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a>&amp;rsquo;s dataLayer is also one such entity. It gets rewritten with every page load, so it&amp;rsquo;s not possible to have a dataLayer variable &lt;em>persist&lt;/em> from one page to the other without using cookies or, as I&amp;rsquo;m going to show in this guide, the &lt;a href="http://www.w3schools.com/html/html5_webstorage.asp">HTML5 Web Storage API&lt;/a>. For web analytics, this is a bit of a shame. It forces us to think of things in the scope of a single page, when rarely anything worth mentioning has a lifespan that short.&lt;/p></description></item><item><title>Block Internal Traffic With Google Tag Manager</title><link>https://www.simoahava.com/analytics/block-internal-traffic-gtm/</link><pubDate>Fri, 14 Mar 2014 11:30:08 +0000</pubDate><guid>https://www.simoahava.com/analytics/block-internal-traffic-gtm/</guid><description>&lt;p>You&amp;rsquo;ve probably come across a &lt;a href="http://www.seerinteractive.com/blog/best-ways-to-exclude-internal-traffic-in-google-analytics">number&lt;/a> of &lt;a href="http://andygibson.us/2013/09/filter-internal-traffic-using-custom-variables/">guides&lt;/a> or posts talking about why it&amp;rsquo;s necessary to block so-called &lt;em>internal traffic&lt;/em> from your web analytics reports. The reasons are pretty solid: internal traffic does not emulate normal visitor behavior, it rarely contributes to conversions (skewing up your conversion rate), it inflates page views, and it wreaks havoc on your granular, page-by-page data.&lt;/p>
&lt;p>Internal traffic is vaguely described as &amp;ldquo;your employees&amp;rdquo;, &amp;ldquo;people really close to your brand&amp;rdquo;, &amp;ldquo;your marketing department&amp;rdquo;, &amp;ldquo;your web editors&amp;rdquo;, and so on. Basically, it should be a term which covers &lt;em>traffic that does not adequately represent trending visitor behavior on your site&lt;/em>. Most often, this is &amp;ldquo;internal&amp;rdquo;, in that it is traffic by people who generate the content. It can also be your proof-readers (wives, husbands, best friends), beta testers (wives, husbands, best friends), outreach marketers (wives, husb&amp;hellip; you get my drift).&lt;/p></description></item><item><title>Universal Analytics: Weather As A Custom Dimension</title><link>https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/</link><pubDate>Thu, 19 Sep 2013 16:51:43 +0000</pubDate><guid>https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/</guid><description>&lt;p>&lt;em>There is a new version of this post for GTM V2 &lt;a href="https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/">here&lt;/a>.&lt;/em>&lt;/p>
&lt;p>[Last updated June 2014] I&amp;rsquo;ve fallen in love with &lt;a href="https://support.google.com/analytics/answer/2790010?hl=en">Universal Analytics&lt;/a> and &lt;a href="http://www.google.com/tagmanager/">Google Tag Manager&lt;/a>. Together they form an incredibly powerful tool for marketing professionals. In most cases, I no longer need to post recommendations to my client for yet another page template revision, since with the tag manager in place, I can just add custom code via the admin panel. Add to that the power of Universal Analytics with its ultra-sensitive Measurement Protocol, and the ability to craft custom dimensions and metrics, and voila! I&amp;rsquo;m in a happy place.&lt;/p></description></item></channel></rss>