<!doctype html><html lang=en-us><head><meta name=google-site-verification content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Gtmtips | Simo Ahava's blog</title>
<script>(function(e,t,n,s){window[n]=window[n]||[],window[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(t)[0],o=e.createElement(t),a=n!="dataLayer"?"&l="+n:"";o.async=!0,o.src="https://sgtm.simoahava.com/gtm.js?id="+s+a,i.parentNode.insertBefore(o,i)})(document,"script","dataLayer","GTM-PZ7GMV9")</script><meta name=author content="Simo Ahava"><meta name=keywords content><link rel=icon href=https://www.simoahava.com/images/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/tags/gtmtips/index.xml><link rel=amphtml href=https://www.simoahava.com/amp/tags/gtmtips/><meta name=description content="Simo Ahava's blog"><meta property="og:description" content="Simo Ahava's blog"><meta property="og:type" content="blog"><meta property="og:title" content="Gtmtips"><meta property="og:url" content="https://www.simoahava.com/tags/gtmtips/"><meta property="og:site_name" content="Simo Ahava's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Gtmtips"><meta name=twitter:description content="Simo Ahava's blog"><meta name=twitter:creator content="@SimoAhava"><meta property="og:image" content="https://www.simoahava.com/images/simo.png"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/style.css></head><body><div id=blog><header id=header data-behavior=1><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=/>Simo Ahava's blog</a></div></header><nav id=sidebar data-behavior=1><div class=sidebar-container><div class=sidebar-profile><a href=/><img class=sidebar-profile-picture loading=lazy src=https://www.simoahava.com/images/simo.png alt="Author's picture"></a><h4 class=sidebar-profile-name>Simo Ahava</h4><h5 class=sidebar-profile-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/><i class="sidebar-button-icon fa fa-lg fa-home"></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/tags/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/gtm-tips/><i class="sidebar-button-icon fa fa-lg fa-magic"></i>
<span class=sidebar-button-desc>GTM Tips</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/about-simo-ahava/><i class="sidebar-button-icon fa fa-lg fa-question"></i>
<span class=sidebar-button-desc>About</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/index.xml><i class="sidebar-button-icon fa fa-lg fa-rss"></i>
<span class=sidebar-button-desc>RSS</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/tools/><i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
<span class=sidebar-button-desc>Tools</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/blog-statistics/><i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
<span class=sidebar-button-desc>Blog statistics</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/sahava target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
<span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/upcoming-talks/><i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
<span class=sidebar-button-desc>Upcoming talks</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/custom-templates/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Templates</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/newsletter/><i class="sidebar-button-icon fa fa-lg fa-bell"></i>
<span class=sidebar-button-desc>Newsletter</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://masto.measure.chat/@SimoAhava target=_blank rel="noopener me"><i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
<span class=sidebar-button-desc>Mastodon</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior=1 class=hasCoverMetaIn><section class="postShorten-group main-content-wrap"><span class=breadcrumbs>You are here: <a href=/tags/>Tags</a> / Gtmtips</span><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/>#GTMTips: Get Latest Exchange Rates For Client-side Conversions</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-08-07T13:00:43+03:00>August 7, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/#commento><comentario-count path=/gtm-tips/get-latest-exchange-rates-client-side-conversions/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>It&rsquo;s been a while since I&rsquo;ve last written a bona fide Google Tag Manager trick, so here comes. This was inspired by Bart Gibby&rsquo;s question in Measure Slack.
The purpose is to fetch the latest currency exchange rates from the exchangeratesapi.io service, cache …</p><p><a href=https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/gtm-tips/get-latest-exchange-rates-client-side-conversions/><div class=postShorten-thumbnailimg><img alt src=/images/2019/08/get-latest-currency-rates-gtm.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/gtm-tips/enable-preview-mode-safari-browser/>#GTMTips: Enable Preview Mode In The Safari Browser</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-07-24T10:32:02+03:00>July 24, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/gtm-tips/enable-preview-mode-safari-browser/#commento><comentario-count path=/gtm-tips/enable-preview-mode-safari-browser/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>With Intelligent Tracking Prevention, the Safari browser is on a crusade against cross-site tracking. One of the most obvious and long-standing ways to battle cross-site tracking has been to block third-party cookies in the web browser, and this is exactly what Safari does by …</p><p><a href=https://www.simoahava.com/gtm-tips/enable-preview-mode-safari-browser/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/gtm-tips/enable-preview-mode-safari-browser/><div class=postShorten-thumbnailimg><img alt src=/images/2019/07/enable-preview-mode-in-the-safari-browser.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/gtm-tips/introducing-gtm-templates-library/>#GTMTips: Introducing The GTM Templates Library</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-07-23T11:51:06+03:00>July 23, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/gtm-tips/introducing-gtm-templates-library/#commento><comentario-count path=/gtm-tips/introducing-gtm-templates-library/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>When Custom Templates were released in Google Tag Manager, many of us active in the GTM communities started doing two things: 1) creating our own custom templates, and 2) waiting patiently for Google to release a &ldquo;gallery&rdquo; or &ldquo;library&rdquo; for distributing …</p><p><a href=https://www.simoahava.com/gtm-tips/introducing-gtm-templates-library/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/gtm-tips/introducing-gtm-templates-library/><div class=postShorten-thumbnailimg><img alt src=/images/2019/07/gtm-templates-library.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/>#GTMTips: Send Page Visibility State To Google Analytics</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-06-18T09:07:40+03:00>June 18, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/#commento><comentario-count path=/analytics/send-page-visibility-state-to-ga/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of my pet peeves about Google Analytics has to do with nomenclature. For example, a User isn&rsquo;t really a user but a browser instance, and Direct traffic isn&rsquo;t necessarily &ldquo;direct&rdquo; at all, but rather just traffic that has no discernible source. But being …</p><p><a href=https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/><div class=postShorten-thumbnailimg><img alt src=/images/2019/06/send-page-visibility-state-to-ga.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/create-facebook-pixel-custom-tag-template/>#GTMTips: Create Facebook Pixel Custom Tag Template</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-05-23T18:05:00+03:00>May 23, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/analytics/create-facebook-pixel-custom-tag-template/#commento><comentario-count path=/analytics/create-facebook-pixel-custom-tag-template/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>After the recent release of Custom Templates for Google Tag Manager, my mind has been occupied by very little else. However, I have a nagging feeling that due to how involved the feature set is, there&rsquo;s still a lot of demystifying that needs to take place before templates …</p><p><a href=https://www.simoahava.com/analytics/create-facebook-pixel-custom-tag-template/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/create-facebook-pixel-custom-tag-template/><div class=postShorten-thumbnailimg><img alt src=/images/2019/05/create-facebook-pixel-template.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/fetch-latest-value-data-layer-variable/>#GTMTips: Fetch The Latest Value Of A Data Layer Variable</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-04-25T12:00:56+03:00>April 25, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/analytics/fetch-latest-value-data-layer-variable/#commento><comentario-count path=/analytics/fetch-latest-value-data-layer-variable/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of Google Tag Manager&rsquo;s oldest and most reliable features is that it freezes the state of Data Layer variables to the moment when the trigger event occurred. Thus, any tags firing on this trigger (and any variables resolved on this trigger event) will always have access …</p><p><a href=https://www.simoahava.com/analytics/fetch-latest-value-data-layer-variable/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/fetch-latest-value-data-layer-variable/><div class=postShorten-thumbnailimg><img alt src=/images/2019/04/fetch-latest-data-layer-variable-value.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/>#GTMTips: Create Utility Variables By Returning Functions</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-03-13T13:24:28+02:00>March 13, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/#commento><comentario-count path=/analytics/create-utility-variables-returning-functions/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>In Google Tag Manager, the Custom JavaScript variable is an anonymous function with a return statement. It does not take any parameters, and by default it&rsquo;s impossible to pass any parameters to it, because the Custom JS variable is simply resolved to whatever value the …</p><p><a href=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/><div class=postShorten-thumbnailimg><img alt src=/images/2019/03/javascript-return-function-utility.jpg></div></a></article><div class=pagination-bar><ul class=pagination><li class=pagination-prev><a class="btn btn--default btn--small" href=/tags/gtmtips/page/5/><i class="fa fa-angle-left text-base icon-mr"></i>
<span>NEWER POSTS</span></a></li><li class=pagination-next><a class="btn btn--default btn--small" href=/tags/gtmtips/page/7/><span>OLDER POSTS</span>
<i class="fa fa-angle-right text-base icon-ml"></i></a></li><li class=pagination-number>page 6 of 20</li></ul></div></section><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2026 Simo Ahava. All Rights Reserved</span></footer></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-remove"></i></div><img id=about-card-picture src=https://www.simoahava.com/images/simo.png alt="Author's picture"><h4 id=about-card-name>Simo Ahava</h4><div id=about-card-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Senior Data Advocate at Reaktor</div><div id=about-card-location><i class="fa fa-map-marker"></i><br>Finland</div></div></div><div id=cover style=background-image:url(https://www.simoahava.com/images/maisema.jpg)></div><script defer src=https://comentario.simoahava.com/comentario.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script defer src=/js/script.js></script><script>!function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),n=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");e&&(n&&(e.style.display="none"),t&&t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"}))}()</script></body></html>