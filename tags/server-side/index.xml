<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Server-Side on Simo Ahava's blog</title><link>https://www.simoahava.com/tags/server-side/</link><description>Recent content in Server-Side on Simo Ahava's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 04 Dec 2025 07:00:00 +0200</lastBuildDate><atom:link href="https://www.simoahava.com/tags/server-side/index.xml" rel="self" type="application/rss+xml"/><item><title>Run Server-side Google Tag Manager On Localhost</title><link>https://www.simoahava.com/analytics/run-server-side-google-tag-manager-localhost/</link><pubDate>Thu, 04 Dec 2025 07:00:00 +0200</pubDate><guid>https://www.simoahava.com/analytics/run-server-side-google-tag-manager-localhost/</guid><description>&lt;p>&lt;a href="https://developers.google.com/tag-platform/tag-manager/server-side">Server-side Google Tag Manager&lt;/a> is essentially a &lt;strong>server application&lt;/strong> (running on &lt;code>Node.js&lt;/code>), which Google has helpfully &lt;em>composed&lt;/em> into &lt;a href="https://console.cloud.google.com/artifacts/docker/cloud-tagging-10302018/us/gcr.io/gtm-cloud-image">a Docker image&lt;/a>.&lt;/p>
&lt;p>&lt;a href="https://www.docker.com/">Docker&lt;/a>, on the other hand, is an environment for creating, sharing, and running applications, right from the Docker platform itself.&lt;/p>
&lt;p>In short, it&amp;rsquo;s a way to &lt;em>package&lt;/em> an entire application and its execution environment, so that anyone (or any environment) can deploy a Docker container and instantly get the application up and running.&lt;/p></description></item><item><title>#GTMTips: How To Load Google Scripts From A Server Container</title><link>https://www.simoahava.com/gtmtips/new-way-load-google-scripts-server-container/</link><pubDate>Fri, 29 Aug 2025 07:00:00 +0300</pubDate><guid>https://www.simoahava.com/gtmtips/new-way-load-google-scripts-server-container/</guid><description>&lt;p>On &lt;strong>June 30, 2025&lt;/strong>, Google announced that they are consolidating how Google&amp;rsquo;s script libraries for the web (e.g. &lt;code>gtm.js&lt;/code> and &lt;code>gtag.js&lt;/code>) are loaded when using a &lt;a href="https://developers.google.com//tag-platform/tag-manager/server-side/dependency-serving?option=sgtm">server-side Google Tag Manager&lt;/a> container.&lt;/p>
&lt;p>Before, you had the &lt;strong>Web Container Client&lt;/strong> for loading the &lt;code>gtm.js&lt;/code> file, and you had the &lt;strong>Google Analytics 4 Client&lt;/strong> for loading the &lt;code>gtag.js&lt;/code> file.&lt;/p>
&lt;p>Now, you only use the former.&lt;/p>
&lt;blockquote>
&lt;p>There is also the &lt;strong>Google Tag Gateway&lt;/strong> option, which might be a better idea in case you really want to load Google&amp;rsquo;s scripts from a first-party context. Server-side Google Tag Manager isn&amp;rsquo;t necessarily the best content delivery option. Read more about the &lt;a href="https://developers.google.com/tag-platform/tag-manager/gateway/setup-guide?setup=manual">Google Tag Gateway&lt;/a> here.&lt;/p></description></item><item><title>#GTMTips: SGTM Fetches GA4 Configurations Automatically</title><link>https://www.simoahava.com/gtmtips/sgtm-fetches-ga4-configuration-automatically/</link><pubDate>Tue, 11 Feb 2025 07:06:25 +0200</pubDate><guid>https://www.simoahava.com/gtmtips/sgtm-fetches-ga4-configuration-automatically/</guid><description>&lt;p>One of the most popular use cases for &lt;a href="https://www.simoahava.com/analytics/server-side-tagging-google-tag-manager/">server-side Google Tag Manager&lt;/a>, often shared on this blog, too, is to &lt;strong>split&lt;/strong> an incoming stream into &lt;strong>multiple different endpoints&lt;/strong>.&lt;/p>
&lt;p>Since the demise of &lt;a href="https://www.simoahava.com/analytics/customtask-the-guide/">&lt;code>customTask&lt;/code>&lt;/a> for Universal Analytics (Rest In Peace!), there hasn&amp;rsquo;t really been a solid, officially supported way of splitting a single GA4 stream into multiple endpoints. This is useful in case you want to create a &amp;ldquo;global rollup&amp;rdquo; property that combines data from multiple local sites, for example.&lt;/p></description></item><item><title>Cookie Access With Shopify Checkout And SGTM</title><link>https://www.simoahava.com/analytics/cookie-access-with-shopify-checkout-sgtm/</link><pubDate>Mon, 21 Oct 2024 12:32:06 +0300</pubDate><guid>https://www.simoahava.com/analytics/cookie-access-with-shopify-checkout-sgtm/</guid><description>&lt;p>In this guide, I&amp;rsquo;ll show you how to add first-party cookie values &lt;strong>client-side&lt;/strong>, which your &lt;a href="https://www.simoahava.com/analytics/server-side-tagging-google-tag-manager/">server-side Google Tag Manager&lt;/a> processes can then access.&lt;/p>
&lt;p>You might be wondering: &amp;ldquo;Why bother?&amp;rdquo;. After all, if server-side GTM is running &lt;em>same-site&lt;/em> with the website sending the requests, why can&amp;rsquo;t it just read the cookies on its own, right?&lt;/p>
&lt;p>Well, true. But there are cases where the website and web server &lt;em>seem&lt;/em> to be same-site but are in fact not. One such case is Shopify&amp;rsquo;s &lt;a href="https://help.shopify.com/en/manual/checkout-settings/customize-checkout-configurations/checkout-extensibility">Checkout Extensibility&lt;/a>.&lt;/p></description></item><item><title>GA4 to Piwik PRO Using Server-side Google Tag Manager</title><link>https://www.simoahava.com/analytics/ga4-to-piwik-pro-using-server-side-google-tag-manager/</link><pubDate>Wed, 24 Jul 2024 07:01:00 +0300</pubDate><guid>https://www.simoahava.com/analytics/ga4-to-piwik-pro-using-server-side-google-tag-manager/</guid><description>&lt;p>There are &lt;strong>two&lt;/strong> new &lt;a href="https://www.simoahava.com/analytics/custom-templates-guide-for-google-tag-manager/">custom templates&lt;/a> available in &lt;strong>server-side Google Tag Manager&lt;/strong>. These templates have been designed to facilitate &lt;a href="https://piwik.pro/">Piwik PRO&lt;/a> tracking in a server-side container.&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Piwik PRO Client&lt;/strong> -&amp;gt; This &lt;em>Client&lt;/em> template interacts with the &lt;a href="https://developers.piwik.pro/en/latest/data_collection/web/javascript_tracking_client/index.html">Piwik PRO JavaScript tracker&lt;/a> and lets you route Piwik PRO tracking through a server-side GTM container. &lt;a href="https://github.com/PiwikPRO/server-side-template-for-gtm-v2-client">GitHub repo&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Piwik PRO&lt;/strong> -&amp;gt; The &lt;em>tag&lt;/em> template works in unison with the Piwik PRO Client, forwarding the hits to the Piwik PRO endpoint. &lt;a href="https://github.com/PiwikPRO/server-side-template-for-gtm-v2">GitHub repo&lt;/a>.&lt;/li>
&lt;/ol>
&lt;p>&lt;a href="https://www.simoahava.com/analytics/new-piwik-pro-templates-server-side-google-tag-manager/">&lt;em>Read this article to learn more about how these templates work.&lt;/em>&lt;/a>&lt;/p></description></item><item><title>New Piwik PRO Templates In Server-side Google Tag Manager</title><link>https://www.simoahava.com/analytics/new-piwik-pro-templates-server-side-google-tag-manager/</link><pubDate>Wed, 24 Jul 2024 07:00:00 +0300</pubDate><guid>https://www.simoahava.com/analytics/new-piwik-pro-templates-server-side-google-tag-manager/</guid><description>&lt;p>&lt;a href="https://piwik.pro">Piwik PRO&lt;/a> has &lt;strong>two&lt;/strong> new &lt;a href="https://www.simoahava.com/analytics/server-side-tagging-google-tag-manager/">server-side Google Tag Manager&lt;/a> templates, and this article explains what they are and how they work.&lt;/p>
&lt;p>The first template, &lt;a href="https://github.com/PiwikPRO/server-side-template-for-gtm-v2-client">&lt;strong>Piwik PRO Client&lt;/strong>&lt;/a>, is designed to work in unison with the &lt;a href="https://developers.piwik.pro/en/latest/data_collection/web/javascript_tracking_client/index.html">Piwik PRO HTTP API&lt;/a>. Most often these requests are generated by the Piwik PRO JavaScript tracker, but theoretically &lt;em>any&lt;/em> HTTP source that uses the same schema can send requests for the Client to claim. Once the Client claims the request, it generates an &lt;strong>event data object&lt;/strong> that can be consumed by tags in the server-side Google Tag Manager container.&lt;/p></description></item><item><title>First-Party Mode For Google Tags</title><link>https://www.simoahava.com/analytics/first-party-mode-google-tags/</link><pubDate>Mon, 22 Jul 2024 07:00:00 +0100</pubDate><guid>https://www.simoahava.com/analytics/first-party-mode-google-tags/</guid><description>&lt;p>Google &lt;a href="https://developers.google.com/tag-platform/tag-manager/first-party/setup-guide.md">has released&lt;/a> a new feature, &lt;strong>First-Party Mode&lt;/strong> (FPM), into public beta.&lt;/p>



&lt;div style="aspect-ratio: 3016 / 1344;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2024/07/first-party-mode-diagram.jpg" title="First-party mode">
 
 &lt;img class="fig-img" height="1344" width="3016" loading="lazy" src="https://www.simoahava.com/images/2024/07/first-party-mode-diagram.jpg#ZgotmplZ" alt="First-party mode">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>&lt;a href="https://developers.google.com/tag-platform/tag-manager/first-party/setup-guide.md">&lt;em>Image source&lt;/em>&lt;/a>&lt;/p>
&lt;p>First-Party Mode seeks to make it easier to wrap Google&amp;rsquo;s measurement and advertising technologies in a first-party, &lt;em>same-origin&lt;/em> context.&lt;/p>
&lt;p>This means that the user&amp;rsquo;s browser, when visiting a website running FPM, would no longer communicate directly with Google&amp;rsquo;s domains when fetching measurement libraries such as &lt;strong>Google Tag&lt;/strong> or &lt;strong>Google Tag Manager&lt;/strong>.&lt;/p></description></item><item><title>Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging</title><link>https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/</link><pubDate>Wed, 26 Oct 2022 07:00:00 +0300</pubDate><guid>https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/</guid><description>&lt;p>I have been a strong supporter of &lt;a href="https://www.simoahava.com/tags/#server-side-tagging-list">server-side tagging&lt;/a>, in particular Google&amp;rsquo;s &lt;a href="https://developers.google.com/tag-platform/tag-manager/server-side">server-side tag management solution&lt;/a>.&lt;/p>
&lt;p>I admire the way it seeks to readjust the balance of &lt;strong>control&lt;/strong> that typically has been in favor of the marketing vendors whose &lt;strong>JavaScript libraries&lt;/strong> have been free to wreak havoc in the user&amp;rsquo;s browser.&lt;/p>



&lt;div style="aspect-ratio: 842 / 596;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2022/10/regular-vs-server-tagging.jpg" title="Regular vs server-side tagging">
 
 &lt;img class="fig-img" height="596" width="842" loading="lazy" src="https://www.simoahava.com/images/2022/10/regular-vs-server-tagging.jpg#ZgotmplZ" alt="Regular vs server-side tagging">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>By inserting a &lt;em>buffer&lt;/em> between the user and the vendor, the owner of the server-side tagging setup can &lt;strong>take control&lt;/strong> over what data the marketing vendors can actually process of the user.&lt;/p></description></item></channel></rss>