


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <style>.async-hide { opacity: 0 !important} </style>
    <script>
      (function() {
        var optimizeId = 'GTM-NGM64B',
            gtmId = 'GTM-PZ7GMV9',
            dataLayerName = 'dataLayer',
            hideObj = {},
            hideGTMId = Math.random() < 0.5 ? optimizeId : gtmId;
            hideObj[hideGTMId] = true;

        var dPush = function(status) {
          window[dataLayerName].push({
            event: 'optimize_anti_flicker_test',
            milestones: {
              antiFlickerStart: window[dataLayerName].hide.start,
              antiFlickerEnd: new Date().getTime(),
              testStatus: status
            }
          });
        };

        (function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;h.end=i=function(){clearTimeout(t); s.className=s.className.replace(RegExp(' ?'+y),'')};(a[n]=a[n]||[]).hide=h;var t = setTimeout(function(){dPush('timeout');i();h.end=null},c);h.timeout=c;})(window,document.documentElement,'async-hide',dataLayerName,4000,hideObj);

        if (hideGTMId === optimizeId) {
          var el = document.createElement('script');
          el.src = 'https://www.googleoptimize.com/optimize.js?id=' + optimizeId;
          el.addEventListener('error', function() {
            dPush('optimizeSnippetError');
            window[dataLayerName].hide.end && window[dataLayerName].hide.end();
          });
          document.head.appendChild(el);
        } else {
          window[dataLayerName].push({
            gtmOptimize: true
          });
        }
        function gtag() {dataLayer.push(arguments)};
        gtag('event', 'optimize.callback', {
          callback: function() {
            dPush(hideGTMId === optimizeId ? 'optimizeSnippet' : 'gtmTag');
          }
        });
      })();
    </script>
    
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />



    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>JavaScript | Simo Ahava's blog</title>
    

    

    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://www.googletagmanager.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
      <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.simoahava.com/tags/javascript/index.xml">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/tags/javascript/">
    
    <meta name="description" content="Simo Ahava&#39;s blog">
    <meta property="og:description" content="Simo Ahava&#39;s blog">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="JavaScript">
    <meta property="og:url" content="https://www.simoahava.com/tags/javascript/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="JavaScript">
    <meta name="twitter:description" content="Simo Ahava&#39;s blog">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta property="og:image" content="https://www.simoahava.com/images/simo.png">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
        

      
      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        
          <section class="postShorten-group main-content-wrap">
            <span class="breadcrumbs">You are here: <a href="https://www.simoahava.com/tags/">Tags</a> / JavaScript</span>
            
            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">
          JavaScript 101 For GTM: Part 1
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-07-03T13:25:15Z">
        
  July 3, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      Here's the link to part 2 of this JavaScript guide.
The thing about Google Tag Manager, or any JavaScript tag manager for that matter, is that there's JavaScript involved. In fact, the tool itself is just a JavaScript library with some additional bells and whistles (such as a management UI). This means that to make the best of it, some knowledge of JavaScript is warranted, and that's the point of this post.
      <p>
        <a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/06/script-context.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/">
          Send Mail Upon Google Tag Manager Event
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-04-28T04:49:52Z">
        
  April 28, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      Let's say you want to set up a rudimentary email alert system in your Google Tag Manager implementation. Say, for example, you want to receive an email every time an uncaught error occurs on your website. It's not a very good use case, since a large website can spawn hundreds of uncaught exceptions in a short period of time, but let's just pretend for now.
If you know your JavaScript, you'll know that you can't send mail using client-side code.
      <p>
        <a href="https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/04/error-listener.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/google-tag-manager-dom-listener/">
          Google Tag Manager: DOM Listener
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-04-22T05:10:17Z">
        
  April 22, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/google-tag-manager-dom-listener/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      In this post, I'll walk you through a tutorial on how to create a Google Tag Manager extension. This extension will be a new listener, whose sole job is to listen for changes in the HTML and CSS markup on the page.
The reason I'm teaching you how to create a DOM listener is simple. Ever so often I come across people asking for help, but they are unable to touch on-page code.
      <p>
        <a href="https://www.simoahava.com/analytics/google-tag-manager-dom-listener/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/google-tag-manager-dom-listener/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/04/test-page.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/">
          The Container Snippet: GTM Secrets Revealed
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-03-18T07:17:31Z">
        
  March 18, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      First of all, I'm sorry for the wacky title. Sometimes I just want to amuse myself. Nevertheless, this post is about the Google Tag Manager container snippet. There's nothing secretive about it, but I'm betting many people have no clue what the snippet really does. That's the revelatory part.
If you've never wondered what the snippet does, then shame on you! Remember, you own your page template. It's yours. Any code that you write there is your responsibility.
      <p>
        <a href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/03/google-instructions.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/">
          Some Awesome Google Tag Manager Resources
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-02-26T15:06:21Z">
        
  February 26, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      When push comes to shove, I'm a pretty lazy guy. I enjoy nothing more than just to stretch my legs on a couch, pick up my iPad, and read what's going on in the world. I skip the news, since they're just full of depressing stories. Instead, I head over to my favorite Google+ communities to see what's new in the blogosphere.
  This approach has led me to some pretty amazing individuals, whom I follow like a suckerfish.
      <p>
        <a href="https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/02/suckerfish.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/dont-gtm-listeners-work/">
          Why Don&#39;t My GTM Listeners Work?
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-02-14T10:16:46Z">
        
  February 14, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/dont-gtm-listeners-work/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      Ever so often I come across a Google Tag Manager setup where GTM's own auto-event listeners don't perform the task they were supposed to. Listener problems seem to be a hot topic in Google+ and the Product Forums as well.
There may be many reasons why your listeners don't work, but a very common trend is that you have conflicting JavaScript libraries or scripts running on your page.
Let's explore how listeners work before tackling the problem.
      <p>
        <a href="https://www.simoahava.com/analytics/dont-gtm-listeners-work/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/dont-gtm-listeners-work/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/02/a-vs-document-listener.jpg"/>
      </div>
    </a>
  
</article>

            
              
  
    
  


  

<article class="postShorten postShorten--thumbnailimg-left">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title">
        <a class="link-unstyled" href="https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/">
          Universal Analytics: Fire Script Just Once Per Session
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-01-10T11:54:40Z">
        
  January 10, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/#commento">Comments</a>
  </div>


    </div>
    <div class="postShorten-excerpt">
      There is a new version of this post for GTM V2 here.
While going over my previous post about using weather conditions to segment data in Google Analytics, I started thinking about performance issues. Since I'm using a visit-scope custom dimension, it seems futile to have it send the weather details with every single page load. The odds of the weather changing drastically during one visit are slim (unless you live in the UK), and I have yet to come up with a good reason to change my on-site behavior because the weather changed from a drizzle to a downpour.
      <p>
        <a href="https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/" class="postShorten-excerpt_link link">Continue reading</a>
        
      </p>
    </div>
  </div>
  
    <a href="https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/">
      <div class="postShorten-thumbnailimg">
        <img alt="" src="https://www.simoahava.com/images/2014/01/google-tag-manager-session-macro.jpg"/>
      </div>
    </a>
  
</article>

            
            
  <div class="pagination-bar">
    <ul class="pagination">
      
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="https://www.simoahava.com/tags/javascript/page/5/">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>NEWER POSTS</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="https://www.simoahava.com/tags/javascript/page/7/">
              <span>OLDER POSTS</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
      
      <li class="pagination-number">page 6 of 7</li>
    </ul>
  </div>


          </section>
        
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>


    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>

    
  </body>
</html>

