<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Javascript on Simo Ahava's blog</title><link>https://www.simoahava.com/tags/javascript/</link><description>Recent content in Javascript on Simo Ahava's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 11 May 2020 09:55:16 +0300</lastBuildDate><atom:link href="https://www.simoahava.com/tags/javascript/index.xml" rel="self" type="application/rss+xml"/><item><title>Track Interactions In The Shadow DOM Using Google Tag Manager</title><link>https://www.simoahava.com/analytics/track-interactions-in-shadow-dom-google-tag-manager/</link><pubDate>Mon, 11 May 2020 09:55:16 +0300</pubDate><guid>https://www.simoahava.com/analytics/track-interactions-in-shadow-dom-google-tag-manager/</guid><description>&lt;p>The &lt;a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">&lt;strong>shadow DOM&lt;/strong>&lt;/a> is a way to add HTML structures to the web page so that they remain isolated from the rest of the document object model (DOM). It&amp;rsquo;s a popular concept with &lt;a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components">web components&lt;/a>, as it allows for &lt;em>encapsulation&lt;/em> of web structures so that they aren&amp;rsquo;t affected by style declarations of the parent tree, for example.&lt;/p>



&lt;div style="aspect-ratio: 1376 / 344;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2020/05/shadow-dom.jpg" title="shadow DOM">
 
 &lt;img class="fig-img" height="344" width="1376" loading="lazy" src="https://www.simoahava.com/images/2020/05/shadow-dom.jpg#ZgotmplZ" alt="shadow DOM">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>However, being such a &amp;ldquo;hidden&amp;rdquo; structure, anything that happens in the shadow DOM is also hidden from Google Tag Manager&amp;rsquo;s listeners. Or, the click &lt;em>does&lt;/em> get registered, but the event target (&lt;strong>{{Click Element}}&lt;/strong>) is the node on the parent structure that &lt;em>hosts&lt;/em> the shadow DOM rather than the element that was clicked &lt;em>within&lt;/em> the shadow DOM.&lt;/p></description></item><item><title>#GTMTips: Send Page Visibility State To Google Analytics</title><link>https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/</link><pubDate>Tue, 18 Jun 2019 09:07:40 +0300</pubDate><guid>https://www.simoahava.com/analytics/send-page-visibility-state-to-ga/</guid><description>&lt;p>One of my pet peeves about &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> has to do with nomenclature. For example, a &lt;strong>User&lt;/strong> isn&amp;rsquo;t really a user but a &lt;strong>browser instance&lt;/strong>, and &lt;strong>Direct&lt;/strong> traffic isn&amp;rsquo;t necessarily &amp;ldquo;direct&amp;rdquo; at all, but rather just traffic that has no discernible source. But being so invested in &lt;strong>content&lt;/strong> analytics, my biggest gripe has to do with &lt;strong>Pageviews&lt;/strong>.&lt;/p>
&lt;p>A &lt;strong>Pageview&lt;/strong> in Google Analytics is collected when a hit with the hit type &lt;code>pageview&lt;/code> is received successfully by the Google Analytics endpoint. This hit is dispatched most often with a JavaScript library such as &lt;a href="https://tagmanager.google.com">Google Tag Manager&lt;/a> or &lt;a href="https://developers.google.com/analytics/devguides/collection/gtagjs/">gtag.js&lt;/a>.&lt;/p></description></item><item><title>Google Tag Manager And jQuery</title><link>https://www.simoahava.com/analytics/google-tag-manager-and-jquery/</link><pubDate>Wed, 20 Feb 2019 10:41:55 +0200</pubDate><guid>https://www.simoahava.com/analytics/google-tag-manager-and-jquery/</guid><description>&lt;p>The &lt;a href="https://jquery.com/">jQuery&lt;/a> JavaScript library is by almost any means of counting the &lt;a href="https://trends.builtwith.com/javascript/jQuery">most popular JavaScript library&lt;/a> used in websites around the world. It&amp;rsquo;s so influential, in fact, that its evolution is tightly bound to the JavaScript standardization effort itself, and it&amp;rsquo;s an integral part of the &lt;a href="https://js.foundation/">JS Foundation&amp;rsquo;s&lt;/a> efforts to build a community for JavaScript developers.&lt;/p>



&lt;div style="aspect-ratio: 2424 / 506;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg" title="jQuery and Google Tag Manager">
 
 &lt;img class="fig-img" height="506" width="2424" loading="lazy" src="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg#ZgotmplZ" alt="jQuery and Google Tag Manager">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>&lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>, similarly, is the most &lt;a href="https://trends.builtwith.com/widgets/Google-Tag-Manager">popular tag management system&lt;/a> used in websites, globally. Thus, by way of weak correlation, it makes sense to expect some synergy between the two.&lt;/p></description></item><item><title>#GTMTips: Trigger Javascript Function Without Using A Custom HTML Tag</title><link>https://www.simoahava.com/analytics/trigger-javascript-without-using-custom-html-tag/</link><pubDate>Thu, 17 Jan 2019 19:39:15 +0200</pubDate><guid>https://www.simoahava.com/analytics/trigger-javascript-without-using-custom-html-tag/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Last updated 9 October 2020&lt;/strong>: &lt;code>customTask&lt;/code> updated to a more stable version.&lt;/p>
&lt;/blockquote>
&lt;p>The &lt;strong>Custom HTML tag&lt;/strong> in &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> is splendid. It&amp;rsquo;s your go-to tool when you need to run arbitrary JavaScript on the webpage. Some might even use it to actually add HTML elements to the page, but I&amp;rsquo;m willing to bet running JavaScript is its most common use.&lt;/p>
&lt;p>However, there&amp;rsquo;s a downside to Custom HTML tags, which is only made more apparent on single-page apps which do not clear the full page when transitioning from one state to another. Custom HTML tags are &lt;strong>injected to the end of &lt;code>&amp;lt;body&amp;gt;&lt;/code>&lt;/strong>, which means you might end up with a &lt;strong>lot&lt;/strong> of clutter in your Document Object Model.&lt;/p></description></item><item><title>#GTMTips: Search dataLayer For A Key-Value Pair</title><link>https://www.simoahava.com/analytics/search-datalayer-for-key-value-pair/</link><pubDate>Tue, 06 Nov 2018 10:05:27 +0200</pubDate><guid>https://www.simoahava.com/analytics/search-datalayer-for-key-value-pair/</guid><description>&lt;p>One of the difficulties of working with &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> and the &lt;a href="https://www.simoahava.com/analytics/data-layer/">&lt;code>dataLayer&lt;/code> structure&lt;/a> is that GTM doesn&amp;rsquo;t preserve &lt;strong>history&lt;/strong> of the items collected into its &lt;a href="https://www.simoahava.com/analytics/google-tag-manager-data-model/">data model&lt;/a>. Or, at least, it doesn&amp;rsquo;t preserve it in a manner that would let us access it.&lt;/p>
&lt;p>This is typically a very niche problem, but it does surface every now and then. For example, say you wanted to query whether an &lt;code>event&lt;/code> with some specific value has already been pushed into &lt;code>dataLayer&lt;/code>. Well, this is impossible, since any &lt;code>event&lt;/code> you use to trigger this check would overwrite this previous &lt;code>event&lt;/code> value in the data model (since any given key can only have one value at a time).&lt;/p></description></item><item><title>Customize The Scroll Depth Trigger In Google Tag Manager</title><link>https://www.simoahava.com/analytics/customize-scroll-depth-trigger/</link><pubDate>Thu, 08 Mar 2018 09:44:33 +0200</pubDate><guid>https://www.simoahava.com/analytics/customize-scroll-depth-trigger/</guid><description>&lt;p>&lt;em>Last updated 9 March 2018 with some new tips.&lt;/em>&lt;/p>
&lt;p>The &lt;a href="https://www.simoahava.com/analytics/scroll-depth-trigger-google-tag-manager/">Scroll Depth trigger&lt;/a> in &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> has a lot going for it. Tracking how far users scroll down a given page has &lt;a href="http://cutroni.com/blog/2014/02/12/advanced-content-tracking-with-universal-analytics/">long since&lt;/a> been recognized as an important cog in the &lt;em>engagement tracking&lt;/em> machine, and there have been &lt;a href="http://scrolldepth.parsnip.io/">really&lt;/a> &lt;a href="https://www.bounteous.com/labs/recipes/scroll-tracking/">great&lt;/a> solutions for implementing scroll depth tracking for web analytics over the years.&lt;/p>
&lt;p>With Google Tag Manager&amp;rsquo;s native Scroll Depth trigger, it&amp;rsquo;s tempting to think we now have a be-all end-all solution that covers all the bases. However, as with everything else in analytics, the native scroll depth trigger does require customization to provide you with relevant information about your content and the visitors interacting with it.&lt;/p></description></item><item><title>#GTMTips: Add HTML Elements To The Page Programmatically</title><link>https://www.simoahava.com/analytics/add-html-elements-page-programmatically/</link><pubDate>Fri, 02 Mar 2018 09:00:52 +0200</pubDate><guid>https://www.simoahava.com/analytics/add-html-elements-page-programmatically/</guid><description>&lt;p>One of the annoying quirks of &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> is that it strips out any non-standard HTML attributes from elements you add to Custom HTML tags. I&amp;rsquo;m using &amp;ldquo;non-standard&amp;rdquo; as a qualifier here, because I don&amp;rsquo;t have an exhaustive list of attributes that are ignored. But at least &lt;strong>data attributes&lt;/strong> (e.g. &lt;code>data-id&lt;/code>) and attributes with custom names (e.g. &lt;code>aria-labelledby&lt;/code>) are either stripped out upon injection, or GTM might actually prevent you from even saving the container if the Custom HTML tag has elements with these attributes.&lt;/p></description></item><item><title>#GTMTips: Simple Custom Event Listeners With Google Tag Manager</title><link>https://www.simoahava.com/analytics/simple-custom-event-listeners-gtm/</link><pubDate>Tue, 23 Jan 2018 12:12:01 +0200</pubDate><guid>https://www.simoahava.com/analytics/simple-custom-event-listeners-gtm/</guid><description>&lt;p>First of all, check out &lt;a href="https://www.simoahava.com/analytics/custom-event-listeners-gtm/">this article&lt;/a> for an overview of how custom event listeners work in &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>. The reason I&amp;rsquo;m writing this &lt;a href="https://www.simoahava.com/tags/gtmtips/">#GTMTips&lt;/a> article is that I want to upgrade the solution slightly, and I want to bring it back into the spotlight. Why? Because it&amp;rsquo;s still one of the most effective ways to customize your Google Tag Manager implementation.&lt;/p>
&lt;p>A &lt;strong>custom event listener&lt;/strong> is a handler you write with JavaScript. It lets you handle any &lt;a href="https://developer.mozilla.org/en-US/docs/Web/Events">JavaScript DOM events&lt;/a>, such as click, form submit, mouse hover, drag, touch, error, page load and unload, and so many more. It also lets you leverage the &lt;code>useCapture&lt;/code> parameter which will prove very helpful if you have &lt;a href="https://www.simoahava.com/gtm-tips/fix-problems-with-gtm-listeners/">other JavaScript on the site interfering&lt;/a> with GTM&amp;rsquo;s default event &lt;a href="https://www.simoahava.com/analytics/trigger-guide-google-tag-manager/">triggers&lt;/a>.&lt;/p></description></item><item><title>#GTMTips: Add A Load Listener To Script Elements</title><link>https://www.simoahava.com/gtm-tips/add-load-listener-script-elements/</link><pubDate>Tue, 12 Dec 2017 11:21:51 +0200</pubDate><guid>https://www.simoahava.com/gtm-tips/add-load-listener-script-elements/</guid><description>&lt;p>One of the challenges in working with &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> (or any JavaScript-based platform for that matter) is what to do with &lt;a href="https://www.simoahava.com/analytics/google-analytics-page-load/">race conditions&lt;/a>. A &lt;strong>race condition&lt;/strong> emerges when you have two resources competing for execution in the browser, and there is a degree of unpredictability to which &amp;ldquo;wins&amp;rdquo; the race.&lt;/p>
&lt;p>A prime example is working with &lt;a href="https://www.jquery.com/">jQuery&lt;/a>. It&amp;rsquo;s one of the most popular JavaScript libraries out there, and websites utilize it for a multitude of things, many useful for Google Tag Manager, too. For example, jQuery trivializes &lt;a href="http://api.jquery.com/jquery.ajax/">asynchronous HTTP requests&lt;/a> and &lt;a href="https://api.jquery.com/category/traversing/">DOM traversal&lt;/a>, both of which can cause headaches to GTM users.&lt;/p></description></item><item><title>#GTMTips: Remove PII From Google Analytics Hits</title><link>https://www.simoahava.com/gtm-tips/remove-pii-google-analytics-hits/</link><pubDate>Thu, 31 Aug 2017 14:31:10 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/remove-pii-google-analytics-hits/</guid><description>&lt;p>Sending &lt;strong>personally identifiable information&lt;/strong> (PII) to &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> is one of the things you should really avoid doing. For one, it&amp;rsquo;s against the terms of service of the platform, but also you will most likely be in violation of national, federal, or EU legislation drafted to protect the privacy of individuals online.&lt;/p>
&lt;p>In this &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> post, I&amp;rsquo;ll show you a way to make sure that any tags you configure this solution with will not contain strings that might be construed as PII. The tip is for &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>, but with very little modifications it will work with Universal Analytics, too.&lt;/p></description></item><item><title>Track Users Who Are Offline In Google Analytics</title><link>https://www.simoahava.com/analytics/track-users-who-are-offline-in-google-analytics/</link><pubDate>Mon, 28 Aug 2017 08:19:25 +0000</pubDate><guid>https://www.simoahava.com/analytics/track-users-who-are-offline-in-google-analytics/</guid><description>&lt;p>The steady increase in mobile use over the last years has introduced some new challenges for web analytics. It&amp;rsquo;s not just about mismatches in the tracking model (the concept of &lt;a href="https://www.simoahava.com/analytics/the-schema-conspiracy/">&lt;em>sessions&lt;/em>&lt;/a> is even more absurd for apps than it is for desktop browsing), but about something more fundamental, more basic. Think about it: if a visitor visits the website using a mobile device, there&amp;rsquo;s a significant chance of them losing internet connectivity and going unintentionally offline.&lt;/p></description></item><item><title>Two New Unofficial GA Add-ons For Google Sheets</title><link>https://www.simoahava.com/analytics/two-new-unofficial-ga-add-ons-for-google-sheets/</link><pubDate>Mon, 21 Aug 2017 09:26:17 +0000</pubDate><guid>https://www.simoahava.com/analytics/two-new-unofficial-ga-add-ons-for-google-sheets/</guid><description>&lt;p>More often than not, much of what we do in web analytics can be automated. This applies especially to implementations, audits, configurations, and reporting. So when I&amp;rsquo;m faced with a menial, manual task that might take hours for me to complete if done by hand, I always look at what could be done with some scripting and API work. I want to introduce a couple of &lt;a href="https://sheets.google.com/">Google Sheets&lt;/a> add-ons I&amp;rsquo;ve written and released to the public. They both automate tasks which I found completely ridiculous to do by hand.&lt;/p></description></item><item><title>#GTMTips: Create String From Multiple Object Properties</title><link>https://www.simoahava.com/gtm-tips/create-string-multiple-object-properties/</link><pubDate>Mon, 31 Jul 2017 07:56:34 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/create-string-multiple-object-properties/</guid><description>&lt;p>&lt;a href="https://developers.facebook.com/docs/facebook-pixel/">Facebook&amp;rsquo;s pixel&lt;/a> has an attribute named &lt;code>content_ids&lt;/code> (required for &lt;a href="https://developers.facebook.com/docs/marketing-api/dynamic-ad">Dynamic Ads&lt;/a>), which requires an Array of content IDs as its value. It&amp;rsquo;s very possible you&amp;rsquo;re running this pixel on a site which already has &lt;a href="https://developers.google.com/tag-manager/enhanced-ecommerce">Enhanced Ecommerce&lt;/a> for Universal Analytics implemented, and now you want to use the same Enhanced Ecommerce data that your developers have already made available in this Facebook pixel.&lt;/p>
&lt;p>Or perhaps you want to concatenate a list of strings, such as article tags (&lt;code>['culture', 'politics']&lt;/code>), and send it as a comma-separated string to Google Analytics (&lt;code>'culture,politics'&lt;/code>).&lt;/p></description></item><item><title>100+ Google Tag Manager Learnings</title><link>https://www.simoahava.com/analytics/100-google-tag-manager-learnings/</link><pubDate>Wed, 01 Mar 2017 10:18:43 +0000</pubDate><guid>https://www.simoahava.com/analytics/100-google-tag-manager-learnings/</guid><description>&lt;p>I&amp;rsquo;ve always been proud to avoid the typical headline clickbait of &amp;ldquo;Ultimate guide to pigeon care&amp;rdquo;, &amp;ldquo;All you need to know about the Great Vowel Shift&amp;rdquo;, &amp;ldquo;Did you know that you&amp;rsquo;ve been smoking peyote wrong your whole life?&amp;rdquo;. I&amp;rsquo;m ready to make an exception now by adding a BIG WHOPPING NUMBER to the title. You see, the amount of knowledge one can accumulate about anything they do on a daily basis is mind-blowing. It helps if you write a blog about the topic, since creative output is a great way to organize your thoughts. It also helps to be active in community support, since problem-solving is an excellent way to accumulate new skills and to hone the edge of your existing talent.&lt;/p></description></item><item><title>Mixcloud Player Tracking In Google Tag Manager</title><link>https://www.simoahava.com/analytics/mixcloud-player-integration-google-tag-manager/</link><pubDate>Mon, 20 Feb 2017 15:22:50 +0000</pubDate><guid>https://www.simoahava.com/analytics/mixcloud-player-integration-google-tag-manager/</guid><description>&lt;p>A couple of years ago I wrote &lt;a href="https://www.simoahava.com/analytics/google-tag-manager-soundcloud-integration/">an article&lt;/a> on tracking interactions with the &lt;a href="https://soundcloud.com/">SoundCloud&lt;/a> widget via &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>. When a platform provides a JavaScript embed API, it&amp;rsquo;s surprisingly easy to track interactions with the player. You&amp;rsquo;ve seen this with &lt;a href="https://www.bounteous.com/insights/2015/05/11/updated-youtube-tracking-google-analytics-gtm/">YouTube&lt;/a>, with SoundCloud, with &lt;a href="https://www.thyngster.com/jwplayer-video-tracking-using-google-tag-manager/">JWPlayer&lt;/a>, and now you&amp;rsquo;ll see how to do this with the &lt;a href="https://www.mixcloud.com/">Mixcloud&lt;/a> player.&lt;/p>



&lt;div style="aspect-ratio: 2572 / 328;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2017/02/mixcloud.jpg" title="Mixcloud player">
 
 &lt;img class="fig-img" height="328" width="2572" loading="lazy" src="https://www.simoahava.com/images/2017/02/mixcloud.jpg#ZgotmplZ" alt="Mixcloud player">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>If you don&amp;rsquo;t know what Mixcloud is, well it&amp;rsquo;s a hugely popular streaming service for DJs, podcasts, radio shows, and other published radio media. Since they offer a &lt;a href="http://support.mixcloud.com/customer/portal/articles/1672993-wordpress-how-to-embed-a-mixcloud-widget-into-wordpress">handy embed solution&lt;/a> for any show you like, it makes sense to start tracking if people are actually using the widget, right?&lt;/p></description></item><item><title>Automated Tests For Google Tag Manager's dataLayer</title><link>https://www.simoahava.com/analytics/automated-tests-for-google-tag-managers-datalayer/</link><pubDate>Tue, 24 Jan 2017 10:37:43 +0000</pubDate><guid>https://www.simoahava.com/analytics/automated-tests-for-google-tag-managers-datalayer/</guid><description>&lt;p>One of the biggest fears I have as a &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> user is a broken release of the website (or app) on which I have deployed GTM. Far too often, lack of proper communication practices within an organization lead to a release being pushed out without thoroughly testing how this release impacts any existing tracking solutions.&lt;/p>



&lt;div style="aspect-ratio: 980 / 362;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2017/01/dataLayer-undefined.jpg" title="run automated tests against dataLayer">
 
 &lt;img class="fig-img" height="362" width="980" loading="lazy" src="https://www.simoahava.com/images/2017/01/dataLayer-undefined.jpg#ZgotmplZ" alt="run automated tests against dataLayer">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>Luckily there are ways to mitigate this. The most significant and impactful precautions you can take are all about &lt;a href="https://www.simoahava.com/analytics/from-project-to-process/">process&lt;/a>:&lt;/p></description></item><item><title>#GTMTips: 10 Useful Custom JavaScript Tricks</title><link>https://www.simoahava.com/gtm-tips/10-useful-custom-javascript-tricks/</link><pubDate>Wed, 18 Jan 2017 11:34:13 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/10-useful-custom-javascript-tricks/</guid><description>&lt;p>I recently published a &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> guide called &lt;a href="https://www.simoahava.com/gtm-tips/10-useful-css-selectors/">10 Useful CSS Selectors&lt;/a>, and it was very well received. Inspired by the feedback, here&amp;rsquo;s the next instalment. This time, we&amp;rsquo;re going over some useful JavaScript tips and tricks that you can use to make your &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> deployment even more efficient. &lt;a href="https://www.simoahava.com/tags/javascript/">I&amp;rsquo;ve written &lt;strong>a lot&lt;/strong> about JavaScript in this blog&lt;/a>, and I intend to keep on doing so in the future. As always, if JavaScript is somewhat of a mystery to you, I strongly recommend you take the &lt;a href="https://www.codecademy.com/learn/javascript">Codecademy (free) course on JS&lt;/a>, and take a look at the other available web technology tracks while you&amp;rsquo;re there!&lt;/p></description></item><item><title>#GTMTips: Restrict Custom HTML Tag Scope</title><link>https://www.simoahava.com/gtm-tips/restrict-custom-html-tag-scope/</link><pubDate>Tue, 18 Oct 2016 15:06:53 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/restrict-custom-html-tag-scope/</guid><description>&lt;p>What better way to celebrate the &lt;strong>50th&lt;/strong> &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> article than, well, a &lt;em>really useful &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> tip&lt;/em>?! This tip is so useful and simple; it encapsulates everything that I had in mind when starting this series. The tip is about &lt;em>restricting scope&lt;/em> of Custom HTML Tags. This is an important concept, because it&amp;rsquo;s possible that you&amp;rsquo;re stuffing your page&amp;rsquo;s global JavaScript namespace with all sorts of junk, and thus inadvertently causing conflicts.&lt;/p></description></item><item><title>10 JavaScript Concepts For Web Analytics Implementation</title><link>https://www.simoahava.com/analytics/10-javascript-concepts-for-web-analytics-implementation/</link><pubDate>Wed, 21 Sep 2016 15:17:54 +0000</pubDate><guid>https://www.simoahava.com/analytics/10-javascript-concepts-for-web-analytics-implementation/</guid><description>&lt;p>I&amp;rsquo;ve already written &lt;a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">extensively&lt;/a> about JavaScript in web analytics implementation. Suffice to say, understanding at least &lt;em>the basics&lt;/em> is absolutely necessary to survive in the technical medium of the web browser.&lt;/p>



&lt;div style="aspect-ratio: 2048 / 1142;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2016/09/10-javascript-concepts.jpg" title="10 JavaScript Concepts for web analytics">
 
 &lt;img class="fig-img" height="1142" width="2048" loading="lazy" src="https://www.simoahava.com/images/2016/09/10-javascript-concepts.jpg#ZgotmplZ" alt="10 JavaScript Concepts for web analytics">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>This article expands on a conference talk I gave at &lt;a href="http://london.measurecamp.org/">MeasureCamp IX, London&lt;/a> a short while ago. I&amp;rsquo;ve always been quite single-minded about the importance of JavaScript in web analytics development, and it was a pleasure for me to get some of that off my chest. So I want to go over the ten concepts introduced in my conference talk with a little more detail, especially in the context of &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>.&lt;/p></description></item><item><title>Simple Tracker Duplication For Universal Analytics</title><link>https://www.simoahava.com/analytics/simple-tracker-duplication-universal-analytics/</link><pubDate>Wed, 25 May 2016 10:49:46 +0000</pubDate><guid>https://www.simoahava.com/analytics/simple-tracker-duplication-universal-analytics/</guid><description>&lt;p>First of all, I&amp;rsquo;m sorry about the title. I should really stop throwing the word &amp;ldquo;simple&amp;rdquo; around, since people always tell me that the stuff I claim to be easy and straightforward is rarely so. But since this is my blog, I reserve the right to use whatever stupid and misleading terminology I want. I maintain that what follows IS quite simple, especially when considering the amount of complexity it reduces in your &lt;a href="https://analytics.google.com/">Universal Analytics&lt;/a> setup.&lt;/p></description></item><item><title>#GTMTips: Track JavaScript Errors As Events</title><link>https://www.simoahava.com/gtm-tips/track-javascript-errors-events/</link><pubDate>Thu, 24 Mar 2016 07:11:53 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/track-javascript-errors-events/</guid><description>&lt;p>Back back to the friggin&amp;rsquo; basics. Almost two years ago, I wrote a two-parter on how to have fun with &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>: &lt;a href="https://www.simoahava.com/analytics/fun-with-google-tag-manager-part-1/">Part 1&lt;/a>, and &lt;a href="https://www.simoahava.com/analytics/fun-google-tag-manager-part-2/">Part 2&lt;/a>. The first part had a nice exercise for tracking JavaScript Errors as Google Analytics Events, using the recently published &amp;ldquo;JavaScript Error Listener&amp;rdquo; Tag.&lt;/p>
&lt;p>Well, that was in GTM V1. Now we&amp;rsquo;ve been smoothly sailing with the wonderful new interface for well over a year, and it&amp;rsquo;s time to update some of these nifty tricks. In this &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> post, I&amp;rsquo;ll show you how to track uncaught JavaScript errors in the new interface, plus give you some tips on the overall process.&lt;/p></description></item><item><title>#GTMTips: Prevent Tag From Firing In iFrame</title><link>https://www.simoahava.com/gtm-tips/prevent-tag-from-firing-in-iframe/</link><pubDate>Fri, 04 Sep 2015 10:35:53 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/prevent-tag-from-firing-in-iframe/</guid><description>&lt;p>Unfortunately, iFrames still exist. They are used to embed content from one page into another. Frames are horrible, nasty things, very often riddled with cross-domain problems, performance issues, responsive design obstructions and other crap from the nether pits of hell. Regardless, if you&amp;rsquo;re stuck with an iFrame which also collects data to your &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> property, for example, you probably want to prevent at least the &lt;strong>first&lt;/strong> Page View from firing, since otherwise you&amp;rsquo;ll be double-counting Page Views: once on the main page and once in the iFrame. In this tip, I&amp;rsquo;ll show you how to prevent a Tag from firing if it&amp;rsquo;s executed in a document that is in an iFrame.&lt;/p></description></item><item><title>Spam Filter Insertion Tool</title><link>https://www.simoahava.com/analytics/spam-filter-insertion-tool/</link><pubDate>Wed, 06 May 2015 18:04:46 +0000</pubDate><guid>https://www.simoahava.com/analytics/spam-filter-insertion-tool/</guid><description>&lt;p>Last weekend, I wrote a very simple web app that automatically creates a number of referral spam filters to tackle the problem that seems to have everybody all riled up.&lt;/p>



&lt;div style="aspect-ratio: 2878 / 1046;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2015/05/spam-filter-installer.jpg" title="Spam Filter Installer Tool">
 
 &lt;img class="fig-img" height="1046" width="2878" loading="lazy" src="https://www.simoahava.com/images/2015/05/spam-filter-installer.jpg#ZgotmplZ" alt="Spam Filter Installer Tool">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>For a nice recap of the situation, take a look at &lt;a href="http://www.jeffalytics.com/google-analytics-data-quality-issue/">this post by Jeff Sauer&lt;/a>, or &lt;a href="http://www.analyticsedge.com/2014/12/removing-referral-spam-google-analytics/">this article by Mike Sullivan&lt;/a>.&lt;/p>
&lt;p>This isn&amp;rsquo;t an opinion piece, even though I&amp;rsquo;ve got a great number of opinions about this issue. If you want to read some discussion surrounding this, take a look at &lt;a href="https://plus.google.com/+StephaneHamel-immeria/posts/RckvNxRjF4u">this Google+ thread&lt;/a>.&lt;/p></description></item><item><title>Universal Analytics Plugins Explained</title><link>https://www.simoahava.com/analytics/universal-analytics-plugins-explained/</link><pubDate>Mon, 27 Apr 2015 13:21:05 +0000</pubDate><guid>https://www.simoahava.com/analytics/universal-analytics-plugins-explained/</guid><description>&lt;p>There are many tools and methods to make &lt;a href="http://www.google.com/analytics/">Google Analytics&lt;/a> more manageable. &lt;a href="http://tagmanager.google.com">Google Tag Manager&lt;/a> is probably the best known of these, and you can find many, many &lt;a href="https://www.simoahava.com/tags/google-tag-manager/">articles about GTM&lt;/a> on these pages as well.&lt;/p>
&lt;p>However, today I want to tell you about one of the features of Universal Analytics that hasn&amp;rsquo;t, as far as I know, received too much attention. It&amp;rsquo;s funny, because at the same time almost everyone uses the feature in the shape of &lt;a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce">eCommerce&lt;/a>, &lt;a href="https://support.google.com/analytics/answer/2558867?hl=en">enhanced link attribution&lt;/a>, and &lt;a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cross-domain#autolink">cross-domain tracking&lt;/a>. I&amp;rsquo;m talking, of course, about &lt;strong>Universal Analytics plugins&lt;/strong>.&lt;/p></description></item><item><title>Send Weather Data To Google Analytics In GTM V2</title><link>https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/</link><pubDate>Thu, 19 Mar 2015 09:48:55 +0000</pubDate><guid>https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/</guid><description>&lt;p>In 2013, I wrote &lt;a href="https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/">a guide&lt;/a> for Universal Analytics and &lt;a href="http://tagmanager.google.com">Google Tag Manager&lt;/a> on how to poll for weather conditions, and send this information to &lt;a href="http://analytics.google.com">Google Analytics&lt;/a> as a custom dimension of the session. The guide was intended as a technical introduction to Google Tag Manager, and I think it succeeded in that.&lt;/p>
&lt;p>However, GTM has &lt;a href="https://support.google.com/tagmanager/answer/4620708?hl=en">changed a lot&lt;/a> over the last 1.5 years, and I&amp;rsquo;ve made some improvements to the method along the way. So I wanted to update the guide for &lt;a href="http://analytics.blogspot.fi/2014/10/making-tag-management-more-accessible.html">the new version&lt;/a> of Google Tag Manager (V2), and introduce some changes to the code that make it more flexible and efficient.&lt;/p></description></item><item><title>Leverage useBeacon And beforeunload In Google Analytics</title><link>https://www.simoahava.com/analytics/leverage-usebeacon-beforeunload-google-analytics/</link><pubDate>Tue, 17 Feb 2015 08:25:08 +0000</pubDate><guid>https://www.simoahava.com/analytics/leverage-usebeacon-beforeunload-google-analytics/</guid><description>&lt;p>This nifty little solution will let you calculate the time spent on pages that are not tracked in Google Analytics by default. These include both bounced landing pages and exit pages. Bounced pages and exit pages lack the necessary subsequent pageview, which Google Analytics uses to calculate time-based metrics.&lt;/p>
&lt;p>Before you go on, read this excellent article by &lt;a href="http://www.twitter.com/analyticsninja">Yehoshua Coren&lt;/a>:&lt;/p>
&lt;p>&lt;a href="http://www.analytics-ninja.com/blog/2015/02/real-time-page-google-analytics.html">REAL Time On Page in Google Analytics&lt;/a>&lt;/p>
&lt;p>Yehoshua gives a very nice use case for the technical solution I&amp;rsquo;m about to explore. He also leverages the &lt;a href="https://www.simoahava.com/analytics/use-page-visibility-api-google-tag-manager/">Page Visibility API&lt;/a> to get an even more accurate overview of visitors who actually digest content, and how much of that time that content is visible on their screens. Fundamental stuff, read it!&lt;/p></description></item><item><title>Track Non-JavaScript Visits In Google Analytics</title><link>https://www.simoahava.com/analytics/track-non-javascript-visits-google-analytics/</link><pubDate>Mon, 09 Feb 2015 15:48:25 +0000</pubDate><guid>https://www.simoahava.com/analytics/track-non-javascript-visits-google-analytics/</guid><description>&lt;p>One of the big mysteries in browser-based data collection platforms like &lt;a href="http://analytics.google.com">Google Analytics&lt;/a> is what happens when the visitor is not being tracked. This is most obvious in cases where the user explicitly opts out of tracking, when the user does not have JavaScript active in their browser, in bounced sessions, and on exit pages.&lt;/p>
&lt;p>&lt;strong>Opt-outing&lt;/strong> means that the user explicitly prohibits a website from tracking them. In some cases, it&amp;rsquo;s possible that opt-out is the default, and the user must explicitly opt-in to allow GA to record their visits. In this article, I will of course &lt;em>not&lt;/em> give you ideas how to circumvent this, as you must respect the user&amp;rsquo;s wishes.&lt;/p></description></item><item><title>Use Page Visibility API With GTM</title><link>https://www.simoahava.com/analytics/use-page-visibility-api-google-tag-manager/</link><pubDate>Fri, 19 Sep 2014 08:52:02 +0000</pubDate><guid>https://www.simoahava.com/analytics/use-page-visibility-api-google-tag-manager/</guid><description>&lt;p>The &lt;a href="https://developer.mozilla.org/en-US/docs/Web/Guide/User_experience/Using_the_Page_Visibility_API">Page Visibility API&lt;/a> for web browsers is pretty sweet. It lets you poll, using some new properties of the &lt;code>document&lt;/code> object, whether or not the current page is visible to the user. Visibility is hidden if the page is not open in the current browser tab instance, or if the browser window has been minimized.&lt;/p>



&lt;div style="aspect-ratio: 583 / 148;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2014/09/page-visibility.jpg" title="Page Visibility API and GTM">
 
 &lt;img class="fig-img" height="148" width="583" loading="lazy" src="https://www.simoahava.com/images/2014/09/page-visibility.jpg#ZgotmplZ" alt="Page Visibility API and GTM">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>In this post, I&amp;rsquo;ll give an example of how features of the Page Visibility API could be used with &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a>. Do note, however, that browser support for the API pretty much excludes all IE versions older than 10 from the scope of this article.&lt;/p></description></item><item><title>#GTMtips: Undefined Dimensions Won't Get Sent</title><link>https://www.simoahava.com/gtm-tips/undefined-dimensions-wont-get-sent/</link><pubDate>Tue, 16 Sep 2014 15:32:33 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/undefined-dimensions-wont-get-sent/</guid><description>&lt;p>This might not sound like a tip to you. You might think, &amp;ldquo;Dimensions won&amp;rsquo;t get sent? Sounds like a bug!&amp;rdquo;. You&amp;rsquo;re wrong. This is one of the awesome features of the GA API, and it&amp;rsquo;s key to making your tag setups leaner when sending data to Google Analytics.&lt;/p>
&lt;h2 id="tip-4-undefined-dimensions-are-left-out-of-ga-hits">Tip 4: Undefined dimensions are left out of GA hits&lt;/h2>



&lt;div style="aspect-ratio: 1518 / 848;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2014/09/undefined-dimension-not-sent.jpg" title="Undefined dimensions don&amp;#39;t get sent to Google Analytics">
 
 &lt;img class="fig-img" height="848" width="1518" loading="lazy" src="https://www.simoahava.com/images/2014/09/undefined-dimension-not-sent.jpg#ZgotmplZ" alt="Undefined dimensions don&amp;#39;t get sent to Google Analytics">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>Note that &amp;lsquo;undefined&amp;rsquo; here means the special value &lt;code>undefined&lt;/code> in JavaScript. For a refresher, &lt;a href="https://www.simoahava.com/analytics/fun-with-google-tag-manager-part-1/">check this post&lt;/a>. If you use a macro in a dimension field of Google Tag Manager&amp;rsquo;s Universal Analytics tags, this dimension will be left out of the hit payload if its return value is &lt;code>undefined&lt;/code>.&lt;/p></description></item><item><title>Persist dataLayer In Google Tag Manager</title><link>https://www.simoahava.com/analytics/persist-datalayer-google-tag-manager/</link><pubDate>Mon, 01 Sep 2014 06:57:02 +0000</pubDate><guid>https://www.simoahava.com/analytics/persist-datalayer-google-tag-manager/</guid><description>&lt;p>(Update 19 November 2018: See &lt;a href="https://www.simoahava.com/analytics/persist-datalayer-across-pages/">this article&lt;/a> for a more elegant solution.)&lt;/p>
&lt;p>If you know your &lt;a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">JavaScript&lt;/a>, you know that all variables, functions, objects, resources, and data in the document get rewritten with every page load. In other words, every single page refresh builds the page from scratch, and the state of the document before the page refresh is left drifting in the ocean of oblivion.&lt;/p>
&lt;p>&lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a>&amp;rsquo;s dataLayer is also one such entity. It gets rewritten with every page load, so it&amp;rsquo;s not possible to have a dataLayer variable &lt;em>persist&lt;/em> from one page to the other without using cookies or, as I&amp;rsquo;m going to show in this guide, the &lt;a href="http://www.w3schools.com/html/html5_webstorage.asp">HTML5 Web Storage API&lt;/a>. For web analytics, this is a bit of a shame. It forces us to think of things in the scope of a single page, when rarely anything worth mentioning has a lifespan that short.&lt;/p></description></item><item><title>Node Relationships And GTM</title><link>https://www.simoahava.com/analytics/node-relationships-gtm/</link><pubDate>Fri, 29 Aug 2014 13:25:46 +0000</pubDate><guid>https://www.simoahava.com/analytics/node-relationships-gtm/</guid><description>&lt;p>&lt;em>There&amp;rsquo;s a much easier, native-to-GTM way to do this now: the &lt;a href="https://www.simoahava.com/analytics/matches-css-selector-operator-in-gtm-triggers/">Matches CSS Selector&lt;/a>.&lt;/em>&lt;/p>
&lt;p>Behind this tragically boring title is a simple solution to many problems with Google Tag Manager&amp;rsquo;s auto-event tracking. The common denominator to these problems is poor website markup. Selectors are used sparingly, and element hierarchy is messy. This disregard for proper node relationships means you have to resort to Data Layer Variable Macros which look like&lt;/p>
&lt;p>&lt;code>gtm.element.parentElement.parentElement.id&lt;/code>&lt;/p></description></item><item><title>Custom Event Listeners For GTM</title><link>https://www.simoahava.com/analytics/custom-event-listeners-gtm/</link><pubDate>Mon, 25 Aug 2014 17:36:22 +0000</pubDate><guid>https://www.simoahava.com/analytics/custom-event-listeners-gtm/</guid><description>&lt;p>(&lt;strong>UPDATE 1 Oct 2014&lt;/strong> Due to a change in how macros work in Debug Mode, the {{generic event handler}} macro no longer works when testing in Debug Mode. That means that you&amp;rsquo;ll have to test your custom listener in a live container (I know, ouch!). If you want to test in Debug Mode, you&amp;rsquo;ll have to skip using the {{generic event handler}} as a macro, and instead copy the inner function into the Custom HTML Tag, give the function a name, and use that as the callback in &lt;code>addEventListener&lt;/code> or &lt;code>attachEvent&lt;/code>.&lt;/p></description></item><item><title>JavaScript 101 For GTM: Part 2</title><link>https://www.simoahava.com/analytics/javascript-101-gtm-part-2/</link><pubDate>Wed, 20 Aug 2014 06:50:10 +0000</pubDate><guid>https://www.simoahava.com/analytics/javascript-101-gtm-part-2/</guid><description>&lt;p>It&amp;rsquo;s been an awesome summer, with temperatures soaring in the global warming range throughout our northern country. The heat has given me ample reason to not be near a computer, but now it&amp;rsquo;s time to mine some JavaScript wisdom again. Here&amp;rsquo;s the second part of my JavaScript for &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a> series. The &lt;a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/">first part&lt;/a> focused on GTM specific tips and tricks, and I hope that while reading it, you were treated to another grand example of the flexibility of this wonderful tool.&lt;/p></description></item><item><title>Internalize for Google Analytics v1.0</title><link>https://www.simoahava.com/analytics/internalize-google-analytics-v1-0/</link><pubDate>Tue, 12 Aug 2014 07:07:37 +0000</pubDate><guid>https://www.simoahava.com/analytics/internalize-google-analytics-v1-0/</guid><description>&lt;p>I created a new Chrome Extension: Internalize for Google Analytics. This is its very first version. It only works on websites with &lt;strong>Universal Analytics&lt;/strong>.&lt;/p>
&lt;p>&lt;a href="https://chrome.google.com/webstore/detail/ompkhpfgcljnliggppohceaggjljpgdn/">Click here to download Internalize for Google Analytics v1.0&lt;/a>&lt;/p>
&lt;p>The idea is that with the extension you can push a custom dimension value to your currently active session. You can then use a profile filter in GA to block traffic with this custom dimension value. It&amp;rsquo;s useful when blocking internal traffic with more traditional means (IP address or various &lt;a href="https://www.simoahava.com/analytics/block-internal-traffic-gtm/">GTM workarounds&lt;/a>) won&amp;rsquo;t work.&lt;/p></description></item><item><title>Fix GA Site Search With Google Tag Manager</title><link>https://www.simoahava.com/analytics/fix-ga-site-search-google-tag-manager/</link><pubDate>Wed, 30 Jul 2014 06:22:41 +0000</pubDate><guid>https://www.simoahava.com/analytics/fix-ga-site-search-google-tag-manager/</guid><description>&lt;p>Analyzing what people write in your &lt;a href="https://support.google.com/analytics/answer/1012264?hl=en">site search field&lt;/a> is pretty much one of the smartest things you can do for your website tracking. If certain terms pop up over and over again in internal search reports, it means that your site is not providing the answers people are looking for, meaning you have an excellent opportunity to provide supply for the demand!&lt;/p>



&lt;div style="aspect-ratio: 1075 / 264;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2014/07/search-report.jpg" title="Search Reports in GA">
 
 &lt;img class="fig-img" height="264" width="1075" loading="lazy" src="https://www.simoahava.com/images/2014/07/search-report.jpg#ZgotmplZ" alt="Search Reports in GA">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>However, not all site search applications are trackable out-of-the-box. In this post, I go over three scenarios, and I provide three solutions for tackling internal site search problems in &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a>.&lt;/p></description></item><item><title>JavaScript 101 For GTM: Part 1</title><link>https://www.simoahava.com/analytics/javascript-101-gtm-part-1/</link><pubDate>Thu, 03 Jul 2014 13:25:15 +0000</pubDate><guid>https://www.simoahava.com/analytics/javascript-101-gtm-part-1/</guid><description>&lt;p>&lt;em>Here&amp;rsquo;s the link to &lt;a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-2/">part 2 of this JavaScript guide&lt;/a>.&lt;/em>&lt;/p>
&lt;p>The thing about &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a>, or any JavaScript tag manager for that matter, is that there&amp;rsquo;s JavaScript involved. In fact, the tool itself is just a JavaScript library with some additional bells and whistles (such as a management UI). This means that to make the best of it, some knowledge of JavaScript is warranted, and that&amp;rsquo;s the point of this post.&lt;/p></description></item><item><title>Send Mail Upon Google Tag Manager Event</title><link>https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/</link><pubDate>Mon, 28 Apr 2014 04:49:52 +0000</pubDate><guid>https://www.simoahava.com/analytics/send-mail-upon-google-tag-manager-event/</guid><description>&lt;p>Let&amp;rsquo;s say you want to set up a rudimentary email alert system in your &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a> implementation. Say, for example, you want to receive an email every time an uncaught error occurs on your website. It&amp;rsquo;s not a very good use case, since a large website can spawn hundreds of uncaught exceptions in a short period of time, but let&amp;rsquo;s just pretend for now.&lt;/p>
&lt;p>If you know your JavaScript, you&amp;rsquo;ll know that you can&amp;rsquo;t send mail using client-side code. That&amp;rsquo;s a browser security thing, and I completely understand it. However, a vast majority of websites are created using a CMS which might provide some mail function or hook for you to use. And even if you don&amp;rsquo;t have a cooperative web server (or there&amp;rsquo;s no way you can persuade your developers to help), you could use any one of the &lt;a href="http://www.programmableweb.com/apis/directory/1?apicat=email">online email APIs&lt;/a> that are out there.&lt;/p></description></item><item><title>Google Tag Manager: DOM Listener</title><link>https://www.simoahava.com/analytics/google-tag-manager-dom-listener/</link><pubDate>Tue, 22 Apr 2014 05:10:17 +0000</pubDate><guid>https://www.simoahava.com/analytics/google-tag-manager-dom-listener/</guid><description>&lt;p>In this post, I&amp;rsquo;ll walk you through a tutorial on how to create a &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a> extension. This extension will be a &lt;a href="https://www.simoahava.com/analytics/auto-event-tracking-google-tag-manager/">new listener&lt;/a>, whose sole job is to listen for changes in the HTML and CSS markup on the page.&lt;/p>
&lt;p>The reason I&amp;rsquo;m teaching you how to create a DOM listener is simple. Ever so often I come across people asking for help, but they are unable to touch on-page code. Usually the problem is magnified with &lt;a href="https://www.simoahava.com/analytics/form-tracking-google-tag-manager/">form handlers&lt;/a>, since the developers might have installed some custom jQuery form manager, for instance, which simply refuses to cooperate with GTM&amp;rsquo;s form listeners. That is why you might want to fire a GTM event when a certain message pops up on the screen, for example.&lt;/p></description></item><item><title>The Container Snippet: GTM Secrets Revealed</title><link>https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/</link><pubDate>Tue, 18 Mar 2014 07:17:31 +0000</pubDate><guid>https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/</guid><description>&lt;p>First of all, I&amp;rsquo;m sorry for the wacky title. Sometimes I just want to amuse myself. Nevertheless, this post &lt;em>is&lt;/em> about the &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a> container snippet. There&amp;rsquo;s nothing secretive about it, but I&amp;rsquo;m betting many people have no clue what the snippet really does. That&amp;rsquo;s the revelatory part.&lt;/p>
&lt;p>If you&amp;rsquo;ve never wondered what the snippet does, then shame on you! Remember, you own your page template. It&amp;rsquo;s yours. Any code that you write there is your responsibility. You wouldn&amp;rsquo;t let a complete stranger come to your house and paint your walls without permission, would you? So why copy-paste some code that you have no idea what it does? Because Google told you to?&lt;/p></description></item><item><title>Some Awesome Google Tag Manager Resources</title><link>https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/</link><pubDate>Wed, 26 Feb 2014 15:06:21 +0000</pubDate><guid>https://www.simoahava.com/analytics/awesome-google-tag-manager-resources/</guid><description>&lt;p>When push comes to shove, I&amp;rsquo;m a pretty lazy guy. I enjoy nothing more than just to stretch my legs on a couch, pick up my iPad, and read what&amp;rsquo;s going on in the world. I skip the news, since they&amp;rsquo;re just full of depressing stories. Instead, I head over to my favorite &lt;a href="http://plus.google.com">Google+&lt;/a> communities to see what&amp;rsquo;s new in the blogosphere.&lt;/p>



&lt;div style="aspect-ratio: 689 / 495;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2014/02/suckerfish.jpg" title="Google Tag Manager master and me">
 
 &lt;img class="fig-img" height="495" width="689" loading="lazy" src="https://www.simoahava.com/images/2014/02/suckerfish.jpg#ZgotmplZ" alt="Google Tag Manager master and me">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>This approach has led me to some pretty amazing individuals, whom I follow like a suckerfish. These people have written a bunch of great articles, which have helped countless people with their &lt;a href="http://www.google.com/tagmanager">Google Tag Manager&lt;/a> installations. Or they might be really active in the online communities which people turn to for advice.&lt;/p></description></item><item><title>Why Don't My GTM Listeners Work?</title><link>https://www.simoahava.com/analytics/dont-gtm-listeners-work/</link><pubDate>Fri, 14 Feb 2014 10:16:46 +0000</pubDate><guid>https://www.simoahava.com/analytics/dont-gtm-listeners-work/</guid><description>&lt;p>Ever so often I come across a Google Tag Manager setup where &lt;a href="https://www.simoahava.com/analytics/auto-event-tracking-google-tag-manager/">GTM&amp;rsquo;s own auto-event listeners&lt;/a> don&amp;rsquo;t perform the task they were supposed to. Listener problems seem to be a hot topic in &lt;a href="https://plus.google.com/u/0/communities/104865292981489764063">Google+&lt;/a> and the &lt;a href="https://productforums.google.com/forum/#!forum/tag-manager">Product Forums&lt;/a> as well.&lt;/p>
&lt;p>There may be many reasons why your listeners don&amp;rsquo;t work, but a very common trend is that you have conflicting JavaScript libraries or scripts running on your page.&lt;/p>
&lt;p>Let&amp;rsquo;s explore how listeners work before tackling the problem. You see, when you attach an event listener to an element in your Document Object Model (the collection of all elements on your page), the listener waits for the element to produce the action it is listening for.&lt;/p></description></item><item><title>Universal Analytics: Fire Script Just Once Per Session</title><link>https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/</link><pubDate>Fri, 10 Jan 2014 11:54:40 +0000</pubDate><guid>https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/</guid><description>&lt;p>&lt;em>There is a new version of this post for GTM V2 &lt;a href="https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/">here&lt;/a>.&lt;/em>&lt;/p>
&lt;p>While going over my previous post about using &lt;a href="https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/">weather conditions to segment data&lt;/a> in Google Analytics, I started thinking about performance issues. Since I&amp;rsquo;m using a visit-scope custom dimension, it seems futile to have it send the weather details with every single page load. The odds of the weather changing drastically during one visit are slim (unless you live in the UK), and I have yet to come up with a good reason to change my on-site behavior because the weather changed from a drizzle to a downpour.&lt;/p></description></item><item><title>How To (Not) Make A Splash</title><link>https://www.simoahava.com/web-design/how-to-not-make-a-splash/</link><pubDate>Sun, 15 Dec 2013 19:36:31 +0000</pubDate><guid>https://www.simoahava.com/web-design/how-to-not-make-a-splash/</guid><description>&lt;p>A word of warning. This is not a developers&amp;rsquo; post, a guide, or a thought experiment. This is a bona fide rant. Sometimes we just need to vent.&lt;/p>
&lt;p>A couple of weeks ago, I checked one of our (inactive) client&amp;rsquo;s Google Analytics accounts I still had access to. What I saw in the acquisition report was this:&lt;/p>



&lt;div style="aspect-ratio: 957 / 221;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2013/12/splash-page-organic-direct.jpg" title="Splash page affect on Google Analytics">
 
 &lt;img class="fig-img" height="221" width="957" loading="lazy" src="https://www.simoahava.com/images/2013/12/splash-page-organic-direct.jpg#ZgotmplZ" alt="Splash page affect on Google Analytics">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>See how direct traffic gobbles up a great big share of organic traffic in late October?&lt;/p></description></item><item><title>Universal Analytics: Weather As A Custom Dimension</title><link>https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/</link><pubDate>Thu, 19 Sep 2013 16:51:43 +0000</pubDate><guid>https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/</guid><description>&lt;p>&lt;em>There is a new version of this post for GTM V2 &lt;a href="https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/">here&lt;/a>.&lt;/em>&lt;/p>
&lt;p>[Last updated June 2014] I&amp;rsquo;ve fallen in love with &lt;a href="https://support.google.com/analytics/answer/2790010?hl=en">Universal Analytics&lt;/a> and &lt;a href="http://www.google.com/tagmanager/">Google Tag Manager&lt;/a>. Together they form an incredibly powerful tool for marketing professionals. In most cases, I no longer need to post recommendations to my client for yet another page template revision, since with the tag manager in place, I can just add custom code via the admin panel. Add to that the power of Universal Analytics with its ultra-sensitive Measurement Protocol, and the ability to craft custom dimensions and metrics, and voila! I&amp;rsquo;m in a happy place.&lt;/p></description></item></channel></rss>