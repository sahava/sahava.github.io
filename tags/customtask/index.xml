<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Customtask on Simo Ahava's blog</title><link>https://www.simoahava.com/tags/customtask/</link><description>Recent content in Customtask on Simo Ahava's blog</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 25 Feb 2019 12:31:37 +0200</lastBuildDate><atom:link href="https://www.simoahava.com/tags/customtask/index.xml" rel="self" type="application/rss+xml"/><item><title>#GTMTips: Use localStorage For Client ID Persistence In Google Analytics</title><link>https://www.simoahava.com/analytics/use-localstorage-client-id-persistence-google-analytics/</link><pubDate>Mon, 25 Feb 2019 12:31:37 +0200</pubDate><guid>https://www.simoahava.com/analytics/use-localstorage-client-id-persistence-google-analytics/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Updated 1 October 2019&lt;/strong> With &lt;a href="https://webkit.org/blog/9521/intelligent-tracking-prevention-2-3/">ITP 2.3&lt;/a> it looks like Safari is reducing the usefulness of &lt;code>localStorage&lt;/code> as well, so this solution should &lt;strong>not&lt;/strong> be considered future-proof. The only stable way to persist client-side data at the moment seems to be &lt;a href="https://www.simoahava.com/google-cloud/create-cookie-rewrite-web-service-google-cloud/">HTTP cookies&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>&lt;strong>Updated 7 March 2019&lt;/strong> - Added some extra &lt;a href="#caveats">caveats&lt;/a> to this solution. Also, be sure to read my article on &lt;a href="https://www.simoahava.com/analytics/itp-2-1-and-web-analytics/">ITP 2.1&lt;/a>, which has far more detail on what Intelligent Tracking Prevention is and how to work with it.&lt;/p></description></item><item><title>True View Ecommerce Impressions With Google Tag Manager</title><link>https://www.simoahava.com/analytics/true-view-impressions-google-tag-manager/</link><pubDate>Mon, 21 Jan 2019 11:36:08 +0200</pubDate><guid>https://www.simoahava.com/analytics/true-view-impressions-google-tag-manager/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Last updated 9 October 2020&lt;/strong>: &lt;code>customTask&lt;/code> updated to a more stable version.&lt;/p>
&lt;/blockquote>
&lt;p>I&amp;rsquo;m a big fan of &lt;a href="https://www.simoahava.com/analytics/enhanced-ecommerce-guide-for-google-tag-manager/">Enhanced Ecommerce&lt;/a> in &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a>. In fact, I think it&amp;rsquo;s the &lt;strong>only&lt;/strong> valid way to deploy Ecommerce tracking today, especially when using &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>. The ability to use a &lt;a href="https://www.simoahava.com/analytics/enhanced-ecommerce-guide-for-google-tag-manager/#send-the-data-to-google-analytics-using-a-custom-javascript-variable">Custom JavaScript variable&lt;/a> and the possibility to tackle the &lt;em>full&lt;/em> ecommerce funnel are some of the benefits of using Enhanced Ecommerce.&lt;/p>
&lt;p>However, tracking certain view-based events, &lt;strong>impressions&lt;/strong> in particular, has a significant problem when it comes to how Google Analytics processes events. In a nutshell, when implemented by the book, &lt;strong>impressions are sent for all the product impressions on the page when the page is loaded&lt;/strong>. In other words, you are collecting hits from impressions the user &lt;em>might not actually have seen&lt;/em>.&lt;/p></description></item><item><title>#GTMTips: Trigger Javascript Function Without Using A Custom HTML Tag</title><link>https://www.simoahava.com/analytics/trigger-javascript-without-using-custom-html-tag/</link><pubDate>Thu, 17 Jan 2019 19:39:15 +0200</pubDate><guid>https://www.simoahava.com/analytics/trigger-javascript-without-using-custom-html-tag/</guid><description>&lt;blockquote>
&lt;p>&lt;strong>Last updated 9 October 2020&lt;/strong>: &lt;code>customTask&lt;/code> updated to a more stable version.&lt;/p>
&lt;/blockquote>
&lt;p>The &lt;strong>Custom HTML tag&lt;/strong> in &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> is splendid. It&amp;rsquo;s your go-to tool when you need to run arbitrary JavaScript on the webpage. Some might even use it to actually add HTML elements to the page, but I&amp;rsquo;m willing to bet running JavaScript is its most common use.&lt;/p>
&lt;p>However, there&amp;rsquo;s a downside to Custom HTML tags, which is only made more apparent on single-page apps which do not clear the full page when transitioning from one state to another. Custom HTML tags are &lt;strong>injected to the end of &lt;code>&amp;lt;body&amp;gt;&lt;/code>&lt;/strong>, which means you might end up with a &lt;strong>lot&lt;/strong> of clutter in your Document Object Model.&lt;/p></description></item><item><title>Obfuscate And Duplicate Google Analytics Data</title><link>https://www.simoahava.com/analytics/obfuscate-and-duplicate-google-analytics-data/</link><pubDate>Wed, 09 Jan 2019 11:16:15 +0200</pubDate><guid>https://www.simoahava.com/analytics/obfuscate-and-duplicate-google-analytics-data/</guid><description>&lt;p>Perhaps you didn&amp;rsquo;t know this, but there&amp;rsquo;s a really handy &lt;a href="https://support.google.com/analytics/answer/6367342?hl=en">demo account&lt;/a> for &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> you can use to check out how Google Analytics works in a &lt;strong>real&lt;/strong> business context (the data is from the &lt;a href="https://shop.googlemerchandisestore.com/">Google Merchandise Store&lt;/a>). However, you can access the account with nothing more than &lt;strong>read-only&lt;/strong> access. This is annoying if you wanted to customize the setup.&lt;/p>
&lt;p>Worry not, I have a solution for you! Harnessing the awesome power of &lt;a href="https://www.simoahava.com/analytics/customtask-the-guide/">&lt;code>customTask&lt;/code>&lt;/a>, you can create a duplicate of the data collected on &lt;strong>any&lt;/strong> website where you can modify the tracking (e.g. via &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>). Even better, the data will be &lt;strong>obfuscated&lt;/strong> using a dictionary of English words (you can edit this list), and hashing each string in the payload predictably against this dictionary.&lt;/p></description></item><item><title>Prevent Duplicate Transactions In Google Analytics With customTask</title><link>https://www.simoahava.com/analytics/prevent-google-analytics-duplicate-transactions-with-customtask/</link><pubDate>Fri, 04 Jan 2019 10:46:43 +0200</pubDate><guid>https://www.simoahava.com/analytics/prevent-google-analytics-duplicate-transactions-with-customtask/</guid><description>&lt;p>One of the big problems in &lt;a href="https://analytics.google.com/">Google Analytics&amp;rsquo;&lt;/a> data model is the immutability of historical data. Once a row of data is written into the data table, it is there practically for good. This is especially annoying in two cases: &lt;a href="https://help.analyticsedge.com/article/definitive-guide-to-removing-google-analytics-spam/">spam&lt;/a> and bogus ecommerce hits. The first is a recognized issue with an &lt;a href="https://developers.google.com/analytics/devguides/collection/protocol/v1/">open and public data collection protocol&lt;/a>, the latter is an annoyance that can explode into full-blown sabotage (you can use the Measurement Protocol to send hundreds of huge transactions to your competitor&amp;rsquo;s GA property, for example).&lt;/p></description></item><item><title>How To Unset A User-scoped Custom Dimension In Google Analytics</title><link>https://www.simoahava.com/analytics/how-to-unset-a-user-scoped-custom-dimension-in-google-analytics/</link><pubDate>Thu, 20 Dec 2018 10:20:20 +0200</pubDate><guid>https://www.simoahava.com/analytics/how-to-unset-a-user-scoped-custom-dimension-in-google-analytics/</guid><description>&lt;p>&lt;strong>Scope&lt;/strong> in &lt;a href="https://analytics.google.com/">Google Analytics&amp;rsquo;&lt;/a> Custom Dimensions refers to how the value in the Custom Dimension is extended to all hits in the same scope.&lt;/p>
&lt;p>&lt;strong>Hit&lt;/strong>- and &lt;strong>product&lt;/strong>-scoped Custom Dimensions apply to the given hit alone - they are not extended to any other hits in the session or by the same user.&lt;/p>
&lt;p>&lt;strong>Session&lt;/strong>-scoped Custom Dimensions apply the &lt;em>last&lt;/em> value sent during the session to &lt;em>all&lt;/em> the hits in that session.&lt;/p>
&lt;p>&lt;strong>User&lt;/strong>-scoped Custom Dimensions apply the &lt;em>last&lt;/em> value set during the session to &lt;em>all&lt;/em> the hits in the session &lt;strong>AND&lt;/strong> to all future hits by the same client until a new value is sent.&lt;/p></description></item><item><title>Tracking Cross-domain Iframes - Upgraded Solution</title><link>https://www.simoahava.com/analytics/tracking-cross-domain-iframes-upgraded-solution/</link><pubDate>Tue, 04 Sep 2018 10:31:15 +0300</pubDate><guid>https://www.simoahava.com/analytics/tracking-cross-domain-iframes-upgraded-solution/</guid><description>&lt;blockquote>
&lt;p>**Last updated &lt;strong>18 September 2020&lt;/strong>: Due to how &lt;a href="https://www.cookiestatus.com/">most browsers now have third-party cookie protections&lt;/a> in place, this solution will be very ineffective going forwards. You should instead take a look at a &lt;a href="https://www.simoahava.com/analytics/cookieless-tracking-cross-site-iframes/">cookieless solution&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;p>Some years ago, I wrote a post on &lt;a href="https://www.simoahava.com/analytics/iframe-cross-domain-tracking-in-google-tag-manager/">how to track cross-domain iframes&lt;/a> when using &lt;a href="https://tagmanager.google.com">Google Tag Manager&lt;/a> and &lt;a href="https://analytics.google.com">Google Analytics&lt;/a>. That solution relied on &lt;a href="https://www.simoahava.com/gtm-tips/hitcallback-eventcallback/">&lt;code>hitCallback&lt;/code>&lt;/a> to decorate the iframe, and now that I look back on it, it has its shortcomings.&lt;/p></description></item><item><title>Create And Update Google Analytics Session Timeout Cookie</title><link>https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/</link><pubDate>Fri, 24 Aug 2018 11:49:23 +0300</pubDate><guid>https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/</guid><description>&lt;p>In &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a>, the concept of a &lt;strong>session&lt;/strong> is the key aggregation unit of all the data you work with. It&amp;rsquo;s so central to all the key metrics you use (Conversion Rate, Bounce Rate, Session Duration, Landing Page), and yet there&amp;rsquo;s &lt;a href="https://www.slideshare.net/SimoAhava/essential-search-marketing-tweaks-for-google-analytics-and-google-tag-manager/38">an underlying complexity&lt;/a> that I&amp;rsquo;m pretty certain is unrecognized by many of GA&amp;rsquo;s users. And yet, since this idea of a session is so focal to GA (to the point of being &lt;a href="https://www.simoahava.com/analytics/the-schema-conspiracy/">overbearing&lt;/a>), it&amp;rsquo;s annoying that the &lt;strong>browser&lt;/strong> isn&amp;rsquo;t privy to any of the sessionization parameters that Google Analytics applies to the hits sent from the browser to its servers.&lt;/p></description></item><item><title>#GTMTips: Introducing The customTask Builder</title><link>https://www.simoahava.com/analytics/introducing-customtask-builder/</link><pubDate>Thu, 23 Aug 2018 16:15:24 +0300</pubDate><guid>https://www.simoahava.com/analytics/introducing-customtask-builder/</guid><description>&lt;p>One of the coolest features of &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> and, as a consequence, &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> is &lt;a href="https://www.simoahava.com/analytics/customtask-the-guide/">&lt;code>customTask&lt;/code>&lt;/a>. It&amp;rsquo;s a method you can use to add and execute code &lt;em>as the hit to Google Analytics is being generated&lt;/em>.&lt;/p>
&lt;p>I&amp;rsquo;ve written &lt;a href="https://www.simoahava.com/tags/customtask/">A LOT&lt;/a> about &lt;code>customTask&lt;/code>, and much of the feedback I&amp;rsquo;ve received has been around the question of &lt;strong>how to combine all these different tricks into one &lt;code>customTask&lt;/code> script&lt;/strong>. The problem is, you see, that a tag or hit can only have one &lt;code>customTask&lt;/code> script attached to it, so the code within must combine all the different tricks I&amp;rsquo;ve been writing about over the past months.&lt;/p></description></item><item><title>Automatically Reduce Google Analytics Payload Length</title><link>https://www.simoahava.com/analytics/automatically-reduce-google-analytics-payload-length/</link><pubDate>Fri, 22 Jun 2018 11:04:14 +0300</pubDate><guid>https://www.simoahava.com/analytics/automatically-reduce-google-analytics-payload-length/</guid><description>&lt;p>Here we are, reunited with &lt;a href="https://www.simoahava.com/analytics/customtask-the-guide/">&lt;code>customTask&lt;/code>&lt;/a>. This time, we&amp;rsquo;ll put this wonderful mechanism to work for a very, very good cause. One of the lesser known &amp;ldquo;features&amp;rdquo; of &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> is that when the payload size (the request body that is actually sent to Google Analytics with each request) goes past a certain limit, specifically &lt;a href="https://developers.google.com/analytics/devguides/collection/protocol/v1/reference#using-post">8192 bytes&lt;/a>, the hit is &lt;strong>aborted&lt;/strong> without warning. This can come as a surprise, because there&amp;rsquo;s no indication anywhere in Google Analytics that you are missing hits because of this.&lt;/p></description></item><item><title>#GTMTips: Add Hit Type As A Custom Dimension</title><link>https://www.simoahava.com/analytics/add-hit-type-custom-dimension/</link><pubDate>Mon, 14 May 2018 15:17:39 +0300</pubDate><guid>https://www.simoahava.com/analytics/add-hit-type-custom-dimension/</guid><description>&lt;p>I&amp;rsquo;ve spent a considerable amount of time talking and writing about how to &lt;a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/">improve&lt;/a> the &lt;a href="https://www.simoahava.com/analytics/track-browsing-behavior-in-google-analytics/">granularity&lt;/a> of your &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> data, especially when using &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>. I&amp;rsquo;ve also gone on and on and on (and on) about &lt;a href="https://www.simoahava.com/analytics/customtask-the-guide/">&lt;code>customTask&lt;/code>&lt;/a>, which makes adding metadata to the Google Analytics hits dispatched from your website a breeze.&lt;/p>
&lt;p>In this article, I&amp;rsquo;ll introduce a simple way to add yet another level of detail to your GA hits, using &lt;code>customTask&lt;/code> as the method of choice. The piece of data we&amp;rsquo;ll add is the &lt;strong>hit type&lt;/strong> of the hit (e.g. &lt;em>pageview&lt;/em>, &lt;em>event&lt;/em>, and &lt;em>timing&lt;/em>) which, for some ludicrous reason, is not a default dimension available in Google Analytics reports.&lt;/p></description></item><item><title>Send Google Analytics Payload Length As Custom Dimension</title><link>https://www.simoahava.com/analytics/send-google-analytics-payload-length-as-custom-dimension/</link><pubDate>Wed, 11 Apr 2018 10:02:51 +0300</pubDate><guid>https://www.simoahava.com/analytics/send-google-analytics-payload-length-as-custom-dimension/</guid><description>&lt;p>Maybe you knew this, maybe you didn&amp;rsquo;t, but requests sent from your website (or app) to &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> have a maximum size. Or, more specifically, the &lt;em>payload&lt;/em> size (meaning the actual content body of the request) has a maximum.&lt;/p>
&lt;p>This maximum size of the payload is &lt;strong>8192 bytes&lt;/strong>. This means, basically, that the entire parameter string sent to Google Analytics servers can be no longer than 8192 characters in length. The thing is, if the payload exceeds this, &lt;strong>Google Analytics simply drops the hit&lt;/strong>. There&amp;rsquo;s no warning, no error, nothing. The hit just doesn&amp;rsquo;t get sent. If you are running the &lt;a href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna?hl=en">Google Analytics debugger&lt;/a> browser extension, you &lt;em>can&lt;/em> actually see a warning when the payload size is exceeded:&lt;/p></description></item><item><title>customTask - The Guide</title><link>https://www.simoahava.com/analytics/customtask-the-guide/</link><pubDate>Wed, 21 Feb 2018 07:15:38 +0200</pubDate><guid>https://www.simoahava.com/analytics/customtask-the-guide/</guid><description>&lt;p>&lt;em>Last updated 4 September 2018&lt;/em>&lt;/p>
&lt;p>If you have been reading my blog articles over the past year, you might have noticed a disturbing trend. I&amp;rsquo;ve published &lt;a href="https://www.simoahava.com/tags/customtask/">9 articles on &lt;code>customTask&lt;/code>&lt;/a> since the API was released. It might not sound like much, but I can&amp;rsquo;t think of a single feature in &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> or &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> that has so completely convinced me of its usefulness in such a short time.&lt;/p>
&lt;p>The &lt;code>customTask&lt;/code> API is a feature of the &lt;a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/tasks">Universal Analytics library&lt;/a> (used by Google Tag Manager&amp;rsquo;s tags, too). It lets you &lt;code>get&lt;/code> and &lt;code>set&lt;/code> values from and to the (Measurement Protocol) hit as it&amp;rsquo;s being generated. This is really useful for a couple of reasons, which I&amp;rsquo;ve covered in the previous articles, but I&amp;rsquo;ll go over them briefly in the beginning of this guide, too.&lt;/p></description></item><item><title>#GTMTips: Automatically Duplicate Google Analytics Hits To Snowplow</title><link>https://www.simoahava.com/analytics/automatically-fork-google-analytics-hits-snowplow/</link><pubDate>Thu, 01 Feb 2018 08:30:47 +0200</pubDate><guid>https://www.simoahava.com/analytics/automatically-fork-google-analytics-hits-snowplow/</guid><description>&lt;p>I&amp;rsquo;m back with another &lt;a href="https://www.simoahava.com/tags/customtask/">&lt;code>customTask&lt;/code>&lt;/a> tip, but this time I&amp;rsquo;m exploring some new territory. &lt;a href="https://snowplowanalytics.com/">Snowplow&lt;/a> just introduced their &lt;a href="https://snowplowanalytics.com/blog/2018/01/25/snowplow-r99-carnac-with-google-analytics-support/">latest version update&lt;/a>, which included (among other things) an adapter for processing Google Analytics payloads. Never heard of Snowplow? It&amp;rsquo;s a collection of open-source libraries designed to let you build your own analytics pipeline, all the way from data collection, through ETL (extract, transform, load), using custom enrichments and JSON schemas, and finally into your own data warehouse, where you can then analyze the data using whatever tools you find preferable. Everything is designed to run over &lt;a href="https://aws.amazon.com/">Amazon Web Services&lt;/a>, so you don&amp;rsquo;t need to invest in local server hardware or hosting services.&lt;/p></description></item><item><title>#GTMTips: Opt-out Of Google Analytics Tracking</title><link>https://www.simoahava.com/gtm-tips/opt-out-of-google-analytics-tracking/</link><pubDate>Tue, 09 Jan 2018 16:17:18 +0200</pubDate><guid>https://www.simoahava.com/gtm-tips/opt-out-of-google-analytics-tracking/</guid><description>&lt;p>A while ago I posted a &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> post where I detailed the steps you can take to &lt;a href="https://www.simoahava.com/gtm-tips/respect-opt-out-from-advertising-and-analytics/">opt-out of all Google Analytics tracking&lt;/a> and the DoubleClick redirects that often follow. It was a fun exercise, but because it relies on preventing requests on a tag-by-tag basis (using the ubiquituous &lt;a href="https://www.simoahava.com/tags/customtask/">&lt;code>customTask&lt;/code>&lt;/a>), it can be a chore to handle in large containers.&lt;/p>
&lt;p>In this article, we&amp;rsquo;ll continue with the theme of opting out from &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> tracking by leveraging a solution provided by the &lt;a href="https://developers.google.com/analytics/devguides/collection/gtagjs/user-opt-out">tool itself&lt;/a>. To make it work, we&amp;rsquo;ll use a Custom HTML tag together with some &lt;a href="https://www.simoahava.com/analytics/understanding-tag-sequencing-in-google-tag-manager/">tag sequencing&lt;/a>.&lt;/p></description></item><item><title>#GTMTips: Auto Link Domains With Regex</title><link>https://www.simoahava.com/gtm-tips/auto-link-domains-with-regex/</link><pubDate>Thu, 21 Dec 2017 10:06:19 +0200</pubDate><guid>https://www.simoahava.com/gtm-tips/auto-link-domains-with-regex/</guid><description>&lt;blockquote>
&lt;p>Update &lt;strong>5 March 2019&lt;/strong> due to GTM not supporting negative lookbehinds any more.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> makes it fairly easy to do &lt;a href="https://support.google.com/analytics/answer/1034342">cross-domain tracking&lt;/a>. Basically, you list the hostnames you want to automatically decorate with linker parameters in the &lt;strong>Auto-Link Domains&lt;/strong> field of your Page View tag, and that takes care of decorating the URLs with the necessary parameter. It&amp;rsquo;s dead easy, even if there are a bunch of traps you need to watch out for (see my post on &lt;a href="https://www.simoahava.com/analytics/troubleshooting-cross-domain-tracking-in-google-analytics/">troubleshooting cross-domain tracking issues&lt;/a>).&lt;/p></description></item><item><title>Send Event And Custom Dimension If Google Optimize Experiment Is Running</title><link>https://www.simoahava.com/analytics/send-event-custom-dimension-google-optimize-experiment-running/</link><pubDate>Thu, 16 Nov 2017 14:52:07 +0000</pubDate><guid>https://www.simoahava.com/analytics/send-event-custom-dimension-google-optimize-experiment-running/</guid><description>&lt;p>I really like &lt;a href="https://optimize.google.com/optimize/home/">Google Optimize&lt;/a>. It has a fairly intuitive UI, setting up experiments is easy, and there&amp;rsquo;s integrations for both &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a> and &lt;a href="https://analytics.google.com/">Google Analytics&lt;/a> built into the system. It&amp;rsquo;s still a JavaScript-based, client-side A/B-testing tool, so problems with flicker and asynchronous loading are ever-present (though this is somewhat mitigated by the &lt;a href="https://developers.google.com/optimize/#the_page-hiding_snippet_code">page-hiding snippet&lt;/a>).&lt;/p>
&lt;p>One issue with the Google Analytics integration is the difficulty of creating segments for sessions where the users were actively participating in the experiment. In fact, there&amp;rsquo;s no specific signal in Google Analytics that tells you the &lt;strong>NOW&lt;/strong> the user is &amp;ldquo;experiencing&amp;rdquo; an experiment. You&amp;rsquo;ll find the &lt;strong>Experiment Name&lt;/strong> and &lt;strong>Experiment ID&lt;/strong> dimensions, yes, but they have one drawback:&lt;/p></description></item><item><title>#GTMTips: Respect Opt-Out From Advertising And Analytics</title><link>https://www.simoahava.com/gtm-tips/respect-opt-out-from-advertising-and-analytics/</link><pubDate>Fri, 03 Nov 2017 08:09:09 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/respect-opt-out-from-advertising-and-analytics/</guid><description>&lt;p>With &lt;a href="https://piwik.pro/blog/gdpr-interview-aurelie-pols/">GDPR&lt;/a> looming around the corner, it&amp;rsquo;s time to explore the options you have at your disposal for respecting the new, stricter regulations for tracking users and for collecting data about their visits to your website.&lt;/p>
&lt;blockquote>
&lt;p>UPDATE 20 June 2018: Google has released the &lt;code>allowAdFeatures&lt;/code> field which renders the solution below redundant (at least for the &lt;code>displayFeaturesTask&lt;/code> part of it). Please refer to &lt;a href="https://www.simoahava.com/analytics/allow-block-advertising-features-google-analytics/">this article&lt;/a> for more details on how to conditionally block the advertising hit to DoubleClick.&lt;/p></description></item><item><title>Prevent Site Speed Sampling Rate From Skewing Custom Dimensions And Custom Metrics</title><link>https://www.simoahava.com/analytics/prevent-site-speed-sampling-rate-skewing-custom-dimensions-custom-metrics/</link><pubDate>Tue, 26 Sep 2017 14:09:49 +0000</pubDate><guid>https://www.simoahava.com/analytics/prevent-site-speed-sampling-rate-skewing-custom-dimensions-custom-metrics/</guid><description>&lt;p>&lt;a href="https://analytics.google.com">Universal Analytics&lt;/a> can collect &lt;a href="https://support.google.com/analytics/answer/1205784">Page Timing&lt;/a> data from users that load your pages. This data is populated in to the &lt;strong>Behavior&lt;/strong> -&amp;gt; &lt;strong>Site Speed&lt;/strong> -&amp;gt; &lt;strong>Page Timings&lt;/strong> report, and it&amp;rsquo;s a very useful feature for optimizing your website.&lt;/p>



&lt;div style="aspect-ratio: 2270 / 872;" class="figure nocaption">
 
 &lt;a href="https://www.simoahava.com/images/2017/09/page-timings.jpg" title="Page Timings in Universal Analytics">
 
 &lt;img class="fig-img" height="872" width="2270" loading="lazy" src="https://www.simoahava.com/images/2017/09/page-timings.jpg#ZgotmplZ" alt="Page Timings in Universal Analytics">
 
 &lt;/a>
 
 
&lt;/div>


&lt;p>However, there&amp;rsquo;s a murky underside to this generous feature. The way Page Timings collection works is that when &lt;strong>Pageview&lt;/strong> hits are sent from the site, a sample of these (1% by default) are automatically followed by a &lt;code>timing&lt;/code> hit which includes page performance data grabbed from the Navigation Timing API.&lt;/p></description></item><item><title>#GTMTips: Remove PII From Google Analytics Hits</title><link>https://www.simoahava.com/gtm-tips/remove-pii-google-analytics-hits/</link><pubDate>Thu, 31 Aug 2017 14:31:10 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/remove-pii-google-analytics-hits/</guid><description>&lt;p>Sending &lt;strong>personally identifiable information&lt;/strong> (PII) to &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> is one of the things you should really avoid doing. For one, it&amp;rsquo;s against the terms of service of the platform, but also you will most likely be in violation of national, federal, or EU legislation drafted to protect the privacy of individuals online.&lt;/p>
&lt;p>In this &lt;a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips&lt;/a> post, I&amp;rsquo;ll show you a way to make sure that any tags you configure this solution with will not contain strings that might be construed as PII. The tip is for &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>, but with very little modifications it will work with Universal Analytics, too.&lt;/p></description></item><item><title>Track Users Who Are Offline In Google Analytics</title><link>https://www.simoahava.com/analytics/track-users-who-are-offline-in-google-analytics/</link><pubDate>Mon, 28 Aug 2017 08:19:25 +0000</pubDate><guid>https://www.simoahava.com/analytics/track-users-who-are-offline-in-google-analytics/</guid><description>&lt;p>The steady increase in mobile use over the last years has introduced some new challenges for web analytics. It&amp;rsquo;s not just about mismatches in the tracking model (the concept of &lt;a href="https://www.simoahava.com/analytics/the-schema-conspiracy/">&lt;em>sessions&lt;/em>&lt;/a> is even more absurd for apps than it is for desktop browsing), but about something more fundamental, more basic. Think about it: if a visitor visits the website using a mobile device, there&amp;rsquo;s a significant chance of them losing internet connectivity and going unintentionally offline.&lt;/p></description></item><item><title>#GTMTips: Send Google Analytics Tag To Multiple Properties</title><link>https://www.simoahava.com/gtm-tips/send-google-analytics-tag-multiple-properties/</link><pubDate>Mon, 26 Jun 2017 07:54:57 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/send-google-analytics-tag-multiple-properties/</guid><description>&lt;p>Here we are again, revisiting an old theme. When using &lt;a href="https://tagmanager.google.com/">Google Tag Manager&lt;/a>, we often want to send the contents of the same tag to multiple &lt;a href="https://analytics.google.com">Universal Analytics&lt;/a> properties. With on-page GA, this used to be quite simple, as all you had to do was create a new tracker and then just remember to run the &lt;code>ga('trackerName.send'...)&lt;/code> commands to all the trackers (or you could use my &lt;a href="https://www.simoahava.com/analytics/simple-tracker-duplication-universal-analytics/">duplicator&lt;/a> plugin). With GTM, your options are more limited, since Google Tag Manager abstracts the tracker object, giving you far fewer tools to work with.&lt;/p></description></item><item><title>#GTMTips: Use customTask To Access Tracker Values In Google Tag Manager</title><link>https://www.simoahava.com/gtm-tips/use-customtask-access-tracker-values-google-tag-manager/</link><pubDate>Tue, 13 Jun 2017 08:27:38 +0000</pubDate><guid>https://www.simoahava.com/gtm-tips/use-customtask-access-tracker-values-google-tag-manager/</guid><description>&lt;p>One of the things I&amp;rsquo;ve recommended from the get-go is to &lt;a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/">always send the Client ID&lt;/a> to &lt;a href="https://analytics.google.com">Google Analytics&lt;/a> with your users&amp;rsquo; hits. This is very useful for adding a level of granularity to your tracking. At first, I recommended using an Event tag to do this. Then I modified my approach a little so that you could send it with your initial &lt;a href="https://www.simoahava.com/analytics/access-the-tracker-object-in-your-page-view-tag/">Page View&lt;/a> (thus not inflating your hit counts).&lt;/p>
&lt;p>However, Universal Analytics recently released a new &lt;a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/tasks">task API&lt;/a>, &lt;code>customTask&lt;/code>, which lets you access the model object mid-tag, thus letting you modify the payload that is dispatched to Google Analytics. In this article, I&amp;rsquo;ll show you how this works by using the classic example of sending the Client ID to Google Analytics.&lt;/p></description></item></channel></rss>