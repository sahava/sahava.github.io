

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "#GTMTips: Useful GTM For iOS Tips | Simo Ahava's blog",
  "image": "https://www.simoahava.com/images/2015/12/ios-swift-gtm-tips.png",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.simoahava.com/images/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/",
  "datePublished": "2015-12-03T07:49:22+00:00",
  "dateModified": "2015-12-03T07:49:22+00:00",
  "description": "Useful tips for setting up Google Tag Manager for iOS using the legacy SDK.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.31 with theme Tranquilpeak 0.4.3-BETA">
    <title>#GTMTips: Useful GTM For iOS Tips | Simo Ahava's blog</title>
    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PZ7GMV9');</script>
    
    <script src="//simoahava.disqus.com/count.js" id="dsq-count-scr" async></script>
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/gtm-tips/useful-gtm-for-ios-tips/">
    
    <meta name="description" content="Useful tips for setting up Google Tag Manager for iOS using the legacy SDK.">
    <meta property="og:description" content="Useful tips for setting up Google Tag Manager for iOS using the legacy SDK.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="#GTMTips: Useful GTM For iOS Tips">
    <meta property="og:url" content="/gtm-tips/useful-gtm-for-ios-tips/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="#GTMTips: Useful GTM For iOS Tips">
    <meta name="twitter:description" content="Useful tips for setting up Google Tag Manager for iOS using the legacy SDK.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta property="og:image" content="https://www.simoahava.com/images/simo.png">
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2015/12/ios-swift-gtm-tips.png">  
      <meta property="og:image" content="https://www.simoahava.com/images/2015/12/ios-swift-gtm-tips.png">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          
          
            <div class="post-header main-content-wrap text-left">

  

    <h1>
      #GTMTips: Useful GTM For iOS Tips
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2015-12-03T07:49:22Z">
        
  December 3, 2015

      </time>
    
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/gtm-tips">GTM tips</a>
    
  


       | <a href="https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/#disqus_thread">Comments</a>
  </div>


</div>

          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              

<p>A while ago I wrote a blog post about how to install <a href="https://tagmanager.google.com">Google Tag Manager</a> for iOS using the Swift programming language (you can read the article <a href="https://www.simoahava.com/analytics/setup-google-tag-manager-ios-with-swift/">here</a>). I&rsquo;ve been doing a lot of work with Swift lately, and I&rsquo;m more and more convinced that GTM is actually a very powerful utility for running in your iOS app instead of the <a href="https://developers.google.com/analytics/devguides/collection/ios/v3/">Google Analytics SDK</a>.</p>

<p>Why? Because it abstracts a lot of the nitty-gritty you&rsquo;d otherwise need to explicitly manage in your GA installation. Also, by using the <code>TAGDataLayer</code> interface, you&rsquo;re abstracting stuff <em>yourself</em>, not forced to adopt any specific syntax or semantic structure in your tracking. Instead, you&rsquo;ll be leveraging generic key-value pairs and an object structure, which you&rsquo;re probably already familiar with if you&rsquo;ve worked with GTM for the web.</p>

<p>In any case, here&rsquo;s a bunch of tips I&rsquo;ve discovered while working with the SDK. Some of them might be quite evident, but they&rsquo;re useful nevertheless. Also, I&rsquo;ve learned that nothing is 100% self-evident in the world of GTM.</p>

<h2 id="tip-35-bunch-of-gtm4ios-tips">Tip 35: Bunch of GTM4iOS tips!</h2>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2015/12/ios-swift-gtm-tips.png" title="iOS Swift Google Tag Manager tips">
  
    <img class="fig-img" src="https://www.simoahava.com/images/2015/12/ios-swift-gtm-tips.png#ZgotmplZ" alt="iOS Swift Google Tag Manager tips">
  
    </a>
  
  
</div>



<p>The tips are:</p>

<ol>
<li><p>Dispatch the Tag Manager / GA queue when the application is entering background / terminating</p></li>

<li><p>Log verbosely and set dispatch interval to 1 second only when debugging</p></li>

<li><p>Purge <code>dataLayer</code> in between pushes</p></li>

<li><p>Use the <code>dryRun</code> of the <code>GAI.sharedInstance()</code> to avoid sending data to GA</p></li>

<li><p>Get the Google Analytics Client ID from the tracker instance</p></li>

<li><p>Switch IDFA on in your Tags</p></li>
</ol>

<h3 id="1-dispatch-the-tag-manager-ga-queue-when-the-application-is-entering-background-terminating">1. Dispatch the Tag Manager / GA queue when the application is entering background / terminating</h3>

<p>One of the rather ugly default features of the Google Analytics and Google Tag Manager SDKs is that they have a <strong>120 second</strong> batch interval. It makes a lot of sense when the app is running, as it preserves battery et cetera, but it&rsquo;s nasty when the app is in the background. Basically, it forces the app to &ldquo;wake up&rdquo; after 120 seconds of down time, just for the queue to dispatch.</p>

<p>In <strong>AppDelegate</strong>, you have a bunch of useful functions, which you can use to run commands when the app is ready to do something. Also, the <code>TAGManager</code> implementation has the method <code>dispatch()</code>, which lets you send all the hits that are currently in the dispatch queue. So, by combining these two, you can empty the queue whenever the app is about to enter the background or terminate!</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">applicationDidEnterBackground</span>(application: UIApplication) {
    tagManager.dispatch()
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">applicationWillTerminate</span>(application: UIApplication) {
    tagManager.dispatch()
}</code></pre></div>

<h3 id="2-log-verbosely-and-set-dispatch-interval-to-1-second-only-when-debugging">2. Log verbosely and set dispatch interval to 1 second only when debugging</h3>

<p>If you&rsquo;ve set <a href="https://developer.apple.com/library/prerelease/ios/documentation/Swift/Conceptual/BuildingCocoaApps/InteractingWithCAPIs.html#//apple_ref/doc/uid/TP40014216-CH8-XID_13">preprocessor macros</a> (you should!), you can execute code only when in a certain environment, such as QA, staging, or production.</p>

<p>GTM also provides verbose logging, and you can set the dispatch interval of the request queue (see the previous tip) manually. Now, combine all these in a bowl, stir well, and you&rsquo;ll get some really powerful debugging tools.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#75715e">#if</span> <span style="color:#f92672">!</span><span style="color:#75715e">ENV_PROD</span>
    tagManager.logger.setLogLevel(kTAGLoggerLogLevelVerbose)
    tagManager.dispatchInterval = NSTimeInterval(<span style="color:#ae81ff">1.0</span>)
<span style="color:#75715e">#endif</span></code></pre></div>

<p>The first command sets the logging level to verbose, and the second one sets the dispatch interval to just one second. Both commands are only executed if the environment <strong>is not</strong> ENV_PROD, thus covering ENV_QA, ENV_TEST, ENV_DEBUG etc. These are, of course, just examples, and your setup probably uses some other names.</p>

<p>You can utilize the <code>#if DEBUG</code> further in the <code>containerAvailable</code> callback, which is invoked when a container is first opened. Now, if you&rsquo;re debugging the GTM implementation, it&rsquo;s possible you&rsquo;re also updating the container in Google Tag Manager as well, and you might want to see changes immediately rather than having to <a href="https://developers.google.com/tag-manager/ios/v3/#containerOpener">wait the 12 hours</a> for the container to go stale. So, modify the callback accordingly:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">containerAvailable</span>(container: TAGContainer) -&gt; Void {
    dispatch_async(dispatch_get_main_queue(), {
        <span style="color:#66d9ef">self</span>.container = container;
        <span style="color:#75715e">#if</span> <span style="color:#f92672">!</span><span style="color:#75715e">ENV_PROD</span>
            container.refresh()
        <span style="color:#75715e">#endif</span>
    });
}</code></pre></div>

<p>See that <code>container.refresh()</code> there? That fetches a container over the network every single time, as long as you&rsquo;re not in an environment named ENV_PROD.</p>

<h3 id="3-purge-datalayer-in-between-pushes">3. Purge <code>dataLayer</code> in between pushes</h3>

<p>In my <strong>Analytics.swift</strong> module (see <a href="https://www.simoahava.com/analytics/setup-google-tag-manager-ios-with-swift/">this article</a> for more information), I call the following function just after <code>dataLayer.push()</code> where content or hit-scoped custom dimensions are passed. To keep things consistent, I&rsquo;ve created a <code>dataLayer</code> syntax, where all content data is stored under the key <code>contentData</code>, and all eCommerce data is stored under the key <code>ecommerce</code>. I have other collections as well, such as <code>metaData</code> and <code>userData</code>, but these I want to persist, so the purge is not called after they are used.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">purgeDataLayer</span>() -&gt; Void {
    dataLayer.push([
        <span style="color:#e6db74">&#34;contentData&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
        <span style="color:#e6db74">&#34;ecommerce&#34;</span> : <span style="color:#e6db74">&#34;&#34;</span>
    ])
}</code></pre></div>

<p>Yes, pushing blank strings is a clumsy way to purge the structure but it works. Basically, every time after content data and ecommerce data have been pushed into <code>dataLayer</code> and subsequently processed by GTM, I call <code>purgeDataLayer()</code> to ensure that this hit-scoped information does not persist.</p>

<h3 id="4-use-the-dryrun-of-the-gai-sharedinstance-to-avoid-sending-data-to-ga">4. Use the <code>dryRun</code> of the <code>GAI.sharedInstance()</code> to avoid sending data to GA</h3>

<p>I&rsquo;m actually not sure why you&rsquo;d want to do this, since you can just send your debug hits to a secondary Google Analytics property. But if you do want to avoid sending any data to Google Analytics, and just look at the verbose logs to see if things are working, you can set this flag in the Google Analytics tracker instance.</p>

<p>Yes, I&rsquo;m aware this isn&rsquo;t GTM-specific, but it works with GTM-created trackers as well!</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">GAI.sharedInstance().dryRun = <span style="color:#66d9ef">true</span></code></pre></div>

<p>A simple tip, no doubt.</p>

<h3 id="5-get-the-google-analytics-client-id-from-the-tracker-instance">5. Get the Google Analytics Client ID from the tracker instance</h3>

<p>Again, this is more Google Analytics than Google Tag Manager, but it works in the latter as well. All trackers created via the GA or GTM SDKs have the same Client ID, which persists until you clear all settings and content in the app.</p>

<p>To get the Client ID, run the following commands:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> tracker = GAI.sharedInstance().trackerWithTrackingId(<span style="color:#e6db74">&#34;UA-12345-1&#34;</span>)
<span style="color:#66d9ef">let</span> clientId = tracker.<span style="color:#66d9ef">get</span>(kGAIClientId)</code></pre></div>

<p>Now <code>clientId</code> has the GA Client ID, and you can do whatever you wish with it. In other words, you can actually use the string <strong>&ldquo;UA-12345-1&rdquo;</strong> if you wish, since it would have the same Client ID as the actual tracker (with the real Universal Analytics property ID).</p>

<h3 id="6-switch-idfa-on-in-your-tags">6. Switch IDFA on in your Tags</h3>

<p>This is a very simple tip, as there&rsquo;s really almost no customization required. All you need to make sure is that the following Pod is loaded in your Podfile:</p>

<p><code>pod 'GoogleIDFASupport'</code></p>

<p>This loads the IDFA library, and you won&rsquo;t need to do anything else in your Swift app. The only other thing you&rsquo;ll need to do is switch on the <strong>Enable Advertising ID Features</strong> in your GTM Tags.</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2015/12/enable-idfa.png" title="Enable IDFA GTM">
  
    <img class="fig-img" src="https://www.simoahava.com/images/2015/12/enable-idfa.png#ZgotmplZ" alt="Enable IDFA GTM">
  
    </a>
  
  
</div>



<p>Now your app will be sending the <strong>&idfa;</strong> parameter with your device&rsquo;s IDFA identifier, and you can set on your <a href="https://support.google.com/analytics/answer/2799357?hl=en">demographics reports</a> and your <a href="https://developers.google.com/analytics/devguides/collection/ios/v3/campaigns#ios-install">iTunes install campaign tracking</a> and whatnot via GA.</p>

<h2 id="summary">Summary</h2>

<p>That&rsquo;s it for this group of tips! I have lots more to share around Google Tag Manager for iOS, but I can&rsquo;t extinguish my entire tip collection in one single post.</p>

<p>I hope you found these useful! Do you have other tricks up your sleeve?</p>

              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">Google Tag Manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/gtmtips/">gtmtips</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/ios/">ios</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/swift/">swift</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/firing-a-single-tag-multiple-times-in-gtm/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/referral-exclusion-on-receipt-page/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Useful%20GTM%20For%20iOS%20Tips%20https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <span id="disqus"></span>
<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2018 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/firing-a-single-tag-multiple-times-in-gtm/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/referral-exclusion-on-receipt-page/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Useful%20GTM%20For%20iOS%20Tips%20https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/useful-gtm-for-ios-tips/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%25!s%28BADINDEX%29">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fwww.simoahava.com%2Fgtm-tips%2Fuseful-gtm-for-ios-tips%2F%20%25!s%28BADINDEX%29%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%25!s%28BADINDEX%29">
          <i class="fa fa-google-plus"></i><span>Share on Google&#43;</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=%25!s%28BADINDEX%29">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://www.simoahava.com/js/script.js"></script>




  
    
      <script>
        





        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'simoahava';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

