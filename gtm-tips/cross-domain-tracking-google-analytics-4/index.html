

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "#GTMTips: Cross-domain Tracking In Google Analytics 4 | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2021\/10\/cross-domain-tracking-google-analytics-4.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/gtm-tips\/cross-domain-tracking-google-analytics-4\/",
  "datePublished": "2021-10-25T07:00:00\u002b03:00",
  "dateModified": "2021-10-25T07:00:00\u002b03:00",
  "description": "This guide instructs you how to setup cross-domain tracking in Google Analytics 4, and how to handle some of the awkward implementation issues it can lead to.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>#GTMTips: Cross-domain Tracking In Google Analytics 4 | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/gtm-tips/cross-domain-tracking-google-analytics-4/">
    
    <meta name="description" content="This guide instructs you how to setup cross-domain tracking in Google Analytics 4, and how to handle some of the awkward implementation issues it can lead to.">
    <meta property="og:description" content="This guide instructs you how to setup cross-domain tracking in Google Analytics 4, and how to handle some of the awkward implementation issues it can lead to.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="#GTMTips: Cross-domain Tracking In Google Analytics 4">
    <meta property="og:url" content="https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="#GTMTips: Cross-domain Tracking In Google Analytics 4">
    <meta name="twitter:description" content="This guide instructs you how to setup cross-domain tracking in Google Analytics 4, and how to handle some of the awkward implementation issues it can lead to.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
	  <meta property="og:image" content="https://www.simoahava.com/images/2021/10/cross-domain-tracking-google-analytics-4.jpg">
      <meta name="twitter:image" content="https://www.simoahava.com/images/2021/10/cross-domain-tracking-google-analytics-4.jpg">
    


    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
    <div class="figure nocaption">
      <img class="cover" src="https://www.simoahava.com/images/2021/10/cross-domain-tracking-google-analytics-4.jpg">
    </div>
  
  

    <h1>
      #GTMTips: Cross-domain Tracking In Google Analytics 4
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2021-10-25T07:00:00&#43;03:00">
        
  October 25, 2021

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/gtm-tips">GTM Tips</a>
    
  


      | <a href="https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>Setting up <strong>cross-domain tracking</strong> in <strong>Google Analytics 4</strong> has been <a href="https://support.google.com/analytics/answer/10071811?hl=en">well-documented</a>.</p>
<p>The main departure from <strong>Universal Analytics</strong> is how cross-domain measurement is something you configure through the <em>Google Analytics user interface</em> rather than through implementation and JavaScript.</p>
<p>While this approach is obviously beneficial especially for those who lack the know-how or the resources to configure the JavaScript trackers, it does lead to problems, too.</p>
<p>In this article, I want to tackle these edge cases. They are:</p>
<ol>
<li>How to prevent the <code>_ga</code> cookie update from cross-domain tracking from messing with pre-existing client identifiers on the site.</li>
<li>How to configure cross-domain tracking <em>manually</em> in case the automatic system doesn&rsquo;t work or you want more control over the deployment.</li>
</ol>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="tip-128-setting-up-cross-domain-tracking-in-google-analytics-4">Tip 128: Setting up cross-domain tracking in Google Analytics 4</h2>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2021/10/cross-domain-tracking-google-analytics-4.jpg" title="Cross-domain tracking in Google Analytics 4">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2021/10/cross-domain-tracking-google-analytics-4.jpg#ZgotmplZ" alt="Cross-domain tracking in Google Analytics 4" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 540'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>If you recall, cross-domain tracking means that for websites <strong>collecting to the same Data Stream in Google Analytics 4</strong>, the client and session identifiers are preserved when the user moves from one domain to another.</p>
<blockquote>
<p>If the domains are <strong>subdomains</strong> of the same main domain, you <em>do not</em> have to configure cross-domain tracking, as the Google Analytics 4 cookies will be written on the main domain by default. This way they are available to all subdomains by default.</p>
</blockquote>
<p>Cross-domain tracking adds a <strong>URL parameter</strong> to all outbound links from one configured domain to another configured domain.</p>
<p>This URL parameter is a hash of the relevant identifiers, and the domain receiving the traffic will be able to take these identifiers and save them as new first-party cookies on the domain. This way the identifiers are persisted from one domain to the next.</p>
<h3 id="how-to-setup-cross-domain-tracking">How to setup cross-domain tracking</h3>
<p>While this is explained quite clearly in <a href="https://support.google.com/analytics/answer/10071811?hl=en">the official documentation</a>, I&rsquo;ll revisit the steps here.</p>
<ol>
<li>
<p>Make sure that all domains that you want to include in cross-domain tracking <strong>have data collection configured to the same Measurement ID (G-XXXXXXX)</strong>. This is imperative. Cross-domain tracking only works if all the domains collect data to the same data stream.</p>
</li>
<li>
<p>In the Data Stream settings in Google Analytics 4, click <strong>More Tagging Settings</strong>.</p>
</li>
<li>
<p>In the overlay that appears, click <strong>Configure your domains</strong>.</p>
</li>
</ol>
<p>For example, to configure both <strong>simoahava.com</strong> and <strong>gtmtools.com</strong> for cross-domain traffic, I would populate the list like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2021/10/cross-domain-configuration.jpg" title="Cross-domain configuration">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2021/10/cross-domain-configuration.jpg#ZgotmplZ" alt="Cross-domain configuration" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1954 628'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>To test this, go to one of the domains collecting to your data stream. Then, click a link that points to some domain you added to the list above.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2021/10/cross-domain-params.jpg" title="Cross-domain tracking URL parameters">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2021/10/cross-domain-params.jpg#ZgotmplZ" alt="Cross-domain tracking URL parameters" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 3186 68'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>If all goes as planned, you should see a new URL parameter with <code>_gl</code> followed by a bunch of hashes. Each hash is prefixed with the cookie name. In the example above, we have the following hashes:</p>
<ul>
<li><code>*_gcl_aw*</code>: Google Ads click identifier.</li>
<li><code>*_ga*</code>: Google Analytics client identifier.</li>
<li><code>*_ga_XXXXXXXXX*</code>: Google Analytics 4 session cookie.</li>
<li><code>*_fplc*</code>: Cross-domain cookie for server-managed client identifiers when using <a href="https://www.simoahava.com/gtm-tips/cross-domain-tracking-server-side-fpid-cookie/">server-side Google Tag Manager</a>.</li>
</ul>
<p>If you <em>don&rsquo;t</em> see the <code>_gl</code> parameter in the URL, it means that you&rsquo;ve either misconfigured the domain name(s) in the cross-domain tracking settings (double-check!) or that there&rsquo;s something messing with the automated link decoration and you need to employ a manual approach instead (read on!).</p>
<p>The final thing to test is to compare the cookie set on the source domain with those set on the target domain. Assuming you&rsquo;ve got all the same technologies running on the target domain, you should see the cookies with matching values between the domain that sent the traffic and the domain the traffic landed on.</p>
<p>For example, if you have a Google Analytics 4 <strong>config</strong> setup on the target domain, collecting to the same data stream as the GA4 set up on the source domain, both <code>_ga</code> and <code>_ga_XXXXXXXXXX</code> should have identical values across the two domains.</p>
<p>If you&rsquo;re serving a server-side Google Tag Manager container from the same account as the one served on the source domain (and you&rsquo;re collecting to the same Measurement ID), you should see the <code>FPLC</code> cookie with matching values between the two domains.</p>
<p>And if you&rsquo;ve got a Google Ads conversion tag running on the target domain, you should see the <code>_gcl_aw</code> cookie set with the same click identifier as the one that was set on the source domain.</p>
<p>All this testing serves a purpose: the traffic being sent from the source domain and the traffic being sent from the target domain should have the same identifiers across the relevant hits.</p>
<p>If you see differences, then there&rsquo;s an implementation mistake somewhere.</p>
<h3 id="how-to-account-for-a-multi-property-or-multi-platform-setup">How to account for a multi-property or multi-platform setup</h3>
<p>Cross-domain tracking overwrites the Google Analytics cookie(s) on the target domain with values from those on the source domain. This is necessary to align the concept of a &ldquo;user&rdquo; and &ldquo;session&rdquo; across the two domains.</p>
<p>However, what if you already have those cookies configured on the target domain, maybe even with an extensive history of data collected with the identifiers? <strong>Too bad!</strong> Those values will be bulldozed by the ones from the source domain.</p>
<p>For this reason, <strong>if you have other trackers on the target domain too</strong>, for which you want to <strong>avoid</strong> cross-domain tracking from overwriting the identifiers, you need to <strong>protect</strong> those other trackers by <strong>namespacing</strong> their cookies.</p>
<p>This is different from Universal Analytics, where the <a href="https://www.simoahava.com/gtm-tips/cross-domain-tracking-with-multiple-ga-trackers/">recommended practice</a> was to rename the <strong>roll-up tracker cookie</strong> so that any pre-existing cookies would be left untouched.</p>
<p>Unfortunately, with Google Analytics 4, the cross-domain linker <strong>only works with the default cookie name</strong>.</p>
<p>Naturally, this means that if you want to implement cross-domain tracking, you&rsquo;re going to lose your local GA history anyway, unless you implement some complicated shenanigan to copy the cookie value from <code>_ga</code> to <code>_local_ga</code> first before the cross-domain linker has time to do its work.</p>
<blockquote>
<p>Yes, this is <strong>super awkward</strong> and really an obstacle for setting up automated cross-domain tracking if you want to preserve history on the target site!</p>
</blockquote>
<p>If you don&rsquo;t mind starting from scratch with the non-cross-domain Google Analytics 4 properties, you can set their <code>cookie_prefix</code> field to some values. After that, all tags that use this config will have their <code>_ga</code> cookie prefixed with whatever you added to that field.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2021/10/cookie-prefix.jpg" title="The cookie_prefix field">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2021/10/cookie-prefix.jpg#ZgotmplZ" alt="The cookie_prefix field" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1782 890'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>This is how it looks like once the cookies are set:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2021/10/local-and-xdom-cookies.jpg" title="Local and cross-domain cookies">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2021/10/local-and-xdom-cookies.jpg#ZgotmplZ" alt="Local and cross-domain cookies" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1340 306'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="how-to-configure-cross-domain-tracking-manually">How to configure cross-domain tracking manually</h3>
<p>If <strong>cross-domain tracking doesn&rsquo;t work automatically</strong>, if you want more control <strong>over which cookies are overwritten</strong>, or if you just don&rsquo;t trust any automated configurations and want a more manual touch for setting things up, you can always set up cross-domain tracking <strong>manually</strong>.</p>
<p>Unfortunately, it&rsquo;s <em>really awkward</em>. For some reason, there&rsquo;s no built-in API in <code>gtag.js</code> or Google Tag Manager which would allow us to generate the linker parameter (the one with the <code>_gl</code>) manually. Instead, even per the <a href="https://support.google.com/analytics/answer/10071811#setup">official documentation</a>, you&rsquo;ll need to build the query string <em>manually</em>, adding cookie values as URL parameters to the outbound links, and then grabbing them from the URL on the target site.</p>
<p>It&rsquo;s just not sophisticated. At all. It requires a <em>crazy</em> amount of manual labor from the site admin.</p>
<p>Here&rsquo;s the process you&rsquo;ll need to do:</p>
<ol>
<li>On the source site(s), write an event listener that listens to all link clicks (or relevant interactions) targeted at domains you want to pass the identifiers to.</li>
<li>When such an event happens, prevent the default action (redirect) of the event in the listener callback.</li>
<li>Pull in the first-party cookie values that you want to pass to the target page, and append them to the original link URL as query parameters.</li>
<li>At the very least, <strong>add the current timestamp</strong> to the URL as well (more on this below). If possible, write a simple <strong>browser fingerprint</strong> as well.</li>
<li>Load the target URL with the URL parameters in place.</li>
<li>On the target page, check if the timestamp in the URL is less than one minute old (for example) and, optionally, that the browser fingerprint matches the current browser.</li>
<li>Before any tags have time to fire, run a script that pulls the values from the URL and writes them into first-party cookies on the target URL.</li>
</ol>
<p>On (6), we&rsquo;re trying to prevent a scenario where the user shares the URL in social media (or similar), after which anyone who follows the link will be considered as the same user as the one who shared the link.</p>
<p>As an option to (7), if you&rsquo;re only concerned about Google Analytics 4 (client-side) tracking, you could also load the URL parameter values directly into the GA4 configuration with something like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">gtag(<span style="color:#a50">&#39;config&#39;</span>, <span style="color:#a50">&#39;G-12345&#39;</span>, {
  <span style="color:#aaa;font-style:italic">// Namespace roll-up trackers
</span><span style="color:#aaa;font-style:italic"></span>  cookie_prefix: <span style="color:#a50">&#39;roll-up&#39;</span>,
  <span style="color:#aaa;font-style:italic">// Pull in the Client ID from the URL
</span><span style="color:#aaa;font-style:italic"></span>  client_id: (<span style="color:#00a">new</span> URLSearchParams(<span style="color:#0aa">document</span>.location.search)).get(<span style="color:#a50">&#39;client_id&#39;</span>),
  <span style="color:#aaa;font-style:italic">// Pull in the Session ID from the URL
</span><span style="color:#aaa;font-style:italic"></span>  session_id: (<span style="color:#00a">new</span> URLSearchParams(<span style="color:#0aa">document</span>.location.search)).get(<span style="color:#a50">&#39;session_id&#39;</span>)  
});
</code></pre></div>
<p>This is just a <em>very simple</em> example. It <strong>sucks</strong> that you have to do all this work manually. Google Analytics 4 would <em>really</em> need an API for grabbing the linker parameter. Hopefully soon I can update this article happily with details on how to generate the linker parameter manually.</p>

                
                  <h2 id="summary">Summary</h2>
<p>While it&rsquo;s great that cross-domain tracking works without having to run code on the site, it would be equally great if there were a viable manual option, too.</p>
<p>The biggest issues with cross-domain tracking in Google Analytics 4 are:</p>
<ul>
<li>No viable way to <em>protect</em> cookies from being overwritten on the target domain.</li>
<li>No viable way of <em>manually</em> generating the linker parameter.</li>
</ul>
<p>Both of these scenarios require, ironically, quite a bit of manual work to resolve. And because there&rsquo;s no way to programmatically generate the linker parameter, this manual work will almost always be substandard to what the <code>gtag.js</code> library generates automatically.</p>
<p>Cross-domain tracking is such a fundamental part of any web analytics platform. I&rsquo;m glad that Google Analytics 4 has done its best to demystify it by externalizing the setup to the GA4 user interface.</p>
<p>The next step is to include sufficient means to set it up (or configure it) manually, too.</p>
<p>Let me know in the comments if you have questions about setting cross-domain tracking up in Google Analytics 4! I&rsquo;m aware I didn&rsquo;t include a full example of how to do the cross-domain decoration manually, but I&rsquo;m holding off for the chance that we&rsquo;ll have the means to generate the linker parameter manually.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/gtmtips/">gtmtips</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-analytics-4/">google analytics 4</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/cross-domain-tracking/">cross-domain tracking</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/server-side-tagging-azure-app-service/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/measure-ad-blocker-impact-server-side-gtm/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Cross-domain%20Tracking%20In%20Google%20Analytics%204%20https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2022 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/server-side-tagging-azure-app-service/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/measure-ad-blocker-impact-server-side-gtm/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Cross-domain%20Tracking%20In%20Google%20Analytics%204%20https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Cross-domain%20Tracking%20In%20Google%20Analytics%204%20https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/cross-domain-tracking-google-analytics-4/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

