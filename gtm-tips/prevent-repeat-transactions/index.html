

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "#GTMTips: Prevent Repeat Transactions | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2014\/12\/prevent-repeat-transactions.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/gtm-tips\/prevent-repeat-transactions\/",
  "datePublished": "2014-12-12T08:46:42\u002b00:00",
  "dateModified": "2014-12-12T08:46:42\u002b00:00",
  "description": "Use this method to prevent transactions from being sent to Google Analytics each time the user reloads the thank you page. This is necessary for accurate Ecommerce reporting.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>#GTMTips: Prevent Repeat Transactions | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/gtm-tips/prevent-repeat-transactions/">
    
    <meta name="description" content="Use this method to prevent transactions from being sent to Google Analytics each time the user reloads the thank you page. This is necessary for accurate Ecommerce reporting.">
    <meta property="og:description" content="Use this method to prevent transactions from being sent to Google Analytics each time the user reloads the thank you page. This is necessary for accurate Ecommerce reporting.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="#GTMTips: Prevent Repeat Transactions">
    <meta property="og:url" content="https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="#GTMTips: Prevent Repeat Transactions">
    <meta name="twitter:description" content="Use this method to prevent transactions from being sent to Google Analytics each time the user reloads the thank you page. This is necessary for accurate Ecommerce reporting.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2014/12/prevent-repeat-transactions.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2014/12/prevent-repeat-transactions.jpg">
    


    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      #GTMTips: Prevent Repeat Transactions
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-12-12T08:46:42Z">
        
  December 12, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/gtm-tips">GTM tips</a>
    
  


      | <a href="https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>In this tip, we&rsquo;ll take a look at how to leverage a custom first-party cookie to prevent repeat hits of any kind. This is most useful for transactions, since a <a href="http://stackoverflow.com/questions/26697898/google-analytics-duplicate-transactions">common problem</a> with <a href="http://www.google.com/analytics/">Google Analytics</a> (traditional) <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/ecommerce">eCommerce tracking</a> is that a transaction hit is sent again upon subsequent entries to the receipt page, for example using the Back button of the browser. In some cases, and this is not a good practice, a receipt e-mail is sent to the user with a link <em>back to the receipt page</em>, where the transaction is sent over and over again upon entry.</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="tip-11-use-a-1st-party-cookie-to-prevent-hit-multiplication">Tip 11: Use a 1st Party Cookie to prevent hit multiplication</h2>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2014/12/prevent-repeat-transactions.jpg" title="Prevent repeat transactions in Google Analytics">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2014/12/prevent-repeat-transactions.jpg#ZgotmplZ" alt="Prevent repeat transactions in Google Analytics" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1519 848'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Here is the use case:</p>
<ol>
<li>
<p>User lands on the receipt page</p>
</li>
<li>
<p>The transaction tag checks if the transaction ID is in the transaction cookie</p>
</li>
<li>
<p>If the ID is in the cookie, the transaction tag does not fire</p>
</li>
<li>
<p>If the ID is not in the cookie, the transaction tag fires</p>
</li>
<li>
<p>The transaction ID is added to the cookie in the <code>hitCallback</code> of the tag</p>
</li>
</ol>
<p>So it&rsquo;s very similar to what I wrote some time ago about <a href="https://www.simoahava.com/analytics/universal-analytics-fire-script-just-per-session/">firing a tag just once per session</a>.</p>
<p>For this to work, you&rsquo;ll need <strong>four</strong> variables:</p>
<ol>
<li>
<p>Data Layer Variable for the key <code>transactionId</code> in the transaction payload on the receipt page</p>
</li>
<li>
<p>1st Party Cookie Variable, which retrieves the value of the cookie where all the user&rsquo;s transaction IDs are stored</p>
</li>
<li>
<p>Custom JavaScript Variable, which returns true if the transaction ID in the receipt page is found in the cookie</p>
</li>
<li>
<p>Custom JavaScript Variable, which returns the callback function, where the current transaction ID is added to the cookie after the transaction tag has fired</p>
</li>
</ol>
<h3 id="data-layer-variable-dlv-transaction-id">Data Layer Variable: {{dlv transaction id}}</h3>
<p>This one is easy. Just create a new Data Layer Variable called <strong>{{dlv transaction id}}</strong>, and have it point to the variable where the transaction ID is stored on the receipt page (should be <code>transactionId</code>).</p>
<h3 id="1st-party-cookie-cookie-user-transactions">1st Party Cookie: {{cookie user transactions}}</h3>
<p>Create a new 1st Party Cookie variable called <strong>{{cookie user transactions}}</strong>, and have it refer to whatever you want your cookie to be called. In this example, I&rsquo;ll use <code>user_transaction_ids</code>.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2014/12/user-transactions-cookie.jpg" title="1st party cookie">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2014/12/user-transactions-cookie.jpg#ZgotmplZ" alt="1st party cookie" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 426 470'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="custom-javascript-js-is-transaction-id-in-cookie">Custom JavaScript: {{js is transaction id in cookie}}</h3>
<p>The purpose of this variable is to return <em>true</em> if the transaction ID on the thank you page is found in the cookie. This means that one of the conditions of the Transaction Tag firing trigger is a check for if the cookie value <em>is not</em> true. This would mean that the transaction ID has not been fired yet by this user. The code looks like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">return</span> <span style="color:#099">/(,|^){{dlv transaction id}}/</span>.test({{cookie user transactions}});
}
</code></pre></div>
<h3 id="custom-javascript-js-hitcallback-set-transaction-cookie">Custom JavaScript: {{js hitcallback set transaction cookie}}</h3>
<p>In this Custom JavaScript variable, we&rsquo;ll add the value returned by <strong>{{transactionId}}</strong> to the cookie that&rsquo;s referenced in the variable we just created above. Since I&rsquo;m assuming the visitor can have multiple transactions, the cookie will be appended with the value, not overwritten. The expiration date depends on the lifetime of a single transaction ID. In my case, I&rsquo;m assuming that they&rsquo;re always unique, so I have an expiration time of two years (completely arbitrary figure). If you know that transaction IDs are not unique, you should make the expiration shorter to reflect this.</p>
<p>Here&rsquo;s what the <strong>{{js hitcallback set transaction cookie}}</strong> should have within:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">return</span> <span style="color:#00a">function</span>() {
    <span style="color:#00a">var</span> d, expires;
    <span style="color:#00a">var</span> cvalue = <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#aaa;font-style:italic">// Run the code only if a transaction is found in the data layer
</span><span style="color:#aaa;font-style:italic"></span>    <span style="color:#00a">if</span> ({{dlv transaction id}}) {
      d = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>();
      d.setTime(d.getTime() + (<span style="color:#099">2</span>*<span style="color:#099">365</span>*<span style="color:#099">24</span>*<span style="color:#099">60</span>*<span style="color:#099">60</span>*<span style="color:#099">1000</span>));
      expires = <span style="color:#a50">&#39;expires=&#39;</span>+d.toUTCString();
      <span style="color:#aaa;font-style:italic">// If the cookie already exists, append not overwrite
</span><span style="color:#aaa;font-style:italic"></span>      <span style="color:#00a">if</span> ({{cookie user transactions}}) {
        cvalue = {{cookie user transactions}} + <span style="color:#a50">&#39;,&#39;</span>;
      }    
      <span style="color:#0aa">document</span>.cookie = <span style="color:#a50">&#39;user_transaction_ids=&#39;</span> + 
            cvalue + {{dlv transaction id}} + <span style="color:#a50">&#39;; &#39;</span> + 
            expires + <span style="color:#a50">&#39;; path=/&#39;</span>;
    }
  };
}
</code></pre></div>
<h3 id="set-up-the-tag">Set up the tag</h3>
<p>Finally, you need to set up the tag. The only modifications you need to make are to the firing trigger and the <code>hitCallback</code> field. For the firing trigger, you need to add the following condition:</p>
<p><strong>{{js is transaction id in cookie}}</strong> does not equal <strong>true</strong></p>
<p>This means that the tag will only fire if the transaction ID on the page template <em>is not found</em> in the cookie. Makes sense, right?</p>
<p>Next, you need to set up the <code>hitCallback</code> field. So scroll down to <strong>More Settings -&gt; Fields To Set</strong>, and fill in the values like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2014/12/hitcallback-transaction.jpg" title="hitCallback setting in the transaction tag">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2014/12/hitcallback-transaction.jpg#ZgotmplZ" alt="hitCallback setting in the transaction tag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 798 189'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>And that should do it.</p>

                
                  <h2 id="summary">Summary</h2>
<p>Here&rsquo;s what should take place when a user lands on the receipt page:</p>
<ol>
<li>
<p>The Transaction Tag checks if the transaction ID on the page template (stored in <strong>{{dlv transaction id}}</strong>) can be found in the value returned by the cookie variable <strong>{{cookie user transactions}}</strong>.</p>
</li>
<li>
<p>If the ID exists in the cookie, it means that a transaction has already been fired with this ID, so nothing is done.</p>
</li>
<li>
<p>If the ID doesn&rsquo;t exist, the transaction tag fires.</p>
</li>
<li>
<p>After the tag has completed execution, the <code>hitCallback</code> function, <strong>{{js hitcallback set transaction cookie}}</strong> is invoked.</p>
</li>
<li>
<p>This function checks if the cookie already exists. If it does, it appends the current transaction ID to the end of the cookie (using a comma as the separator). If the cookie doesn&rsquo;t exist, a new cookie is created with the transaction ID as its only value.</p>
</li>
<li>
<p>This way any repeat visits to the page with the same transaction ID in the template will not cause the tag to fire again.</p>
</li>
</ol>
<p>It looks like a complicated way to do things, and on some level it probably is. However, GTM and GA are stateless in the user&rsquo;s browser. The only things they persist are the tracking cookies. Everything else has to be done by the user, which is why we need to manually create the cookies and the logic behind them.</p>
<p><strong>UPDATE</strong>: David Vallejo has written a great guide on how to achieve the same in Enhanced Ecommerce. <a href="https://www.thyngster.com/preventing-duplicate-transactions-in-universal-analytics-with-google-tag-manager/">Check it out</a>!</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/ecommerce/">ecommerce</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">Google Tag Manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/gtmtips/">gtmtips</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/track-content-enhanced-ecommerce/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/trigger-guide-google-tag-manager/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Prevent%20Repeat%20Transactions%20https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://cdn.commento.io/js/commento.js"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/track-content-enhanced-ecommerce/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/trigger-guide-google-tag-manager/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Prevent%20Repeat%20Transactions%20https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Prevent%20Repeat%20Transactions%20https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/prevent-repeat-transactions/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
    
    <script>
      !function(){
	    var baitPath = 'https://sgtm.simoahava.com/ads-min.js';
	  var pixelPath = 'https://sgtm.simoahava.com/4dchk';
	  var e=document.createElement("script");e.src=baitPath,document.body.appendChild(e);var t=!1;fetch("https://www.google-analytics.com/analytics.js",{method:"HEAD",mode:"no-cors"}).catch(function(){t=!0}),window.addEventListener("load",function(){var e={adb_blocked:!document.querySelector("#ECKckuBYwZaP"),gtm_blocked:!(window.google_tag_manager&&window.google_tag_manager.dataLayer),ga_blocked:t},o=Math.floor(1e6*Math.random()+1)+"_"+(new Date).getTime(),a=document.createElement("img");a.style="width: 1; height: 1; display: none;",a.src=pixelPath+"?client_id="+o+"&"+Object.keys(e).reduce(function(t,o){return t.concat(o+"="+e[o])},[]).join("&"),document.body.appendChild(a)})}();
    </script>
      

    
  </body>
</html>

