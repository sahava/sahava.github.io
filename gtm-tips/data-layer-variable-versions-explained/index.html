

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "#GTMTips: Data Layer Variable Versions Explained | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2016\/01\/data-layer-variable-version.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/gtm-tips\/data-layer-variable-versions-explained\/",
  "datePublished": "2016-01-19T11:59:35\u002b00:00",
  "dateModified": "2016-01-19T11:59:35\u002b00:00",
  "description": "A guide to how the two versions (1 and 2) of Google Tag Manager\u0027s Data Layer variable work, and how they are different from each other.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>#GTMTips: Data Layer Variable Versions Explained | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/gtm-tips/data-layer-variable-versions-explained/">
    
    <meta name="description" content="A guide to how the two versions (1 and 2) of Google Tag Manager&#39;s Data Layer variable work, and how they are different from each other.">
    <meta property="og:description" content="A guide to how the two versions (1 and 2) of Google Tag Manager&#39;s Data Layer variable work, and how they are different from each other.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="#GTMTips: Data Layer Variable Versions Explained">
    <meta property="og:url" content="https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="#GTMTips: Data Layer Variable Versions Explained">
    <meta name="twitter:description" content="A guide to how the two versions (1 and 2) of Google Tag Manager&#39;s Data Layer variable work, and how they are different from each other.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2016/01/data-layer-variable-version.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2016/01/data-layer-variable-version.jpg">
    


    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      #GTMTips: Data Layer Variable Versions Explained
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2016-01-19T11:59:35Z">
        
  January 19, 2016

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/gtm-tips">GTM tips</a>
    
  


      | <a href="https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p><a href="https://tagmanager.google.com/">Google Tag Manager</a>&rsquo;s <a href="https://www.simoahava.com/analytics/data-layer/">Data Layer</a> is something I&rsquo;ve touched upon in pretty much all of my articles. It&rsquo;s such an integral part of what makes a tag management solution great and applicable to a host of business scenarios. I&rsquo;ve also talked at length about the internal data model of Google Tag Manager, and this <a href="https://www.simoahava.com/categories/gtm-tips/">#GTMTips</a> post is very much related to this rather murky concept.</p>
<p>In this post, we&rsquo;ll go over the <strong>Data Layer Variable Version</strong> selection, and I&rsquo;ll try to explain just what this selector does.</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="tip-40-the-two-faces-of-the-data-layer-variable">Tip 40: The two faces of the Data Layer Variable</h2>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2016/01/data-layer-variable-version.jpg" title="Data Layer Variable Versions explained">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2016/01/data-layer-variable-version.jpg#ZgotmplZ" alt="Data Layer Variable Versions explained" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 960 540'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Let&rsquo;s start by taking a step back. As a technical construct, the &ldquo;Data Layer&rdquo; in GTM is a <strong>JavaScript Array</strong>, which usually comprises a number of <strong>plain objects</strong> that have been pushed into its innards on a web page.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2016/01/datalayer.jpg" title="dataLayer">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2016/01/datalayer.jpg#ZgotmplZ" alt="dataLayer" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1866 180'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>As you&rsquo;ve learned from my <a href="https://www.simoahava.com/analytics/google-tag-manager-data-model/">data model article</a>, GTM doesn&rsquo;t actually access this Array when you create your Data Layer Variables. Instead, when an object is pushed into <code>dataLayer</code>, it&rsquo;s made available to the data model of Google Tag Manager, and any Data Layer Variables you create will refer to these instances in the data model rather than directly accessing the Array itself.</p>
<p>Why? To decouple the Array from the internal mechanisms of the connected platform (GTM in this case). This is quite important, as the less GTM needs to rely on the abstract structure of <code>dataLayer</code>, which could be manipulated at any time by either sloppy code or another connected platform, the better.</p>
<p>Now, when you select the <strong>Version</strong> of the Data Layer Variable, you&rsquo;re instructing GTM to treat the values in the data model in two different ways.</p>
<h3 id="version-1">Version 1</h3>
<p>Version 1 of the Data Layer Variable has a very limited reach. Basically, the key-value pair that is pushed into <code>dataLayer</code> needs to be in the root of the object, as Version 1 doesn&rsquo;t let you access nested keys.</p>
<p>Here&rsquo;s an example of what would happen with a Version 1 Data Layer Variable that points to key name <code>'product.price'</code>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#aaa;font-style:italic">// Works because the dots are in the key name, and the key is in the root:
</span><span style="color:#aaa;font-style:italic"></span><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product.price&#39;</span> : <span style="color:#a50">&#39;11.99&#39;</span>
});
<span style="color:#aaa;font-style:italic">// Won&#39;t work because &#39;price&#39; is nested in the &#39;product&#39; object:
</span><span style="color:#aaa;font-style:italic"></span><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product&#39;</span> : {
    <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;11.99&#39;</span>
  }
});
</code></pre></div>
<p>You could, though, access the nested object indirectly with a Version 1 Data Layer Variable by creating the variable for the key <code>'product'</code>, and then manipulating the returned object in a Custom HTML Tag or a Custom JavaScript Variable.</p>
<p>And&hellip;yeah. That&rsquo;s all that Version 1 does. There&rsquo;s no merging, no special data model functions, no nothing that you can use to further manipulate the retrieved object. So let&rsquo;s take a look at what happens when I push two different values for the same key (<code>'product'</code>):</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product&#39;</span> : {
    <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;11.99&#39;</span>
  }
});
<span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product&#39;</span> : {
    <span style="color:#a50">&#39;name&#39;</span> : <span style="color:#a50">&#39;Tim Duncan Fan Club Membership&#39;</span>
  }
});
</code></pre></div>
<p>In the example above, if I had my Version 1 Data Layer Variable pointing to <code>'product'</code>, it would return a plain object with <code>{'price' : '11.99'}</code> after the first push, and a plain object with <code>{'name' : 'Tim Duncan Fan Club Membership'}</code> after the second.</p>
<p>In essence, any information in the first push <strong>is completely overwritten</strong> (for this particular Data Layer Variable) by the second push with the same key name (<code>'product'</code>).</p>
<h3 id="version-2">Version 2</h3>
<p>If you want more flexibility, use Version 2 of the Data Layer Variable. This treats objects more like you&rsquo;d expect if you&rsquo;re familiar with how JavaScript works.</p>
<p>Instead of bulldozing over existing keys, Version 2 first checks whether a key with that name already exists in the data model. If it does, it <strong>recursively merges</strong> information in the new push with information in the existing object.</p>
<p>Let&rsquo;s see an example:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product&#39;</span> : {
    <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;119.99&#39;</span>,
    <span style="color:#a50">&#39;category&#39;</span> : <span style="color:#a50">&#39;Membership&#39;</span>
  }
});
<span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;product&#39;</span> : {
    <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;1199.99&#39;</span>,
    <span style="color:#a50">&#39;name&#39;</span> : <span style="color:#a50">&#39;Tim Duncan Fan Club Membership&#39;</span>
  }
});
</code></pre></div>
<p>So, let&rsquo;s say you&rsquo;re using Version 2 of the Data Layer Variable, and you&rsquo;re yet again pointing to the key with name <code>'product'</code>.</p>
<p>After the first <code>dataLayer.push()</code>, the variable would return a plain object with:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{ 
  <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;119.99&#39;</span>, 
  <span style="color:#a50">&#39;category&#39;</span> : <span style="color:#a50">&#39;Membership&#39;</span>
}
</code></pre></div>
<p>After the second push, the contents would be:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  <span style="color:#a50">&#39;price&#39;</span> : <span style="color:#a50">&#39;1199.99&#39;</span>, 
  <span style="color:#a50">&#39;category&#39;</span> : <span style="color:#a50">&#39;Membership&#39;</span>, 
  <span style="color:#a50">&#39;name&#39;</span> : <span style="color:#a50">&#39;Tim Duncan Fan Club Membership&#39;</span>
}
</code></pre></div>
<p>Can you see what happened here? Another object with the same key name (<code>'product'</code>) is pushed. Version 2 of the Data Layer Variable finds an instance of this key within the data model. Then, it recursively checks each key within this object to see if there are conflicts.</p>
<p>First, it finds that <code>'price'</code> is in both objects, so there&rsquo;s a clash. Next, it checks if <code>'price'</code> is also a plain object or an Array to see if it should perform yet another merge deeper in the structure. However, the value of <code>'price'</code> is a String, which means that no recursive merge is performed, and the new value overwrites the old one.</p>
<p>Next, it sees that <code>'category'</code> does not have any conflicts, so it leaves it be in the object. Finally, it finds a completely new key in the second push, <code>'name'</code>, and it merges this key into the existing object in the data model.</p>
<p>So using Version 2 of the Data Layer Variable, resolution of conflicts in object key names is first attempted via a merge of the two objects, but if there are new &ldquo;primitive&rdquo; values for any pre-existing keys, their values are overwritten just as they would be with Version 1 of the Data Layer Variable.</p>

                
                  <h2 id="so-what">So what?</h2>
<p>This information could lead to a number of conclusions, but I&rsquo;m guessing many have the following two questions pop into their minds:</p>
<ol>
<li>
<p>Why does the Version 1 still exist? Its numbering alone would mean that it&rsquo;s inferior.</p>
</li>
<li>
<p>What on earth do I need recursive merge for?</p>
</li>
</ol>
<p>One of the best use cases for Version 1 is with <a href="https://www.simoahava.com/analytics/enhanced-ecommerce-with-a-custom-javascript-variable/">Enhanced Ecommerce</a>. If you&rsquo;re using the <strong>Custom JavaScript Variable</strong> method, which I seem to use almost exclusively, you probably want to use Version 1 of the Data Layer when interacting with the <code>'ecommerce'</code> key. This way, GTM will only access the <em>most recent push</em> into <code>dataLayer</code>. And why is this significant? Take a look at the example below:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;ecommerce&#39;</span> : {
    <span style="color:#a50">&#39;impressions&#39;</span> : [{ ... impressions ... }]
  }
});
<span style="color:#aaa;font-style:italic">// Later on the same page
</span><span style="color:#aaa;font-style:italic"></span><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;ecommerce&#39;</span> : {
    <span style="color:#a50">&#39;detail&#39;</span> : { ... product detail view ... }
  }
});
<span style="color:#aaa;font-style:italic">// And yet later on the same page
</span><span style="color:#aaa;font-style:italic"></span><span style="color:#0aa">window</span>.dataLayer.push({
  <span style="color:#a50">&#39;ecommerce&#39;</span> : {
    <span style="color:#a50">&#39;add&#39;</span> : { ... add to cart action ... }
  }
});
</code></pre></div>
<p>If you used <strong>Version 2</strong> of the Data Layer Variable to send the Enhanced Ecommerce payload using the Custom JavaScript Variable method, you&rsquo;ll end up with <strong>three</strong> Impression payloads, <strong>two</strong> Product Detail Views, and <strong>one</strong> Add to Cart action. This is because of the <em>recursive merge</em> of the <code>'ecommerce'</code> object! I&rsquo;m guessing your intent is to only send each payload once.</p>
<p>So, if you instead use <strong>Version 1</strong> of the Data Layer Variable to access the <code>'ecommerce'</code> object, GTM will only access the payload that was most recently pushed into <code>dataLayer</code>. This way you&rsquo;ll end up avoiding the payload multiplication problem.</p>
<p>As for the second point of what recursive merge is good for, there&rsquo;s a whole universe of possibilities when it comes to merging of objects instead of overwriting previous instances. Examples include:</p>
<ul>
<li>
<p>Updating an object as more information is revealed, e.g. collecting a history of interactions on a single page.</p>
</li>
<li>
<p>Updating an object as more information becomes available, e.g. updating a &ldquo;user&rdquo; object as certain API calls complete.</p>
</li>
<li>
<p>Making a valid merge of two Enhanced Ecommerce payloads, such as combining <code>'impressions'</code> with an <code>'add'</code> object.</p>
</li>
</ul>
<p>There are a host of other things you can do with Version 2 of the Data Layer Variable, and those are all detailed in my <a href="https://www.simoahava.com/analytics/google-tag-manager-data-model/">data model article</a>.</p>
<p>I hope this has been illuminating, and I hope it helps you understand the rationale of having both versions available for the Data Layer Variable.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/data-layer/">data layer</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/data-model/">data model</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">Google Tag Manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/gtmtips/">gtmtips</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/be-careful-with-the-tracker-name-setting/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/cookie-settings-and-subdomain-tracking-in-universal-analytics/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Data%20Layer%20Variable%20Versions%20Explained%20https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://cdn.commento.io/js/commento.js"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/be-careful-with-the-tracker-name-setting/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/cookie-settings-and-subdomain-tracking-in-universal-analytics/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Data%20Layer%20Variable%20Versions%20Explained%20https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Data%20Layer%20Variable%20Versions%20Explained%20https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/gtm-tips/data-layer-variable-versions-explained/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
    
    <script>
      !function(){
  var baitPath = 'https://sgtm.simoahava.com/ads-min.js';
  var pixelPath = 'https://sgtm.simoahava.com/4dchk';
	  if("/"===document.location.pathname){var e=document.createElement("script");e.src=baitPath,document.body.appendChild(e);var t=!1;fetch("https://www.google-analytics.com/analytics.js",{method:"HEAD",mode:"no-cors"}).catch(function(){t=!0}),window.addEventListener("load",function(){var e={adb_blocked:!document.querySelector("#ECKckuBYwZaP"),gtm_blocked:!(window.google_tag_manager&&window.google_tag_manager.dataLayer),ga_blocked:t},o=Math.floor(1e6*Math.random()+1)+"_"+(new Date).getTime(),a=document.createElement("img");a.style="width: 1; height: 1; display: none;",a.src=pixelPath+"?client_id="+o+"&"+Object.keys(e).reduce(function(t,o){return t.concat(o+"="+e[o])},[]).join("&"),document.body.appendChild(a)})}}();
      </script>
      

    
  </body>
</html>

