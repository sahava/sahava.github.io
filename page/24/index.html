<!doctype html><html lang=en-us><head><meta name=generator content="Hugo 0.140.2"><meta name=google-site-verification content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Google Tag Manager and Google Analytics | Simo Ahava's blog</title>
<script>(function(e,t,n,s){window[n]=window[n]||[],window[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(t)[0],o=e.createElement(t),a=n!="dataLayer"?"&l="+n:"";o.async=!0,o.src="https://sgtm.simoahava.com/gtm.js?id="+s+a,i.parentNode.insertBefore(o,i)})(document,"script","dataLayer","GTM-PZ7GMV9")</script><meta name=author content="Simo Ahava"><meta name=keywords content><link rel=icon href=https://www.simoahava.com/images/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/index.xml><link rel=amphtml href=https://www.simoahava.com/amp/><meta name=description content="Simo Ahava is a Google Developer Expert for Google Analytics and Google Tag Manager. This is a blog all about web analytics development."><meta property="og:description" content="Simo Ahava is a Google Developer Expert for Google Analytics and Google Tag Manager. This is a blog all about web analytics development."><meta property="og:type" content="blog"><meta property="og:title" content="Google Tag Manager and Google Analytics"><meta property="og:url" content="https://www.simoahava.com/"><meta property="og:site_name" content="Simo Ahava's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Google Tag Manager and Google Analytics"><meta name=twitter:description content="Simo Ahava is a Google Developer Expert for Google Analytics and Google Tag Manager. This is a blog all about web analytics development."><meta name=twitter:creator content="@SimoAhava"><meta property="og:image" content="https://www.simoahava.com/images/simo.png"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/style.css></head><body><div id=blog><header id=header data-behavior=1><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=/>Simo Ahava's blog</a></div></header><nav id=sidebar data-behavior=1><div class=sidebar-container><div class=sidebar-profile><a href=/><img class=sidebar-profile-picture loading=lazy src=https://www.simoahava.com/images/simo.png alt="Author's picture"></a><h4 class=sidebar-profile-name>Simo Ahava</h4><h5 class=sidebar-profile-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/><i class="sidebar-button-icon fa fa-lg fa-home"></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/tags/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/gtm-tips/><i class="sidebar-button-icon fa fa-lg fa-magic"></i>
<span class=sidebar-button-desc>GTM Tips</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/about-simo-ahava/><i class="sidebar-button-icon fa fa-lg fa-question"></i>
<span class=sidebar-button-desc>About</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/index.xml><i class="sidebar-button-icon fa fa-lg fa-rss"></i>
<span class=sidebar-button-desc>RSS</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/tools/><i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
<span class=sidebar-button-desc>Tools</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/blog-statistics/><i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
<span class=sidebar-button-desc>Blog statistics</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/sahava target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
<span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/upcoming-talks/><i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
<span class=sidebar-button-desc>Upcoming talks</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/custom-templates/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Templates</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/newsletter/><i class="sidebar-button-icon fa fa-lg fa-bell"></i>
<span class=sidebar-button-desc>Newsletter</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://masto.measure.chat/@SimoAhava target=_blank rel="noopener me"><i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
<span class=sidebar-button-desc>Mastodon</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior=1 class=hasCoverMetaIn><section class="postShorten-group main-content-wrap"><span class=talks><span class="fa fa-md fa-bullhorn"></span><a title="Next conference talk" href=/upcoming-talks/>2-6 February 2026: Superweek, Hungary</a></span><form id=search action=/search/><input name=q type=text class="form-control input--xlarge" placeholder="Search blog..." autocomplete=off></form><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/>Create And Update Google Analytics Session Timeout Cookie</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-08-24T11:49:23+03:00>August 24, 2018
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/#commento><comentario-count path=/analytics/create-and-update-google-analytics-session-timeout-cookie/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>In Google Analytics, the concept of a session is the key aggregation unit of all the data you work with. It&rsquo;s so central to all the key metrics you use (Conversion Rate, Bounce Rate, Session Duration, Landing Page), and yet there&rsquo;s an underlying complexity that …</p><p><a href=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/><div class=postShorten-thumbnailimg><img alt src=/images/2018/08/update-session-cookie.jpg></div></a></article><span class=simmer><span class=close>X</span><p><span class="fa fa-md fa-bell"></span>
<strong>The Simmer Newsletter</strong></p><p>Subscribe to the <a href=/newsletter/>Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!</p></span><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/introducing-customtask-builder/>#GTMTips: Introducing The customTask Builder</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-08-23T16:15:24+03:00>August 23, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/introducing-customtask-builder/#commento><comentario-count path=/analytics/introducing-customtask-builder/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of the coolest features of Google Analytics and, as a consequence, Google Tag Manager is customTask. It&rsquo;s a method you can use to add and execute code as the hit to Google Analytics is being generated.
I&rsquo;ve written A LOT about customTask, and much of the feedback …</p><p><a href=https://www.simoahava.com/analytics/introducing-customtask-builder/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/introducing-customtask-builder/><div class=postShorten-thumbnailimg><img alt src=/images/2018/08/introducing-customtask-builder.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/decorate-links-decorate-forms-tags/>#GTMTips: Decorate Links And Decorate Forms Tag Types</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-08-08T12:39:45+03:00>August 8, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/decorate-links-decorate-forms-tags/#commento><comentario-count path=/analytics/decorate-links-decorate-forms-tags/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Getting cross-domain tracking right in Google Analytics is difficult. Even if you use Google Tag Manager. There are many known issues when cross-domain tracking iframes, for example.
Google Tag Manager implements the cross-domain tracking plugin quite handily via the Universal …</p><p><a href=https://www.simoahava.com/analytics/decorate-links-decorate-forms-tags/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/decorate-links-decorate-forms-tags/><div class=postShorten-thumbnailimg><img alt src=/images/2018/08/decorate-links-decorate-forms-tags.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/two-simple-data-model-tricks/>#GTMTips: Two Simple Data Model Tricks</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-08-03T09:46:04+03:00>August 3, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/two-simple-data-model-tricks/#commento><comentario-count path=/analytics/two-simple-data-model-tricks/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of the more difficult concepts in Google Tag Manager is the data model. In essence, the data model is what Google Tag Manager uses to populate the Data Layer variable. You might be tempted to think that it&rsquo;s the same thing as the dataLayer array, but it&rsquo;s not.
The …</p><p><a href=https://www.simoahava.com/analytics/two-simple-data-model-tricks/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/two-simple-data-model-tricks/><div class=postShorten-thumbnailimg><img alt src=/images/2018/08/two-simple-data-model-tricks.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/get-position-index-of-visible-element/>#GTMTips: Get Position Index Of Visible Element</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-08-02T09:35:24+03:00>August 2, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/get-position-index-of-visible-element/#commento><comentario-count path=/analytics/get-position-index-of-visible-element/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>It&rsquo;s time for a very simple #GTMTips article (I know, I always write that these are simple tips, but then they escalate into complex behemoths). Today, we&rsquo;ll cover a nifty trick you can use with the Element Visibility trigger in Google Tag Manager. This tip was …</p><p><a href=https://www.simoahava.com/analytics/get-position-index-of-visible-element/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/get-position-index-of-visible-element/><div class=postShorten-thumbnailimg><img alt src=/images/2018/08/get-position-index-of-visible-element.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/tag-sequencing-custom-html-tags/>#GTMTips: Tag Sequencing With Custom HTML Tags</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-07-22T10:14:32+03:00>July 22, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/tag-sequencing-custom-html-tags/#commento><comentario-count path=/analytics/tag-sequencing-custom-html-tags/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Tag sequencing was introdced to Google Tag Manager in late 2015. Its main purpose was to facilitate the sequential firing of tags that have dependencies with each other. Due to the asynchronous nature of third-party libraries like Google Tag Manager, it&rsquo;s difficult to …</p><p><a href=https://www.simoahava.com/analytics/tag-sequencing-custom-html-tags/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/tag-sequencing-custom-html-tags/><div class=postShorten-thumbnailimg><img alt src=/images/2018/07/tag-sequencing-custom-html-tags.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/fire-trigger-when-user-about-to-leave-page/>#GTMTips: Fire Trigger When User Is About To Leave The Page</a></h1><div class="postShorten-meta post-meta"><time datetime=2018-07-15T09:25:44+03:00>July 15, 2018
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM tips</a>
| <a href=https://www.simoahava.com/analytics/fire-trigger-when-user-about-to-leave-page/#commento><comentario-count path=/analytics/fire-trigger-when-user-about-to-leave-page/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of the great ways to leverage Google Tag Manager in your web analytics tracking is to make use of all the possible custom events that the browser has to offer. One such event is beforeunload. It&rsquo;s dispatched in the browser when the user is about to unload the page. This …</p><p><a href=https://www.simoahava.com/analytics/fire-trigger-when-user-about-to-leave-page/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/fire-trigger-when-user-about-to-leave-page/><div class=postShorten-thumbnailimg><img alt src=/images/2018/07/fire-trigger-beforeunload.jpg></div></a></article><div class=pagination-bar><ul class=pagination><li class=pagination-prev><a class="btn btn--default btn--small" href=/page/23/><i class="fa fa-angle-left text-base icon-mr"></i>
<span>NEWER POSTS</span></a></li><li class=pagination-next><a class="btn btn--default btn--small" href=/page/25/><span>OLDER POSTS</span>
<i class="fa fa-angle-right text-base icon-ml"></i></a></li><li class=pagination-number>page 24 of 58</li></ul></div></section><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2026 Simo Ahava. All Rights Reserved</span></footer></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-remove"></i></div><img id=about-card-picture src=https://www.simoahava.com/images/simo.png alt="Author's picture"><h4 id=about-card-name>Simo Ahava</h4><div id=about-card-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Senior Data Advocate at Reaktor</div><div id=about-card-location><i class="fa fa-map-marker"></i><br>Finland</div></div></div><div id=cover style=background-image:url(https://www.simoahava.com/images/maisema.jpg)></div><script defer src=https://comentario.simoahava.com/comentario.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script defer src=/js/script.js></script><script>!function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),n=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");e&&(n&&(e.style.display="none"),t&&t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"}))}()</script></body></html>