<!doctype html><html lang=en-us><head><meta name=google-site-verification content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Posts | Simo Ahava's blog</title>
<script>(function(e,t,n,s){window[n]=window[n]||[],window[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(t)[0],o=e.createElement(t),a=n!="dataLayer"?"&l="+n:"";o.async=!0,o.src="https://sgtm.simoahava.com/gtm.js?id="+s+a,i.parentNode.insertBefore(o,i)})(document,"script","dataLayer","GTM-PZ7GMV9")</script><meta name=author content="Simo Ahava"><meta name=keywords content><link rel=icon href=https://www.simoahava.com/images/favicon.ico><link rel=alternate type=application/rss+xml title=RSS href=/post/index.xml><link rel=amphtml href=https://www.simoahava.com/amp/post/><meta name=description content="Simo Ahava's blog"><meta property="og:description" content="Simo Ahava's blog"><meta property="og:type" content="blog"><meta property="og:title" content="Posts"><meta property="og:url" content="https://www.simoahava.com/post/"><meta property="og:site_name" content="Simo Ahava's blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Simo Ahava's blog"><meta name=twitter:creator content="@SimoAhava"><meta property="og:image" content="https://www.simoahava.com/images/simo.png"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/css/style.css></head><body><div id=blog><header id=header data-behavior=1><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=/>Simo Ahava's blog</a></div></header><nav id=sidebar data-behavior=1><div class=sidebar-container><div class=sidebar-profile><a href=/><img class=sidebar-profile-picture loading=lazy src=https://www.simoahava.com/images/simo.png alt="Author's picture"></a><h4 class=sidebar-profile-name>Simo Ahava</h4><h5 class=sidebar-profile-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/><i class="sidebar-button-icon fa fa-lg fa-home"></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
<span class=sidebar-button-desc>Categories</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/tags/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/categories/gtm-tips/><i class="sidebar-button-icon fa fa-lg fa-magic"></i>
<span class=sidebar-button-desc>GTM Tips</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/about-simo-ahava/><i class="sidebar-button-icon fa fa-lg fa-question"></i>
<span class=sidebar-button-desc>About</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/index.xml><i class="sidebar-button-icon fa fa-lg fa-rss"></i>
<span class=sidebar-button-desc>RSS</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/tools/><i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
<span class=sidebar-button-desc>Tools</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/blog-statistics/><i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
<span class=sidebar-button-desc>Blog statistics</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/sahava target=_blank rel=noopener><i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
<span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/upcoming-talks/><i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
<span class=sidebar-button-desc>Upcoming talks</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/custom-templates/><i class="sidebar-button-icon fa fa-lg fa-tags"></i>
<span class=sidebar-button-desc>Templates</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/newsletter/><i class="sidebar-button-icon fa fa-lg fa-bell"></i>
<span class=sidebar-button-desc>Newsletter</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://masto.measure.chat/@SimoAhava target=_blank rel="noopener me"><i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
<span class=sidebar-button-desc>Mastodon</span></a></li></ul><ul class=sidebar-buttons></ul></div></nav><div id=main data-behavior=1 class=hasCoverMetaIn><section class="postShorten-group main-content-wrap"><form id=search action=/search/><input name=q type=text class="form-control input--xlarge" placeholder="Search blog..." autocomplete=off></form><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/cookieless-tracking-cross-site-iframes/>Cookieless Tracking For Cross-site Iframes</a></h1><div class="postShorten-meta post-meta"><time datetime=2020-02-19T09:00:38+02:00>February 19, 2020
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/cookieless-tracking-cross-site-iframes/#commento><comentario-count path=/analytics/cookieless-tracking-cross-site-iframes/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Updated 25 May 2021: Added information about using this with GA4. As Google Analytics 4 does not have a mechanism to disable cookie storage, only the second solution (send dataLayer events from iframe to the parent) described in this article will work for GA4.
Here I am, back …</p><p><a href=https://www.simoahava.com/analytics/cookieless-tracking-cross-site-iframes/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/cookieless-tracking-cross-site-iframes/><div class=postShorten-thumbnailimg><img alt src=/images/2020/02/iframe-postmessage.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/>#GTMTips: Collect ISP As A Custom Dimension In Google Analytics</a></h1><div class="postShorten-meta post-meta"><time datetime=2020-02-10T09:34:32+02:00>February 10, 2020
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/#commento><comentario-count path=/gtm-tips/collect-isp-custom-dimension-google-analytics/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Update 6 April 2020: I updated the template in the gallery to the latest version of the IP Geolocation API SDK, which no longer requires jQuery. Also, the SDK now handles API request caching to browser storage automatically, so the &ldquo;Enable Session Storage&rdquo; option was …</p><p><a href=https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/gtm-tips/collect-isp-custom-dimension-google-analytics/><div class=postShorten-thumbnailimg><img alt src=/images/2020/02/service-provider-custom-dimension.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/custom-html-tag-guide-google-tag-manager/>The Custom HTML Tag Guide For Google Tag Manager</a></h1><div class="postShorten-meta post-meta"><time datetime=2020-01-28T09:00:14+02:00>January 28, 2020
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/custom-html-tag-guide-google-tag-manager/#commento><comentario-count path=/analytics/custom-html-tag-guide-google-tag-manager/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of the most prominent features of Google Tag Manager since the dawn of time (actually, late 2012) is the Custom HTML tag. This little piece of magic lets Google Tag Manager inject an HTML element to the page. Since time immemorial (still late 2012), it&rsquo;s allowed us to …</p><p><a href=https://www.simoahava.com/analytics/custom-html-tag-guide-google-tag-manager/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/custom-html-tag-guide-google-tag-manager/><div class=postShorten-thumbnailimg><img alt src=/images/2020/01/custom-html-tag-guide.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/>CDNJS Hosted Libraries Template For Google Tag Manager</a></h1><div class="postShorten-meta post-meta"><time datetime=2020-01-15T09:43:29+02:00>January 15, 2020
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/#commento><comentario-count path=/analytics/cdnjs-hosted-libraries-template-google-tag-manager/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>One of the prime things to use Google Tag Manager for is script injection. Loading a third-party JavaScript library is trivial to do with a Custom HTML tag, and works like a charm.
However, using Custom HTML tags for, well, anything, is no longer the preferred way to add custom …</p><p><a href=https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/><div class=postShorten-thumbnailimg><img alt src=/images/2020/01/cdnjs-tag-template.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/>Fetch IP Geolocation Data Using Google Tag Manager</a></h1><div class="postShorten-meta post-meta"><time datetime=2020-01-08T09:00:00+02:00>January 8, 2020
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/#commento><comentario-count path=/analytics/fetch-ip-geolocation-data-using-google-tag-manager/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Update 6 April 2020: I updated the template in the gallery to the latest version of the IP Geolocation API SDK, which no longer requires jQuery. Also, the SDK now handles API request caching to browser storage automatically, so the &ldquo;Enable Session Storage&rdquo; option was …</p><p><a href=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/><div class=postShorten-thumbnailimg><img alt src=/images/2020/01/ip-geolocation-api.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/>#GTMTips: Chrome Samesite Warnings For Google Tag Manager</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-12-17T14:00:02+02:00>December 17, 2019
</time><span>in</span>
<a class=category-link href=/categories/gtm-tips>GTM Tips</a>
| <a href=https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/#commento><comentario-count path=/gtm-tips/chrome-samesite-warnings-google-tag-manager/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Update 17 February 2020: Google Tag Manager&rsquo;s Preview mode cookies have been updated with the necessary flags, so they will not break once SameSite enforcement begins.
If you&rsquo;ve opened the browser console in Google Chrome (since Chrome 76), you might have seen a …</p><p><a href=https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/><div class=postShorten-thumbnailimg><img alt src=/images/2019/12/chrome-samesite-google-tag-manager.jpg></div></a></article><article class="postShorten postShorten--thumbnailimg-left"><div class=postShorten-wrap><div class=postShorten-header><h1 class=postShorten-title><a class=link-unstyled href=https://www.simoahava.com/analytics/persist-campaign-data-landing-page/>Persist Campaign Data On The Landing Page</a></h1><div class="postShorten-meta post-meta"><time datetime=2019-12-04T11:52:35+02:00>December 4, 2019
</time><span>in</span>
<a class=category-link href=/categories/analytics>Analytics</a>
| <a href=https://www.simoahava.com/analytics/persist-campaign-data-landing-page/#commento><comentario-count path=/analytics/persist-campaign-data-landing-page/ placeholder=... error-text="N/A " zero-text="0 " prefix suffix=" "></comentario-count>Comments</a></div></div><div class=postShorten-excerpt><p>Universal Analytics utilizes two components (by default) to attribute a browser session to a specific campaign: query parameters in the URL and the referrer string.
The page URL is sent with every hit to Google Analytics using the Document location field, which also translates to …</p><p><a href=https://www.simoahava.com/analytics/persist-campaign-data-landing-page/ class="postShorten-excerpt_link link">Continue reading</a></p></div></div><a href=https://www.simoahava.com/analytics/persist-campaign-data-landing-page/><div class=postShorten-thumbnailimg><img alt src=/images/2019/12/referrer-location.jpg></div></a></article><div class=pagination-bar><ul class=pagination><li class=pagination-prev><a class="btn btn--default btn--small" href=/post/page/14/><i class="fa fa-angle-left text-base icon-mr"></i>
<span>NEWER POSTS</span></a></li><li class=pagination-next><a class="btn btn--default btn--small" href=/post/page/16/><span>OLDER POSTS</span>
<i class="fa fa-angle-right text-base icon-ml"></i></a></li><li class=pagination-number>page 15 of 58</li></ul></div></section><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2026 Simo Ahava. All Rights Reserved</span></footer></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-remove"></i></div><img id=about-card-picture src=https://www.simoahava.com/images/simo.png alt="Author's picture"><h4 id=about-card-name>Simo Ahava</h4><div id=about-card-bio>Husband | Father | Analytics developer<br>simo (at) simoahava.com</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Senior Data Advocate at Reaktor</div><div id=about-card-location><i class="fa fa-map-marker"></i><br>Finland</div></div></div><div id=cover style=background-image:url(https://www.simoahava.com/images/maisema.jpg)></div><script defer src=https://comentario.simoahava.com/comentario.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous referrerpolicy=no-referrer></script><script defer src=/js/script.js></script><script>!function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),n=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");e&&(n&&(e.style.display="none"),t&&t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"}))}()</script></body></html>