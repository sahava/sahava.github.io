

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "13 Useful Custom Dimensions For Google Analytics | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2018\/05\/granularity.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/13-useful-custom-dimensions-for-google-analytics\/",
  "datePublished": "2018-05-29T11:08:09\u002b03:00",
  "dateModified": "2018-05-29T11:08:09\u002b03:00",
  "description": "Implementation guide for useful Google Analytics Custom Dimensions, such as Hit Type, Session ID, Payload Length, and many more. The guide is for Google Tag Manager.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>13 Useful Custom Dimensions For Google Analytics | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/13-useful-custom-dimensions-for-google-analytics/">
    
    <meta name="description" content="Implementation guide for useful Google Analytics Custom Dimensions, such as Hit Type, Session ID, Payload Length, and many more. The guide is for Google Tag Manager.">
    <meta property="og:description" content="Implementation guide for useful Google Analytics Custom Dimensions, such as Hit Type, Session ID, Payload Length, and many more. The guide is for Google Tag Manager.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="13 Useful Custom Dimensions For Google Analytics">
    <meta property="og:url" content="https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="13 Useful Custom Dimensions For Google Analytics">
    <meta name="twitter:description" content="Implementation guide for useful Google Analytics Custom Dimensions, such as Hit Type, Session ID, Payload Length, and many more. The guide is for Google Tag Manager.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2018/05/granularity.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2018/05/granularity.jpg">
    


    

      
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener ">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://masto.measure.chat/@SimoAhava" target="_blank" rel="noopener me">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
      
      <span class="sidebar-button-desc">Mastodon</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      13 Useful Custom Dimensions For Google Analytics
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2018-05-29T11:08:09&#43;03:00">
        
  May 29, 2018

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>One of my favorite (and most popular) articles in my blog is <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/">Improve Data Collection With Four Custom Dimensions</a>. In that article, I show how you can improve the quality and granularity of your <a href="https://analytics.google.com/">Google Analytics</a> data set with just four <a href="https://support.google.com/analytics/answer/2709828?hl=en">Custom Dimensions</a>. The reason I chose the four dimensions (Hit Timestamp, Session ID, Client ID, and User ID) is because I firmly believe that they should be in Google Analytics&rsquo; <strong>standard</strong> set of dimensions, but for some inexplicable reason they aren&rsquo;t.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/13-useful-custom-dimensions.jpeg" title="13 Useful Custom Dimensions For Google Analytics">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/13-useful-custom-dimensions.jpeg#ZgotmplZ" alt="13 Useful Custom Dimensions For Google Analytics" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1080'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Since publishing that article three years ago, I have naturally uncovered more of these &ldquo;need-to-have&rdquo; Custom Dimensions, and I&rsquo;ve written a bunch of guides on how to implement them. In this article, I want to pull all of these together into one reference guide, which you can then use to find the relevant information with ease. All of the implementation guides are for <a href="https://tagmanager.google.com">Google Tag Manager</a>, but nothing&rsquo;s stopping you from modifying the JavaScript to work with <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/">analytics.js</a> or <a href="https://developers.google.com/analytics/devguides/collection/gtagjs/">gtag.js</a>.</p>
<div id="toc-container"><h1 id="table-of-contents">Table of Contents</h1> <input type="checkbox" id="show"><label for="show" id="showbtn"><h1 id="table-of-contents-mobile">Table of Contents</h1><span class="show">&nbsp;[+show]</span><span class="hide">&nbsp;[â€“hide]</span></label><nav id="TableOfContents">
  <ul>
    <li><a href="#1-improve-granularity">1. Improve granularity</a>
      <ul>
        <li><a href="#11-hit-timestamp">1.1. Hit Timestamp</a></li>
        <li><a href="#12-session-id">1.2. Session ID</a></li>
        <li><a href="#13-client-id">1.3. Client ID</a></li>
        <li><a href="#14-user-id">1.4. User ID</a></li>
      </ul>
    </li>
    <li><a href="#2-good-all-around-custom-dimensions">2. Good all-around Custom Dimensions</a>
      <ul>
        <li><a href="#21-hit-type">2.1. Hit Type</a></li>
        <li><a href="#22-full-referrer">2.2. Full Referrer</a></li>
        <li><a href="#23-payload-length">2.3. Payload Length</a></li>
        <li><a href="#24-gtm-container-id">2.4. GTM Container ID</a></li>
      </ul>
    </li>
    <li><a href="#3-browsing-behavior">3. Browsing behavior</a>
      <ul>
        <li><a href="#31-redirect-count">3.1. Redirect Count</a></li>
        <li><a href="#32-navigation-type">3.2. Navigation Type</a></li>
        <li><a href="#33-tab-type">3.3. Tab Type</a></li>
        <li><a href="#34-tabs-open">3.4. Tabs Open</a></li>
        <li><a href="#35-tab-id">3.5. Tab ID</a></li>
      </ul>
    </li>
    <li><a href="#4-the-customtask-variable">4. The <code>customTask</code> variable</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav></div>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="1-improve-granularity">1. Improve granularity</h2>
<p>The first four Custom Dimensions are those introduced in my <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/">earlier article</a>. You can follow the link to see more details about the implementation, but some of the solutions below have been <strong>updated</strong>, so make sure you follow these guides rather than those in the original article.</p>
<p>The <strong>purpose</strong> of these four dimensions is to add more information to Google Analytics data sets about the <strong>user journeys</strong> that take place on your site. Being able to segment and chop the data on a hit-by-hit basis (Hit Timestamp), group them into sessions (Session ID), sort by GA user (Client ID), and finally analyze cross-device paths (User ID), makes so much sense from an analytics point-of-view. It&rsquo;s amazing that these dimensions are not readily available in Google Analytics&rsquo; data sets. They <strong>are</strong> available in the <a href="https://support.google.com/analytics/answer/3437719?hl=en">BigQuery export</a>&hellip;</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/granularity.jpg" title="Improve granularity">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/granularity.jpg#ZgotmplZ" alt="Improve granularity" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2300 1020'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="11-hit-timestamp">1.1. Hit Timestamp</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/#4-hit-timestamp">Link</a></p>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Hit Timestamp outputs the <strong>local</strong> time (i.e. visitor&rsquo;s browser time) of the hit in standardized format. An example would be <code>2018-05-29T15:04:51.361+03:00</code> (year-month-dayThour:minutes:seconds.milliseconds timezone_offset). Since it&rsquo;s <strong>hit</strong> timestamp, it&rsquo;s important that you add this Custom Dimensions to every single Google Analytics tag that fires on your site. Easiest way to do it is to add it to a <a href="https://www.simoahava.com/analytics/google-analytics-settings-variable-in-gtm/">Google Analytics Settings variable</a>.</p>
<blockquote>
<p>Note! It might actually be wiser to just send the UNIX timestamp (<code>new Date().getTime()</code>) instead of a preformatted date/time string as below. That way it&rsquo;s easier to apply normalizations and transformations to the value when passed to a data warehouse, for example. But the preformatted option is better if you&rsquo;re just interested in viewing the data in Google Analytics.</p>
</blockquote>
<p><em>Thanks to <a href="https://www.aivosto.com/"><strong>Tuomas Salste</strong></a> for pointing out some bugs in the code!</em></p>
<p><strong>Custom JavaScript variable</strong>: {{Hit timestamp}}</p>
<p><strong>Contents</strong>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
    <span style="color:#aaa;font-style:italic">// Get local time as ISO string with offset at the end
</span><span style="color:#aaa;font-style:italic"></span>    <span style="color:#00a">var</span> now = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>();
    <span style="color:#00a">var</span> tzo = -now.getTimezoneOffset();
    <span style="color:#00a">var</span> dif = tzo &gt;= <span style="color:#099">0</span> ? <span style="color:#a50">&#39;+&#39;</span> : <span style="color:#a50">&#39;-&#39;</span>;
    <span style="color:#00a">var</span> pad = <span style="color:#00a">function</span>(num, ms) {
        <span style="color:#00a">var</span> norm = <span style="color:#0aa">Math</span>.floor(<span style="color:#0aa">Math</span>.abs(num));
        <span style="color:#00a">if</span> (ms) <span style="color:#00a">return</span> (norm &lt; <span style="color:#099">10</span> ? <span style="color:#a50">&#39;00&#39;</span> : norm &lt; <span style="color:#099">100</span> ? <span style="color:#a50">&#39;0&#39;</span> : <span style="color:#a50">&#39;&#39;</span>) + norm;
        <span style="color:#00a">return</span> (norm &lt; <span style="color:#099">10</span> ? <span style="color:#a50">&#39;0&#39;</span> : <span style="color:#a50">&#39;&#39;</span>) + norm;
    };
    <span style="color:#00a">return</span> now.getFullYear() 
        + <span style="color:#a50">&#39;-&#39;</span> + pad(now.getMonth()+<span style="color:#099">1</span>)
        + <span style="color:#a50">&#39;-&#39;</span> + pad(now.getDate())
        + <span style="color:#a50">&#39;T&#39;</span> + pad(now.getHours())
        + <span style="color:#a50">&#39;:&#39;</span> + pad(now.getMinutes()) 
        + <span style="color:#a50">&#39;:&#39;</span> + pad(now.getSeconds())
        + <span style="color:#a50">&#39;.&#39;</span> + pad(now.getMilliseconds(), <span style="color:#00a">true</span>)
        + dif + pad(tzo / <span style="color:#099">60</span>) 
        + <span style="color:#a50">&#39;:&#39;</span> + pad(tzo % <span style="color:#099">60</span>);
}
</code></pre></div>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/hit-timestamp.jpg" title="Hit Timestamp">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/hit-timestamp.jpg#ZgotmplZ" alt="Hit Timestamp" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1756 510'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="12-session-id">1.2. Session ID</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/#3-session-id">Link</a></p>
<p><strong>Custom Dimension scope</strong>: Session</p>
<p>Session ID is a random, unique string (GUID) which is scoped to the entire session. This means that all hits of the same session can be queried with the same ID. This, in turn, means that you have a way of aggregating all related hits directly in the data reports, rather than having to infer them using segments, for example.</p>
<p>You can add Session ID only to your Page View tag, but there&rsquo;s no harm in including it in every single one of your GA tags. In fact, I actually recommend just adding it to the Google Analytics Settings variable you use for all your tags, because it&rsquo;s possible that not all of your sessions will have a pageview in them (if the session breaks, and a new one starts without reloading a page).</p>
<p><strong>Custom JavaScript variable</strong>: {{Random GUID}}</p>
<p><strong>Contents</strong>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span> () { <span style="color:#aaa;font-style:italic">// Public Domain/MIT
</span><span style="color:#aaa;font-style:italic"></span>    <span style="color:#00a">var</span> d = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>().getTime();
    <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> performance !== <span style="color:#a50">&#39;undefined&#39;</span> &amp;&amp; <span style="color:#00a">typeof</span> performance.now === <span style="color:#a50">&#39;function&#39;</span>){
        d += performance.now(); <span style="color:#aaa;font-style:italic">//use high-precision timer if available
</span><span style="color:#aaa;font-style:italic"></span>    }
    <span style="color:#00a">return</span> <span style="color:#a50">&#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&#39;</span>.replace(<span style="color:#099">/[xy]/g</span>, <span style="color:#00a">function</span> (c) {
        <span style="color:#00a">var</span> r = (d + <span style="color:#0aa">Math</span>.random() * <span style="color:#099">16</span>) % <span style="color:#099">16</span> | <span style="color:#099">0</span>;
        d = <span style="color:#0aa">Math</span>.floor(d / <span style="color:#099">16</span>);
        <span style="color:#00a">return</span> (c === <span style="color:#a50">&#39;x&#39;</span> ? r : (r &amp; <span style="color:#099">0x3</span> | <span style="color:#099">0x8</span>)).toString(<span style="color:#099">16</span>);
    });
}
</code></pre></div>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/random-guid.jpg" title="Session ID">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/random-guid.jpg#ZgotmplZ" alt="Session ID" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1746 604'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="13-client-id">1.3. Client ID</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/#2-client-id">Link</a></p>
<p><strong>Custom Dimension scope</strong>: User</p>
<p>Client ID is the <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/cookies-user-id">anonymous cookie identifier</a> that Google Analytics assigns to every single browser instance of any given web visitor. It&rsquo;s how GA calculates the <strong>Users</strong> metric in views which don&rsquo;t have the User ID feature enabled (more on this in the next chapter).</p>
<p>Sending the Client ID as a Custom Dimension to Google Analytics is absolutely necessary. It&rsquo;s the only way to get row-by-row reports split by user, and it&rsquo;s the only way to query for data collected from any anonymous user.</p>
<p>The Client ID is collected using <code>customTask</code> (guide <a href="https://www.simoahava.com/gtm-tips/use-customtask-access-tracker-values-google-tag-manager/">here</a>), so you do not add it to tags using the <strong>Custom Dimensions</strong> settings. Instead, you add it to <strong>Fields to set</strong> -&gt; <code>customTask</code> (see screenshot below). Be sure to read my guide on <a href="https://www.simoahava.com/analytics/customtask-the-guide/"><code>customTask</code></a> to understand how this mechanism works.</p>
<p><strong>Custom JavaScript variable</strong>: {{customTask - Client ID}}</p>
<p><strong>Contents</strong>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">var</span> clientIdIndex = <span style="color:#099">3</span>; <span style="color:#aaa;font-style:italic">// Change this number to the actual Custom Dimension index number
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(model) {
    model.set(<span style="color:#a50">&#39;dimension&#39;</span> + clientIdIndex, model.get(<span style="color:#a50">&#39;clientId&#39;</span>));
  };
}
</code></pre></div>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/customtask-client-id.jpg" title="customTask Client ID">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/customtask-client-id.jpg#ZgotmplZ" alt="customTask Client ID" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1672 428'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="14-user-id">1.4. User ID</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/improve-data-collection-with-four-custom-dimensions/#5-user-id">Link</a></p>
<p><strong>Custom Dimension scope</strong>: User</p>
<p>User ID is an identifier that you have somehow linked to the logged in user. Typically it&rsquo;s a pseudonymized key written into <code>dataLayer</code> using an identifier attached to the user in your CRM or some other server-side user registry.</p>
<p>Because there are so many ways to implement User ID, depending on how your backend produces the identifier, I do not have a generic guide on how to generate the value. Thus the instructions below apply only to a very specific use case, where the User ID is written to the <code>dataLayer</code> when the page is loaded. But you could just as well have your web server write the User ID in some other global variable, or even in a browser cookie.</p>
<p>Also, because you are collecting data from logged in users, make sure whatever solution you implement is compliant with the privacy legislation and regulations of your region.</p>
<p><strong>Data Layer variable</strong>: {{DLV - userId}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>userId</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/user-id.jpg" title="User ID Data Layer">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/user-id.jpg#ZgotmplZ" alt="User ID Data Layer" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1660 866'%3E%3C/svg%3E">
  
    </a>
  
  
</div>



                
                  <h2 id="2-good-all-around-custom-dimensions">2. Good all-around Custom Dimensions</h2>
<p>The next set of Custom Dimensions are just <strong>smart</strong> things to add to your data collection. Since they are included in this guide, they aren&rsquo;t queriable by default in GA&rsquo;s reporting interface.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/useful-dimensions.jpg" title="Useful dimensions">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/useful-dimensions.jpg#ZgotmplZ" alt="Useful dimensions" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2296 542'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="21-hit-type">2.1. Hit Type</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/add-hit-type-custom-dimension/">Link</a></p>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Hit Type tells you explicitly what the <em>type</em> of hit collected in Google Analytics was. So it would be <code>event</code> for Events, <code>pageview</code> for Pageviews, <code>timing</code> for Timing hits, etc. You can use this to build segments (e.g. sessions where the first hit was an event), or to add more granularity to path analysis.</p>
<p>You should add the variable to every single Google Analytics tag in your container. The variable needs to be added using <code>customTask</code>. Be sure to read my guide on <a href="https://www.simoahava.com/analytics/customtask-the-guide/"><code>customTask</code></a> to understand how this mechanism works.</p>
<p><strong>Custom JavaScript variable</strong>: {{customTask - Hit type}}</p>
<p><strong>Contents</strong>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">var</span> hitTypeIndex = <span style="color:#099">5</span>; <span style="color:#aaa;font-style:italic">// Change this number to the actual Custom Dimension index number
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(model) {
    model.set(<span style="color:#a50">&#39;dimension&#39;</span> + hitTypeIndex, model.get(<span style="color:#a50">&#39;hitType&#39;</span>));
  };
}
</code></pre></div>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/customtask-hit-type.jpg" title="hit type customTask">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/customtask-hit-type.jpg#ZgotmplZ" alt="hit type customTask" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1760 954'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="22-full-referrer">2.2. Full Referrer</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Full Referrer is simply the value of <code>document.referrer</code> added as a hit-scoped Custom Dimension to every single Google Analytics tag in your container. This will let you analyze what the <strong>previous page</strong> of any given hit was. This makes a lot of sense for pageview tracking, and it makes a lot of sense for hits that start sessions, since you can now analyze the referral information for sessions that came via some other source than a referral hit.</p>
<p><strong>JavaScript variable</strong>: {{document.referrer}}</p>
<p><strong>Contents</strong>: Global Variable Name - <code>document.referrer</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/document-referrer.jpg" title="document referrer">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/document-referrer.jpg#ZgotmplZ" alt="document referrer" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1762 1052'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="23-payload-length">2.3. Payload Length</h3>
<p><strong>Original source</strong>: <a href="https://www.simoahava.com/analytics/send-google-analytics-payload-length-as-custom-dimension/">Link</a></p>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>You can send the payload length of every single Google Analytics hit by adding this hit-scoped Custom Dimension to every single tag in your container. The idea is that you can monitor if you are approaching the <strong>8192</strong> byte limit, since hits that equal or surpass that limit will <strong>not get sent to Google Analytics</strong>.</p>
<p>The solution is added using <code>customTask</code>. Be sure to read my guide on <a href="https://www.simoahava.com/analytics/customtask-the-guide/"><code>customTask</code></a> to understand how this mechanism works.</p>
<p><strong>Custom JavaScript variable</strong>: {{customTask - Hit payload length}}</p>
<p><strong>Contents</strong>:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#aaa;font-style:italic">// Change this index to match that of the Custom Dimension you created in GA
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> customDimensionIndex = <span style="color:#099">7</span>;
  
  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(model) {
    
    <span style="color:#00a">var</span> globalSendTaskName = <span style="color:#a50">&#39;_&#39;</span> + model.get(<span style="color:#a50">&#39;trackingId&#39;</span>) + <span style="color:#a50">&#39;_sendHitTask&#39;</span>;
    
    <span style="color:#00a">var</span> originalSendHitTask = <span style="color:#0aa">window</span>[globalSendTaskName] = <span style="color:#0aa">window</span>[globalSendTaskName] || model.get(<span style="color:#a50">&#39;sendHitTask&#39;</span>);
    
    model.set(<span style="color:#a50">&#39;sendHitTask&#39;</span>, <span style="color:#00a">function</span>(sendModel) {
      
      <span style="color:#00a">try</span> {
        
        <span style="color:#00a">var</span> originalHitPayload = sendModel.get(<span style="color:#a50">&#39;hitPayload&#39;</span>);
        
        <span style="color:#00a">var</span> hitPayload = sendModel.get(<span style="color:#a50">&#39;hitPayload&#39;</span>);
        <span style="color:#00a">var</span> customDimensionParameter = <span style="color:#a50">&#39;&amp;cd&#39;</span> + customDimensionIndex;
      
        <span style="color:#aaa;font-style:italic">// If hitPayload already has that Custom Dimension, note this in the console and do not overwrite the existing dimension
</span><span style="color:#aaa;font-style:italic"></span>      
        <span style="color:#00a">if</span> (hitPayload.indexOf(customDimensionParameter + <span style="color:#a50">&#39;=&#39;</span>) &gt; -<span style="color:#099">1</span>) {
          
          console.log(<span style="color:#a50">&#39;Google Analytics error: tried to send hit payload length in an already assigned Custom Dimension&#39;</span>);
          originalSendHitTask(sendModel);
        
        } <span style="color:#00a">else</span> {
      
        <span style="color:#aaa;font-style:italic">// Otherwise add the Custom Dimension to the string
</span><span style="color:#aaa;font-style:italic"></span>        <span style="color:#aaa;font-style:italic">// together with the complete length of the payload
</span><span style="color:#aaa;font-style:italic"></span>          hitPayload += customDimensionParameter + <span style="color:#a50">&#39;=&#39;</span>;
          hitPayload += (hitPayload.length + hitPayload.length.toString().length);
        
          sendModel.set(<span style="color:#a50">&#39;hitPayload&#39;</span>, hitPayload, <span style="color:#00a">true</span>);
          originalSendHitTask(sendModel);
        
        }
      } <span style="color:#00a">catch</span>(e) {
       
        console.error(<span style="color:#a50">&#39;Error sending hit payload length to Google Analytics&#39;</span>);
        sendModel.set(<span style="color:#a50">&#39;hitPayload&#39;</span>, originalHitPayload, <span style="color:#00a">true</span>);
        originalSendHitTask(sendModel);
        
      }
    });
  };
}
</code></pre></div>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/hit-payload-length.jpg" title="Hit payload length">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/hit-payload-length.jpg#ZgotmplZ" alt="Hit payload length" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1756 1054'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="24-gtm-container-id">2.4. GTM Container ID</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>This is another of those no-brainer Custom Dimensions. Sending the Container ID serves multiple purposes: It helps you identify valid hits from spam (particularly spam sent from outside your site), it helps you debug data in a situation where you have more than one container running on the site, and it makes it easy to run parallel installations of Universal Analytics (or Global Site Tag) and Google Tag Manager.</p>
<p>You need to activate the <strong>Container ID</strong> <a href="https://www.simoahava.com/analytics/variable-guide-google-tag-manager/#built-in-variables">Built-in variable</a> for this. Add the variable to your Google Analytics Settings variable, so that it&rsquo;s added to every single Google Analytics tag in your container.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/container-id.jpg" title="Container ID">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/container-id.jpg#ZgotmplZ" alt="Container ID" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1768 1150'%3E%3C/svg%3E">
  
    </a>
  
  
</div>



                
                  <h2 id="3-browsing-behavior">3. Browsing behavior</h2>
<p>The final set of Custom Dimensions is all about tracking <a href="https://www.simoahava.com/analytics/track-browsing-behavior-in-google-analytics/">browsing behavior</a>. Follow the link in the previous sentence to read a thorough guide on how and why to track browsing behavior in Google Analytics.</p>
<p>Suffice to say that by adding these dimensions to your data collection, you can make more sense out of how users navigate to, navigate on, and navigate away from your site. It&rsquo;s finally possible to segment your data based on how your visitors open pages in browser tabs, do they navigate with the browser&rsquo;s Back and Forward buttons, and how many tabs they have open at any given time!</p>
<p>Instead of adding solution-specific implementation information, please follow the steps in the <a href="https://www.simoahava.com/analytics/track-browsing-behavior-in-google-analytics/">original guide</a>.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/browsing-behavior.jpg" title="Browsing behavior">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/browsing-behavior.jpg#ZgotmplZ" alt="Browsing behavior" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2308 1006'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="31-redirect-count">3.1. Redirect Count</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Redirect count is the number of times the initial document request was redirected when the user loaded the current page. There are some inconsistencies here, and I haven&rsquo;t been able to deduce a consistent description of <code>redirectCount</code> behavior. However, if it works as it should, it offers interesting data about how your site responds to requests, especially when combined with organic search traffic, for example.</p>
<p><strong>Data Layer variable</strong>: {{DLV - browsingBehavior.redirectCount}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>browsingBehavior.redirectCount</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/redirect-count.jpg" title="Redirect count">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/redirect-count.jpg#ZgotmplZ" alt="Redirect count" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1760 1188'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="32-navigation-type">3.2. Navigation Type</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Navigation type means the method of navigating to the current page. This includes values such as <code>NAVIGATE</code> (user wrote the address in the address bar or clicked a link to the current page), <code>RELOAD</code> (user reloaded the page), <code>BACK / FORWARD</code> (user clicked the browser&rsquo;s back or forward buttons) and <code>OTHER</code> (some other way of navigating to the page.</p>
<p><strong>Data Layer variable</strong>: {{DLV - browsingBehavior.navigationType}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>browsingBehavior.navigationType</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/navigation-type.jpg" title="Navigation type">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/navigation-type.jpg#ZgotmplZ" alt="Navigation type" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1690 1164'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="33-tab-type">3.3. Tab Type</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Tab type indicates whether the page load occurred in a newly open tab, or whether the tab already existed. This is done by storing the current <code>tabId</code> into <code>sessionStorage</code>. If the storage doesn&rsquo;t have the current tab ID, we can deduce that the tab is a new one, since <code>sessionStorage</code> is purged when the tab is closed.</p>
<p><strong>Data Layer variable</strong>: {{DLV - browsingBehavior.newTab}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>browsingBehavior.newTab</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/tab-type.jpg" title="Tab type">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/tab-type.jpg#ZgotmplZ" alt="Tab type" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1702 1282'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="34-tabs-open">3.4. Tabs Open</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>Tabs open returns the number of tabs currently open in the browser. This is based on a count of currently active tab IDs stored in <code>localStorage</code>. This counter isn&rsquo;t 100% reliable, because it relies on a number of moving parts which might not always be in sync. But as an indicator it&rsquo;s very useful, since it tells you how your content is typically being digested.</p>
<p><strong>Data Layer variable</strong>: {{DLV - browsingBehavior.tabCount}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>browsingBehavior.tabCount</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/tabs-open.jpg" title="Tabs open">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/tabs-open.jpg#ZgotmplZ" alt="Tabs open" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1688 1358'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<h3 id="35-tab-id">3.5. Tab ID</h3>
<p><strong>Custom Dimension scope</strong>: Hit</p>
<p>The final cog in the machine is the ID of the current tab. This is useful in case you want to group hits together by the tab in which they occurred.</p>
<p><strong>Data Layer variable</strong>: {{DLV - browsingBehavior.tabId}}</p>
<p><strong>Contents</strong>: Data Layer Variable Name - <code>browsingBehavior.tabId</code></p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/05/tab-id.jpg" title="Tab ID">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/05/tab-id.jpg#ZgotmplZ" alt="Tab ID" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1698 1456'%3E%3C/svg%3E">
  
    </a>
  
  
</div>



                
                  <h2 id="4-the-customtask-variable">4. The <code>customTask</code> variable</h2>
<p>You might have noticed that a number of the solutions in this guide utilize <code>customTask</code>. I might have recommended you to read my <a href="https://www.simoahava.com/analytics/customtask-the-guide/"><code>customTask</code> guide</a>, too!</p>
<p>One of the things you&rsquo;ll learn in the guide is that you can only have one <code>customTask</code> per tag. That means that if you want to implement <strong>all</strong> the Custom Dimensions in this article, you will need to combine <strong>three</strong> different <code>customTask</code> solutions into a single Custom JavaScript variable.</p>
<p>This is fairly easy to do, since it&rsquo;s more or less just copy-pasting all the code into one long anonymous <code>function</code>, but I&rsquo;ll show you how to do it nevertheless.</p>
<p>This is the Custom JavaScript variable you&rsquo;ll be using:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">var</span> clientIdIndex = <span style="color:#099">3</span>; <span style="color:#aaa;font-style:italic">// Change this number to the index of your Client ID Custom Dimension
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> hitTypeIndex = <span style="color:#099">5</span>; <span style="color:#aaa;font-style:italic">// Change this number to the index of your Hit Type Custom Dimension
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> payloadLengthIndex = <span style="color:#099">7</span>; <span style="color:#aaa;font-style:italic">// Change this number to the index of your Payload Length Custom Dimension
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(model) {
    <span style="color:#00a">var</span> globalSendTaskName, originalSendHitTask, originalHitPayload, hitPayload, customDimensionParameter;
    
    <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> clientIdIndex === <span style="color:#a50">&#39;number&#39;</span>) {
      model.set(<span style="color:#a50">&#39;dimension&#39;</span> + clientIdIndex, model.get(<span style="color:#a50">&#39;clientId&#39;</span>));
    }
    
    <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> hitTypeIndex === <span style="color:#a50">&#39;number&#39;</span>) {
      model.set(<span style="color:#a50">&#39;dimension&#39;</span> + hitTypeIndex, model.get(<span style="color:#a50">&#39;hitType&#39;</span>));
    }
    
    <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> payloadLengthIndex === <span style="color:#a50">&#39;number&#39;</span>) {
      globalSendTaskName = <span style="color:#a50">&#39;_&#39;</span> + model.get(<span style="color:#a50">&#39;trackingId&#39;</span>) + <span style="color:#a50">&#39;_sendHitTask&#39;</span>;
    
      originalSendHitTask = <span style="color:#0aa">window</span>[globalSendTaskName] = <span style="color:#0aa">window</span>[globalSendTaskName] || model.get(<span style="color:#a50">&#39;sendHitTask&#39;</span>);
    
      model.set(<span style="color:#a50">&#39;sendHitTask&#39;</span>, <span style="color:#00a">function</span>(sendModel) {
      
        <span style="color:#00a">try</span> {
        
          originalHitPayload = sendModel.get(<span style="color:#a50">&#39;hitPayload&#39;</span>);
        
          hitPayload = sendModel.get(<span style="color:#a50">&#39;hitPayload&#39;</span>);
          customDimensionParameter = <span style="color:#a50">&#39;&amp;cd&#39;</span> + payloadLengthIndex;
      
          <span style="color:#aaa;font-style:italic">// If hitPayload already has that Custom Dimension, note this in the console and do not overwrite the existing dimension
</span><span style="color:#aaa;font-style:italic"></span>      
          <span style="color:#00a">if</span> (hitPayload.indexOf(customDimensionParameter + <span style="color:#a50">&#39;=&#39;</span>) &gt; -<span style="color:#099">1</span>) {
          
            console.log(<span style="color:#a50">&#39;Google Analytics error: tried to send hit payload length in an already assigned Custom Dimension&#39;</span>);
            originalSendHitTask(sendModel);
        
          } <span style="color:#00a">else</span> {
      
            <span style="color:#aaa;font-style:italic">// Otherwise add the Custom Dimension to the string
</span><span style="color:#aaa;font-style:italic"></span>            <span style="color:#aaa;font-style:italic">// together with the complete length of the payload
</span><span style="color:#aaa;font-style:italic"></span>            hitPayload += customDimensionParameter + <span style="color:#a50">&#39;=&#39;</span>;
            hitPayload += (hitPayload.length + hitPayload.length.toString().length);
        
            sendModel.set(<span style="color:#a50">&#39;hitPayload&#39;</span>, hitPayload, <span style="color:#00a">true</span>);
            originalSendHitTask(sendModel);
        
          }
          
        } <span style="color:#00a">catch</span>(e) {
       
          console.error(<span style="color:#a50">&#39;Error sending hit payload length to Google Analytics&#39;</span>);
          sendModel.set(<span style="color:#a50">&#39;hitPayload&#39;</span>, originalHitPayload, <span style="color:#00a">true</span>);
          originalSendHitTask(sendModel);
        
        }
      
      });
    }
  };
}
</code></pre></div>
<p>If you want to drop any of the three solutions from this <code>customTask</code>, simply remove or comment out the respective <code>var ...Index = N;</code> line. For example, if you don&rsquo;t need to collect the payload length, change the code appropriately:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">var</span> clientIdIndex = <span style="color:#099">3</span>; <span style="color:#aaa;font-style:italic">// Change this number to the index of your Client ID Custom Dimension
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> hitTypeIndex = <span style="color:#099">5</span>; <span style="color:#aaa;font-style:italic">// Change this number to the index of your Hit Type Custom Dimension
</span><span style="color:#aaa;font-style:italic"></span>  
  <span style="color:#aaa;font-style:italic">// var payloadLengthIndex = 7;
</span><span style="color:#aaa;font-style:italic"></span>  
  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(model) {
    ...
</code></pre></div>

                
                  <h2 id="summary">Summary</h2>
<p>This list of Custom Dimensions is certainly not exhaustive, and I&rsquo;m sure you have other suggestions to what could be considered &ldquo;useful&rdquo;.</p>
<p>One thing to keep in mind is the restriction of just 20 available Custom Dimension slots in the free version of Google Analytics. This is very unfortunate, and one of the main gripes I have with GA. So it&rsquo;s very likely you&rsquo;re forced to prioritize just which dimension you&rsquo;ll need to be adding to your data collection. If push comes to shove, I would personally be fine with ignoring the five Browsing Behavior dimensions, and just focus on the 8 dimensions listed first in this article.</p>
<p>Regardless, I consider these Custom Dimensions to add much-needed granularity to GA data. Many of these dimensions are available by default only in the BigQuery export, which, in turn, is mainly available for Google Analytics 360 customers. So by adding these dimensions to your data set, you are, in a way, actually saving money.</p>
<p>Do you have some go-to Custom Dimensions you&rsquo;d recommend others add to their data collection right this instant? Let us know in the comments.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-analytics/">google analytics</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/custom-dimensions/">custom dimensions</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/allow-block-advertising-features-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/add-hit-type-custom-dimension/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=13%20Useful%20Custom%20Dimensions%20For%20Google%20Analytics%20https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/allow-block-advertising-features-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/add-hit-type-custom-dimension/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=13%20Useful%20Custom%20Dimensions%20For%20Google%20Analytics%20https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
          <i class="fa fa-brands fa-facebook"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=13%20Useful%20Custom%20Dimensions%20For%20Google%20Analytics%20https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/%20via%20@SimoAhava">
          <i class="fa fa-brands fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/13-useful-custom-dimensions-for-google-analytics/">
          <i class="fa fa-brands fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

