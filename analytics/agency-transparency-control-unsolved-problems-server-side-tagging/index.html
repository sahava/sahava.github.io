

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2022\/10\/regular-vs-server-tagging.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/agency-transparency-control-unsolved-problems-server-side-tagging\/",
  "datePublished": "2022-10-26T07:00:00\u002b03:00",
  "dateModified": "2022-10-26T07:00:00\u002b03:00",
  "description": "Server-side tagging has the potential to erode user\u0027s agency, their access to transparent data collection, and the company\u0027s control over upstream data flows.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
    
    <meta name="description" content="Server-side tagging has the potential to erode user&#39;s agency, their access to transparent data collection, and the company&#39;s control over upstream data flows.">
    <meta property="og:description" content="Server-side tagging has the potential to erode user&#39;s agency, their access to transparent data collection, and the company&#39;s control over upstream data flows.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging">
    <meta property="og:url" content="https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging">
    <meta name="twitter:description" content="Server-side tagging has the potential to erode user&#39;s agency, their access to transparent data collection, and the company&#39;s control over upstream data flows.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
	  <meta property="og:image" content="https://www.simoahava.com/images/2022/10/agency-transparency-control.jpg">
      <meta name="twitter:image" content="https://www.simoahava.com/images/2022/10/agency-transparency-control.jpg">
    


    

      
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener ">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://masto.measure.chat/@SimoAhava" target="_blank" rel="noopener me">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
      
      <span class="sidebar-button-desc">Mastodon</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
    <div class="figure nocaption">
      <img class="cover" src="https://www.simoahava.com/images/2022/10/agency-transparency-control.jpg" loading="lazy" width="750" height="422">
    </div>
  
  

    <h1>
      Agency, Transparency, And Control: Unsolved Problems With Server-side Tagging
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2022-10-26T07:00:00&#43;03:00">
        
  October 26, 2022

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>I have been a strong supporter of <a href="https://www.simoahava.com/tags/#server-side-tagging-list">server-side tagging</a>, in particular Google&rsquo;s <a href="https://developers.google.com/tag-platform/tag-manager/server-side">server-side tag management solution</a>.</p>
<p>I admire the way it seeks to readjust the balance of <strong>control</strong> that typically has been in favor of the marketing vendors whose <strong>JavaScript libraries</strong> have been free to wreak havoc in the user&rsquo;s browser.</p>



<div style="aspect-ratio: 842 / 596;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2022/10/regular-vs-server-tagging.jpg" title="Regular vs server-side tagging">
  
    <img class="fig-img" height="596" width="842" loading="lazy" src="https://www.simoahava.com/images/2022/10/regular-vs-server-tagging.jpg#ZgotmplZ" alt="Regular vs server-side tagging">
  
    </a>
  
  
</div>


<p>By inserting a <em>buffer</em> between the user and the vendor, the owner of the server-side tagging setup can <strong>take control</strong> over what data the marketing vendors can actually process of the user.</p>
<p>However, for all the good it brings to an organization, there are still some unsolved problems with the technology.</p>
<p>Unfortunately, these problems aren&rsquo;t things that a server-side tag management solution could solve in isolation.</p>



<div style="aspect-ratio: 960 / 540;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2022/10/agency-transparency-control-2.jpg" title="Agency transparency and control">
  
    <img class="fig-img" height="540" width="960" loading="lazy" src="https://www.simoahava.com/images/2022/10/agency-transparency-control-2.jpg#ZgotmplZ" alt="Agency transparency and control">
  
    </a>
  
  
</div>


<p>In this article, I explore these problems with the purpose of inspiring discussion and, hopefully, more focus on features that would help with the trifecta of <strong>user agency</strong>, <strong>transparency of data flows</strong>, and <strong>control</strong> over what is processed by the server-side proxy.</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="agency-the-user-should-have-the-final-say">Agency: The user should have the final say</h2>
<blockquote>
<p><strong>TL;DR</strong> By making ad blockers <strong>less efficient</strong>, server-side tagging <strong>erodes the user&rsquo;s agency</strong> over their browsing experience!</p>
</blockquote>
<p>If you LARP as a fly in the ceiling in any sales or implementation pitch around server-side tagging, you&rsquo;ll soon hear what many consider to be the most persuasive argument:</p>
<p>By running behind a custom domain name, server-side tagging can be used to <strong>avoid ad and content blockers from interfering with data collection</strong>.</p>
<blockquote>
<p>I&rsquo;ll be using the term <strong>ad blocker</strong> to conflate all different types of ad/content/privacy blockers in the rest of the article copy.</p>
</blockquote>
<p>This is an undeniable outcome of replacing direct communications with vendor domains (e.g. <code>facebook.com</code>) with a custom subdomain of the company&rsquo;s main web property (e.g. <code>sgtm.mycompany.com</code>).</p>
<p>Many blockers still use heuristics that primarily look at the <strong>URLs</strong> that receive network requests from the user&rsquo;s browser. If these URLs match patterns in their <strong>blocklists</strong>, the network requests are denied.</p>
<p>By moving away from <code>facebook.com</code> to <code>sgtm.mycompany.com</code>, a key part of the pattern is obfuscated. It&rsquo;s very unlikely for a blocklist to have <code>mycompany.com</code>, whereas it&rsquo;s almost certain ad blockers recognize <code>facebook.com</code>.</p>



<div style="aspect-ratio: 1606 / 332;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2022/10/brave-block.jpg" title="Blocked by Brave">
  
    <img class="fig-img" height="332" width="1606" loading="lazy" src="https://www.simoahava.com/images/2022/10/brave-block.jpg#ZgotmplZ" alt="Blocked by Brave">
  
    </a>
  
  
</div>


<p>Yes, many blockers also look into other parts of the request such as the <strong>path</strong> or <strong>query parameters</strong>, but these are easy enough to obfuscate with the server-side tagging technology, too.</p>
<p>Whether you do this intentionally (you actually want to prevent ad blockers from doing their job) or unintentionally (you want to move your data collection to first-party and blocking ad blockers is just a side effect of this), <strong>you need to respect the user&rsquo;s technology choices when engineering data collection</strong>.</p>
<p>You have <em>no way of knowing</em> why the user is using an ad blocker.</p>
<p>They might use it because <strong>they don&rsquo;t want to be tracked</strong>.</p>
<p>They might use it because <strong>they don&rsquo;t want to see ads</strong>.</p>
<p>They might use it because <strong>they want the Web to be faster</strong>.</p>
<p>They might use it <strong>without knowing they&rsquo;re using it</strong>, if they happen to use a browser such as <a href="https://brave.com/">Brave</a> that has built-in ad blocker functionality.</p>
<h3 id="why-is-this-a-difficult-problem-to-solve">Why is this a difficult problem to solve?</h3>
<p>One of the main benefits of server-side tagging is <strong>data stream consolidation</strong>. You can reduce client-side performance woes and mitigate the privileges given to vendor JavaScript libraries by only collecting a single stream of data from the user&rsquo;s device to the server-side tagging endpoint.</p>
<p>The server then takes this stream and <strong>fans it out</strong> to the marketing vendors. This way a single <strong>Google Analytics 4</strong> stream, for example, can be used to also collect data for Facebook, for Google Ads, for Taboola, etc.</p>



<div style="aspect-ratio: 2848 / 1432;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2022/10/fan-data.jpg" title="fan data out">
  
    <img class="fig-img" height="1432" width="2848" loading="lazy" src="https://www.simoahava.com/images/2022/10/fan-data.jpg#ZgotmplZ" alt="fan data out">
  
    </a>
  
  
</div>


<p>So now if the user is using an extension that blocks Facebook but not Google Analytics, you need to first check if the user&rsquo;s <strong>browser would block</strong> the Facebook stream, then <strong>pass this information</strong> to the server with the GA4 hit, and then in the server make sure the Facebook stream is blocked so that the <strong>user&rsquo;s choice is respected</strong>.</p>
<p>This is awkward.</p>
<p>Your site might also have a <strong>Content Security Policy</strong> in place which prevents you from making the mock request to <code>facebook.com</code> in order to check if it would be blocked by an extension.</p>
<h3 id="what-are-the-potential-solutions">What are the potential solutions?</h3>
<ul>
<li>
<p>Ad blockers could expose in a standardized way which vendors or endpoints are currently being blocked, <em>shimmed</em>, or restricted in some other way in the browser. The website could read this information and then use it to engineer the triggers in the server. However, I&rsquo;m not sure ad blockers <em>can</em> agree on a standard like that, and I don&rsquo;t think they are willing to even pursue it, as the same information could be used to avoid the ad blocker&rsquo;s heuristics even more efficiently.</p>
</li>
<li>
<p>The website could do a simple check (e.g. with a dummy <code>ads.js</code> file) if the user is using <em>any</em> type of ad blocker, and then the site could proactively block the entire data flow to the server container. This is a drastic measure, of course, because the server-side tagging setup can be used for many things that are completely unrelated to tracking, ads, or the types of things that ad blockers typically target.</p>
</li>
<li>
<p>Same as the previous approach but instead of blocking the entire flow, the website could classify which flows are <strong>typically</strong> blocked by ad blockers and only prevent those from activating if the user is using an ad blocker. This is problematic because there is no standardized classification of what different ad blockers can do.</p>
</li>
<li>
<p>The decision about proactively blocking data flows could be tied to mechanisms like the <a href="https://globalprivacycontrol.org/">Global Privacy Control</a> and the notion of &ldquo;consent&rdquo; under <strong>GDPR and the ePrivacy Directive</strong>, for example. But this is problematic because some of the justifications for using an ad blocker have nothing to do with <em>personal data</em> or <em>user data</em> or legal regulation.</p>
</li>
</ul>
<p>In this, the <em>more proactive you can be, the better</em>. If it&rsquo;s possible to block the flows that would typically be targeted by an ad blocker, <strong>do so</strong>. You&rsquo;ll also mitigate your risks of collecting data that you should not be allowed to collect in the first place.</p>

                
                  <h2 id="transparency-the-vegas-rule-of-server-side-tagging">Transparency: The Vegas Rule of server-side tagging</h2>
<blockquote>
<p><strong>TL;DR</strong> Moving data flows server-side makes it more difficult to validate if the data is collected and processed legally and according to the user&rsquo;s wishes and choices.</p>
</blockquote>
<p>The <strong>Vegas Rule</strong> of server-side tagging goes like this:</p>
<blockquote>
<p>What happens in the server, <strong>stays</strong> in the server.</p>
</blockquote>
<p>This is a cornerstone of the <strong>client-server architecture</strong> of the Internet. There&rsquo;s no obligation for one to reveal anything to the other beyond what is dispatched in the requests and responses that flow between the two.</p>
<p>This also poses a major problem to replacing <strong>client-side tagging</strong> with <strong>server-side tagging</strong> (to a certain degree).</p>
<p>One of the benefits of keeping the data flows in the browser (or user&rsquo;s device) is that they can be <strong>monitored</strong> and <strong>audited</strong> in place.</p>



<div style="aspect-ratio: 1598 / 732;" class="figure Sample of client-side requests on cnn.com">
  
    <a href="https://www.simoahava.com/images/2022/10/cnn-client-side.jpg" title="Sample of client-side requests on cnn.com">
  
    <img class="fig-img" height="732" width="1598" loading="lazy" src="https://www.simoahava.com/images/2022/10/cnn-client-side.jpg#ZgotmplZ" alt="Sample of client-side requests on cnn.com">
  
    </a>
  
   
    <span class="caption">Sample of client-side requests on cnn.com</span>
  
</div>


<p>No, most Web users do not have the skills or tools to do this type of auditing, but there are numerous organizations and countless individuals who do this work on the &ldquo;typical&rdquo; web user&rsquo;s behalf.</p>
<p>For example, if a website asks for the user&rsquo;s consent to access information stored on the device (under the auspices of the <strong>ePrivacy Directive</strong>, for example), it&rsquo;s easy enough to monitor the data flows in the browser to see if they make use of device storage.</p>
<p>If this logic is moved to the server, this transparency is lost.</p>
<p>This is not a <strong>novel problem</strong>! Any time data processing happens outside the browser, such as in the company CRM or in a vendor&rsquo;s service, the user can only <em>trust</em> (or hope) that their choices and rights are being observed.</p>
<p>But as the whole point of server-side tagging is to move data flows from client-side to server-side, this problem is <strong>magnified</strong> beyond anything that we&rsquo;ve seen before.</p>
<h3 id="why-is-this-a-difficult-problem-to-solve-1">Why is this a difficult problem to solve?</h3>
<p>The main challenge here is that there is <strong>no existing mechanism</strong> for revealing server-side machinations in the user&rsquo;s device. There is no audit tool the user can launch in the web browser, for example, which would show what happens to the data flows once they depart the user&rsquo;s device.</p>
<p>And even if there was some tool like that, the server can <em>freely choose</em> what information to divulge back to the request origin. So there&rsquo;s no way of trusting that the information is an accurate reflection of what happened in the server, and the company running the server might have good reason to obfuscate some of the information, especially if it pertains to sensitive business data.</p>
<h3 id="what-are-the-potential-solutions-1">What are the potential solutions?</h3>
<ul>
<li>
<p>The server-side tagging vendor (Google, for example), could build into the application a mechanism that reports back to the request origin (in the HTTP response) what happened in the server environment. A tool like <a href="https://tagassistant.google.com/">Tag Assistant</a> could then read this and report it to the user. The main problem with this approach is the increase in <strong>network egress</strong> costs, as the HTTP response size increases with this new metadata. Additionally, this requires the user (or the person doing the auditing) to install a browser extension <em>and</em> trust the data it reveals.</p>
</li>
<li>
<p>The company running the server container should clearly document what types of data flows take place on the website <em>and</em> in the server. However, there&rsquo;s no reason for the user to believe this document is accurate, consistently updated, or that it reflects the status quo with the user&rsquo;s interests in mind.</p>
</li>
<li>
<p>The server-side tagging application could enable a public-facing &ldquo;audit view&rdquo; that savvy users could load in order to see what happens within the server container. However, this could lead to problems where the company wants to hide some of that information due to it being business-critical or otherwise sensitive. This would also result in increased costs for the company, as the public-facing web service would need to be maintained and supported by the server environment.</p>
</li>
</ul>
<p>For now, the best approach is to be as proactive as possible in describing the data flows that happen in the server. It&rsquo;s also very important to understand that just because something can&rsquo;t be audited doesn&rsquo;t mean it&rsquo;s out of reach of <strong>legal compliance</strong>.</p>
<p>In the European Union, for example, you have a legal obligation to respect the right to privacy for EU data subjects, and moving your data flows to the server doesn&rsquo;t exempt you from this.</p>
<p>Transparency is a <strong>proactive trait</strong> when it comes to server-side data flows. You should go <strong>out of your way</strong> to make sure your visitors and customers feel (and <em>know</em>) their right to control their personal data is respected.</p>

                
                  <h2 id="control-theres-no-such-thing-as-too-much-granularity">Control: There&rsquo;s no such thing as &ldquo;too much granularity&rdquo;</h2>
<p>When it comes to <strong>control</strong>, the company running the server-side tagging environment should have <strong>complete</strong> and <strong>total</strong> say over what happens in the server environment.</p>
<p>That is the <em>only</em> way they can truly respect the user&rsquo;s <strong>agency</strong> and the need for more <strong>transparency</strong>.</p>
<p>As such, the notion of <strong>control</strong> trumps all other aspects of server-side tagging. If control is compromised, the whole <em>raison d&rsquo;être</em> of server-side tagging falls apart.</p>
<p>This is something that Google&rsquo;s server-side tag management solution <strong>does not</strong> currently provide to a satisfactory degree.</p>



<div style="aspect-ratio: 1782 / 836;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2022/10/ga4-tag-template.jpg" title="GA4 Tag Template">
  
    <img class="fig-img" height="836" width="1782" loading="lazy" src="https://www.simoahava.com/images/2022/10/ga4-tag-template.jpg#ZgotmplZ" alt="GA4 Tag Template">
  
    </a>
  
  
</div>


<p>For example, the built-in templates in the container (the <strong>Google Analytics 4</strong> template, for one), are <em>not</em> open-sourced nor can they be opened in the <a href="https://www.simoahava.com/analytics/custom-templates-guide-for-google-tag-manager/">custom template</a> editor.</p>
<p>This means that even though you have control over the data flow from the <strong>client to the server</strong>, you lack the ability to control or validate what happens to this data before it&rsquo;s dispatched to the vendors.</p>
<p>Similarly, you might find the need to control how the incoming network request is parsed into an &ldquo;event data object&rdquo; that the tags can digest. Unfortunately, there&rsquo;s no way to interject code into the process where the server container <strong>parses an incoming request</strong> and <strong>processes it for tags</strong>.</p>
<p>Most of the <em>ad hoc controls</em> you have when running a server-side GTM instance are not granular enough.</p>
<p>For example, you can configure a <a href="https://developers.google.com/tag-platform/tag-manager/server-side/configure-a-policy">policy</a> that determines what APIs the server container&rsquo;s templates can use (can they, for example, set cookies or send HTTP requests). But you can&rsquo;t do this on a tag-by-tag basis without <em>editing the templates</em>.</p>
<p>So even though I celebrate <strong>control</strong> as the ultimate gift of setting up a server-side tagging environment, much of this control is still an illusion.</p>
<h3 id="why-is-this-a-difficult-problem-to-solve-2">Why is this a difficult problem to solve?</h3>
<p>Actually, I don&rsquo;t think this is a difficult problem to solve, and I&rsquo;m confidently hopeful that Google will work towards improving this in the (near) future.</p>
<p><strong>Control</strong> in a server-side tagging environment is a pie that is shared with many hungry participants.</p>
<ul>
<li>
<p><strong>Google</strong> as the service vendor has control over how the service works.</p>
</li>
<li>
<p><strong>The company running the server</strong> has control over how the data flows are configured.</p>
</li>
<li>
<p><strong>The user whose data is collected</strong> has (or should have) control over what data of theirs is processed.</p>
</li>
<li>
<p><strong>Marketing technology vendors</strong> gain control when they create templates and server-side endpoints for data collection.</p>
</li>
</ul>
<p>Ultimately, the company that runs the server should have final say over how this control is distributed.</p>
<h3 id="what-are-the-potential-solutions-2">What are the potential solutions</h3>
<p>If we agree that the control over the server-side environment should be governed by the company that runs/owns the server, we arrive at the following consequences:</p>
<ul>
<li>
<p><strong>Google</strong> needs to provide a service that has enough granular toggles for controlling <em>all</em> aspects of the data flow. This means <strong>proper request handling</strong>, <strong>event data management</strong>, <strong>tag-by-tag permission controls</strong>, <strong>consent APIs</strong>, <strong>storage access control</strong>, and so forth.</p>
</li>
<li>
<p><strong>Marketing technology vendors</strong> need to create templates that do not require data collection beyond the absolute minimum required to run a service. Many companies are asking for highly sensitive and sticky <strong>personal data</strong> (such as email addresses) to be delivered through server-to-server calls. This is very risky, and marketing vendors should proactively seek to minimize this type of data collection.</p>
</li>
<li>
<p><strong>Server container admins</strong> need to learn how the tag management solution itself works <em>and</em> how the Cloud environment that hosts the service is configured. The latter is especially poignant – server-side tagging is, for many, the first touchpoint with a scalable Cloud service. This comes with an enormous learning curve that many admins are not prepared to tackle.</p>
</li>
<li>
<p><strong>Regular Internet users</strong> need education about these types of technologies so that they can better prepare to manage the data collected from their browsers and devices. This is of course a tall order, and it should <em>never</em> be the responsibility of the user to learn something as a <em>prevention measure</em>. If that is the outcome, then the data collection should be strictly <strong>opt-in</strong>.</p>
</li>
</ul>
<p>The word <strong>control</strong> has no positive or negative connotations by default. Server-side tagging is all about <strong>control</strong>, but it&rsquo;s the mutual understanding between the parties listed above whether this control is used for good or for evil.</p>

                
                  <h2 id="summary">Summary</h2>
<p>The technology of server-side tagging frustrates me to no end.</p>
<p>One the one hand, I&rsquo;m <strong>incredibly</strong> excited about its prospects. It delivers <em>so many benefits</em> to organizations that want to take better care of their users, better care of their data flows, and better care of the relationships they have with their marketing vendors.</p>
<p>On the other hand, it&rsquo;s crippled by the <strong>limitations</strong> of the online environment it works in. The <strong>client-server architecture</strong> of the Internet is resilient to modern requirements (or expectations) of transparency. The push for <strong>first-party data collection</strong> (which can be considered a net positive thing) means that traditional controls users have for data flow management (e.g. ad blockers) are less efficient.</p>
<p>I don&rsquo;t know if others share these views, but in my opinion, the suggestions I propose in this article should result in a universally better environment for all parties involved.</p>
<p>For those that want to <em>do no evil</em>, supporting <strong>user agency</strong>, choosing <strong>transparency</strong> over opaqueness, and increasing <strong>granularity of control</strong> should be priorities when developing the online environment towards a healthier status quo.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/server-side/">server-side</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/server-side-tagging/">server-side tagging</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/privacy/first-party-cookies-webkit-revisited/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/content-analysis-using-ga4-bigquery-r-google-sheets-data-studio/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Agency,%20Transparency,%20And%20Control:%20Unsolved%20Problems%20With%20Server-side%20Tagging%20https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/privacy/first-party-cookies-webkit-revisited/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/content-analysis-using-ga4-bigquery-r-google-sheets-data-studio/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Agency,%20Transparency,%20And%20Control:%20Unsolved%20Problems%20With%20Server-side%20Tagging%20https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
          <i class="fa fa-brands fa-facebook"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Agency,%20Transparency,%20And%20Control:%20Unsolved%20Problems%20With%20Server-side%20Tagging%20https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/%20via%20@SimoAhava">
          <i class="fa fa-brands fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/agency-transparency-control-unsolved-problems-server-side-tagging/">
          <i class="fa fa-brands fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

