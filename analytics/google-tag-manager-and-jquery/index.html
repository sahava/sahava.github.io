

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "Google Tag Manager And jQuery | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2019\/02\/jquery-google-tag-manager.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/google-tag-manager-and-jquery\/",
  "datePublished": "2019-02-20T10:41:55\u002b02:00",
  "dateModified": "2019-02-20T10:41:55\u002b02:00",
  "description": "This article goes over the (non-existent) relationship between the jQuery library and Google Tag Manager, and offers you tips on how to integrate the two.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Google Tag Manager And jQuery | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/google-tag-manager-and-jquery/">
    
    <meta name="description" content="This article goes over the (non-existent) relationship between the jQuery library and Google Tag Manager, and offers you tips on how to integrate the two.">
    <meta property="og:description" content="This article goes over the (non-existent) relationship between the jQuery library and Google Tag Manager, and offers you tips on how to integrate the two.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Google Tag Manager And jQuery">
    <meta property="og:url" content="https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Google Tag Manager And jQuery">
    <meta name="twitter:description" content="This article goes over the (non-existent) relationship between the jQuery library and Google Tag Manager, and offers you tips on how to integrate the two.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta property="og:image" content="https://www.simoahava.com/images/simo.png">
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          
          
            <div class="post-header main-content-wrap text-left">

  

    <h1>
      Google Tag Manager And jQuery
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2019-02-20T10:41:55&#43;02:00">
        
  February 20, 2019

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/google-tag-manager-and-jquery/#commento">Comments</a>
      
  </div>


</div>

          
          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>The <a href="https://jquery.com/">jQuery</a> JavaScript library is by almost any means of counting the <a href="https://trends.builtwith.com/javascript/jQuery">most popular JavaScript library</a> used in websites around the world. It&rsquo;s so influential, in fact, that its evolution is tightly bound to the JavaScript standardization effort itself, and it&rsquo;s an integral part of the <a href="https://js.foundation/">JS Foundation&rsquo;s</a> efforts to build a community for JavaScript developers.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg" title="jQuery and Google Tag Manager">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/jquery-google-tag-manager.jpg#ZgotmplZ" alt="jQuery and Google Tag Manager" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2424 506'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p><a href="https://tagmanager.google.com/">Google Tag Manager</a>, similarly, is the most <a href="https://trends.builtwith.com/widgets/Google-Tag-Manager">popular tag management system</a> used in websites, globally. Thus, by way of weak correlation, it makes sense to expect some synergy between the two.</p>
<p>In this article, I want to explore the relationship between the two tools. Both serve a similar purpose - abstraction and facilitation of <em>doing stuff</em> with JavaScript on a web page. I also want to dispel a myth about Google Tag Manager bundling jQuery natively, and I want to explore when it might make sense <strong>not</strong> to use jQuery.</p>
<div id="toc-container"><h1 id="table-of-contents">Table of Contents</h1> <input type="checkbox" id="show"><label for="show" id="showbtn"><h1 id="table-of-contents-mobile">Table of Contents</h1><span class="show">&nbsp;[+show]</span><span class="hide">&nbsp;[–hide]</span></label><nav id="TableOfContents">
  <ul>
    <li><a href="#no-google-tag-manager-does-not-come-bundled-with-the-jquery-library">No, Google Tag Manager does not come bundled with the jQuery library</a></li>
    <li><a href="#check-if-jquery-is-already-running">Check if jQuery is already running</a></li>
    <li><a href="#use-jquery-safely">Use jQuery safely</a></li>
    <li><a href="#load-jquery-using-google-tag-manager">Load jQuery using Google Tag Manager</a></li>
    <li><a href="#you-dont-always-have-to-use-jquery">You don&rsquo;t always have to use jQuery</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav></div>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="no-google-tag-manager-does-not-come-bundled-with-the-jquery-library">No, Google Tag Manager does not come bundled with the jQuery library</h2>
<p>Some people have peeked into the depths of the <code>gtm.js</code> library downloaded by the browser when the <a href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/">container snippet</a> is executed. This library contains the GTM container in all its glory. Within the minified, obfuscated JavaScript code, sharp eyes can find the following comment:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/jquery-licence.jpg" title="jQuery licence">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/jquery-licence.jpg#ZgotmplZ" alt="jQuery licence" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1080 182'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>This comment might tempt you to think that GTM bundles the full jQuery library within the container JavaScript.</p>
<p>It doesn&rsquo;t.</p>
<p>The comment is there because Google Tag Manager uses one method that is heavily inspired by a similar functionality in the jQuery library. You can find the source of this in the <a href="https://github.com/google/data-layer-helper/blob/master/src/plain/is_plain_object.js">data-layer-helper</a> GitHub project, where the <code>is_plain_object.js</code> contains the explanation for why there is a licence notice like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/datalayer-helper.jpg" title="Data Layer Helper">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/datalayer-helper.jpg#ZgotmplZ" alt="Data Layer Helper" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1756 534'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>By the way, the <strong>data-layer-helper</strong> project is a great way to get acquainted with how GTM&rsquo;s <a href="https://www.simoahava.com/analytics/google-tag-manager-data-model/">internal data model</a> works!</p>

                
                  <h2 id="check-if-jquery-is-already-running">Check if jQuery is already running</h2>
<p>Chances are, your site is already running jQuery. You can test this by opening the <strong>JavaScript console</strong> in your <a href="https://www.wpadm.com/faq/what-is-developer-console-and-how-to-open-it-in-different-browsers/">favorite web browser</a>. Once the console is open, type in the following text and press enter:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">typeof</span> <span style="color:#0aa">window</span>.jQuery !== <span style="color:#a50">&#39;undefined&#39;</span> ? console.log(<span style="color:#0aa">window</span>.jQuery.fn.jquery) : <span style="color:#a50">&#39;jQuery not found!&#39;</span>
</code></pre></div>
<p>If your site is running jQuery, you&rsquo;ll see the version number output into the console. If your site is <strong>not</strong> running jQuery, you&rsquo;ll see the text: <code>jQuery not found!</code>.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/jquery-found.jpg" title="jQuery found">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/jquery-found.jpg#ZgotmplZ" alt="jQuery found" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1522 282'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>If jQuery was found, you can <strong>tentatively</strong> use it in your Custom HTML tags and your Custom JavaScript variables.</p>
<p>However, jQuery is (or at least should be) loaded <em>asynchronously</em>, which means there might be a race condition where you try to call its methods using GTM before the jQuery library has actually loaded. Thus, whenever you want to use jQuery, you should hedge it with some safeguards.</p>

                
                  <h2 id="use-jquery-safely">Use jQuery safely</h2>
<p>Basically, if you want to use jQuery, you should always check if it has been initialized with something like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> <span style="color:#0aa">window</span>.jQuery !== <span style="color:#a50">&#39;undefined&#39;</span>) {
  <span style="color:#aaa;font-style:italic">// Do something with jQuery
</span><span style="color:#aaa;font-style:italic"></span>} <span style="color:#00a">else</span> {
  <span style="color:#aaa;font-style:italic">// Fallback in case jQuery hasn&#39;t been loaded
</span><span style="color:#aaa;font-style:italic"></span>}
</code></pre></div>
<p>If jQuery is found, you can use it at will, and if it isn&rsquo;t found, the <code>else</code> block is the fallback you&rsquo;ll use in such cases. Here&rsquo;s an example:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">var</span> el = {{Click Element}};
  <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> <span style="color:#0aa">window</span>.jQuery !== <span style="color:#a50">&#39;undefined&#39;</span>) {
    <span style="color:#00a">return</span> <span style="color:#0aa">window</span>.jQuery(el).find(<span style="color:#a50">&#39;h1&#39;</span>).text();
  } <span style="color:#00a">else</span> {
    <span style="color:#00a">return</span> el.querySelector(<span style="color:#a50">&#39;h1&#39;</span>).textContent;
  }
}
</code></pre></div>
<p>The code in the <code>if</code> block and the code in the <code>else</code> block are <em>essentially</em> the same, though jQuery has some benefits, such as making sure that <code>text()</code> returns the text content regardless of browser type and version.</p>

                
                  <h2 id="load-jquery-using-google-tag-manager">Load jQuery using Google Tag Manager</h2>
<p>If jQuery isn&rsquo;t used by your site, and you still want to leverage it, you can always load it in a Custom HTML tag.</p>
<blockquote>
<p>First, <strong>discuss this with your developers</strong>. jQuery can introduce quite a bit of bloat into the page, and the developers might have had a good reason not to use jQuery at all. It&rsquo;s possible they use another library that has the same functionality.</p>
</blockquote>
<p>The best way to load jQuery is to use a Custom HTML tag in a <a href="https://www.simoahava.com/analytics/understanding-tag-sequencing-in-google-tag-manager/">tag sequence</a> with whatever tag(s) you have that might need to use jQuery.</p>
<p>Let&rsquo;s start with what the Custom HTML tag looks like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#1e90ff;font-weight:bold">script</span>&gt;
  (<span style="color:#00a">function</span>() {
    <span style="color:#00a">var</span> el = <span style="color:#0aa">document</span>.createElement(<span style="color:#a50">&#39;script&#39;</span>);
    el.src = <span style="color:#a50">&#39;https://code.jquery.com/jquery-3.3.1.min.js&#39;</span>;
    el.async = <span style="color:#00a">true</span>;
    el.addEventListener(<span style="color:#a50">&#39;load&#39;</span>, <span style="color:#00a">function</span>() { <span style="color:#0aa">window</span>.google_tag_manager[{{Container ID}}].onHtmlSuccess({{HTML ID}})});
    el.addEventListener(<span style="color:#a50">&#39;error&#39;</span>, <span style="color:#00a">function</span>() { <span style="color:#0aa">window</span>.google_tag_manager[{{Container ID}}].onHtmlFailure({{HTML ID}})});
    <span style="color:#0aa">document</span>.head.appendChild(el);
  })();
&lt;/<span style="color:#1e90ff;font-weight:bold">script</span>&gt;</code></pre></div>
<p>You&rsquo;ll need to enable the <strong>Container ID</strong> and <strong>HTML ID</strong> <a href="https://www.simoahava.com/analytics/variable-guide-google-tag-manager/#built-in-variables">built-in variables</a> for this. Do <strong>not</strong> add any triggers to this tag.</p>
<p>Basically, you create an asynchronous <code>&lt;script&gt;</code> load request for the jQuery library from jQuery&rsquo;s own CDN (content distribution network). Because it&rsquo;s asynchronous, you also add a <code>load</code> listener, which fires when the library has loaded successfully, and an <code>error</code> listener, which fires if the library failed to load due to an error.</p>
<p>It&rsquo;s not perfect, since sometimes just because the library loaded doesn&rsquo;t mean it managed to execute correctly (if there are conflicts in the page&rsquo;s global namespace, for example), and an error isn&rsquo;t always thrown if the library fails to load.</p>
<p>Once you&rsquo;ve created that Custom HTML tag, scroll down to its <strong>Advanced settings</strong>, and set its <strong>Tag firing options</strong> to <strong>Once per page</strong>.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/once-per-page.jpg" title="Once per page">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/once-per-page.jpg#ZgotmplZ" alt="Once per page" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1310 604'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>This is because regardless of how many tag sequences it&rsquo;s in, you only want to load the jQuery library once per page.</p>
<p>Next, you need to open every tag that needs jQuery, scroll down to <em>their</em> <strong>Advanced settings</strong>, and add the jQuery loader as a <strong>setup</strong> tag in the sequence:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/02/jquery-loader-sequence.jpg" title="jQuery loader in sequence">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/jquery-loader-sequence.jpg#ZgotmplZ" alt="jQuery loader in sequence" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1172 352'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>If you want to block the tag from running in case jQuery <strong>did not</strong> load, you can check the &ldquo;Don&rsquo;t fire <code>tag</code> if <code>setup_tag</code> fails or is paused&rdquo;. But this is a bit drastic. Instead, you might want to simply see the tip in the previous chapter to run a fallback in case jQuery is not found.</p>
<p>I want to repeat what I wrote above: <strong>discuss with your developers first</strong>. jQuery isn&rsquo;t big, but it&rsquo;s still bloat if you only need it for a handful of things. Which leads me to the next point.</p>

                
                  <h2 id="you-dont-always-have-to-use-jquery">You don&rsquo;t always have to use jQuery</h2>
<p>Check out this wonderful website: <a href="http://youmightnotneedjquery.com/">You Might Not Need jQuery</a>. It&rsquo;s a service that helps you rewrite jQuery methods using vanilla JavaScript.</p>
<p>If you find yourself only needing jQuery for a handful of things, it might be better to just use native JavaScript methods rather than load an entire library to perform simple tasks.</p>



<div class="figure " >
  
    <a href="https://www.simoahava.com/images/2019/02/youmightnotneedjquery.jpg" title="How to write an HTTP POST request with and without jQuery">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/02/youmightnotneedjquery.jpg#ZgotmplZ" alt="How to write an HTTP POST request with and without jQuery" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 2406 582'%3E%3C/svg%3E">
  
    </a>
  
   
    <span class="caption">How to write an HTTP POST request with and without jQuery</span>
  
</div>


<p>Here are my own, personal rules of thumb:</p>
<ol>
<li>
<p><strong>If the site already loads the jQuery library</strong>, use it at will. Just make sure to avoid race conditions if jQuery is loaded asynchronously (as it should).</p>
</li>
<li>
<p><strong>If the site is not running jQuery</strong>, look at the complexity of the tasks you want to do. If you only need to do simple DOM traversal or trivial HTTP requests, look into using native JavaScript rather than loading the library.</p>
</li>
<li>
<p><strong>If you must load jQuery</strong>, use a <strong>recent, minified</strong> version of the library. Load it <strong>asynchronously</strong>, and use <strong>tag sequencing</strong> to ensure the dependency has loaded before it is used by the main tag.</p>
</li>
</ol>

                
                  <h2 id="summary">Summary</h2>
<p>jQuery is a great tool in web development. There&rsquo;s a reason it&rsquo;s the most popular JavaScript library on the web.</p>
<p>However, native JavaScript is spectacularly useful, too, even if you might have type in some extra characters compared to jQuery&rsquo;s helper methods.</p>
<p>I&rsquo;ve always tried to avoid using jQuery or, really, any helper library because I think it&rsquo;s important to understand how the underlying JavaScript engine in the browser works. If you always use jQuery, you&rsquo;ll easily ignore things like the nuances of browser support, performance optimization, and how to write good, readable code in general.</p>
<p>Similar to Google Tag Manager, jQuery is a great tool, but you have to <strong>earn</strong> the right to use it by understanding how it works on the web page. Ignorance to what jQuery actually does can lead to catastrophic results, when you write business critical code in your tags, relying on an outdated version of jQuery, or using methods that totally kill performance.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/jquery/">jquery</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/javascript/">javascript</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/use-localstorage-client-id-persistence-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/enhanced-ecommerce-facebook-pixel/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Google%20Tag%20Manager%20And%20jQuery%20https://www.simoahava.com/analytics/google-tag-manager-and-jquery/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://cdn.commento.io/js/commento.js"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/use-localstorage-client-id-persistence-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/enhanced-ecommerce-facebook-pixel/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Google%20Tag%20Manager%20And%20jQuery%20https://www.simoahava.com/analytics/google-tag-manager-and-jquery/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Google%20Tag%20Manager%20And%20jQuery%20https://www.simoahava.com/analytics/google-tag-manager-and-jquery/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/google-tag-manager-and-jquery/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>

    
  </body>
</html>

