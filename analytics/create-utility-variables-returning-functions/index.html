

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "#GTMTips: Create Utility Variables By Returning Functions | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2019\/03\/javascript-return-function-utility.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/create-utility-variables-returning-functions\/",
  "datePublished": "2019-03-13T13:24:28\u002b02:00",
  "dateModified": "2019-03-13T13:24:28\u002b02:00",
  "description": "You can use Google Tag Manager\u0027s Custom JavaScript variables to create your own utilities. You do this by having these variables actually returning the function you want to invoke with parameters.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>#GTMTips: Create Utility Variables By Returning Functions | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/create-utility-variables-returning-functions/">
    
    <meta name="description" content="You can use Google Tag Manager&#39;s Custom JavaScript variables to create your own utilities. You do this by having these variables actually returning the function you want to invoke with parameters.">
    <meta property="og:description" content="You can use Google Tag Manager&#39;s Custom JavaScript variables to create your own utilities. You do this by having these variables actually returning the function you want to invoke with parameters.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="#GTMTips: Create Utility Variables By Returning Functions">
    <meta property="og:url" content="https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="#GTMTips: Create Utility Variables By Returning Functions">
    <meta name="twitter:description" content="You can use Google Tag Manager&#39;s Custom JavaScript variables to create your own utilities. You do this by having these variables actually returning the function you want to invoke with parameters.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2019/03/javascript-return-function-utility.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2019/03/javascript-return-function-utility.jpg">
    


    

      
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" loading="lazy" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener ">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://masto.measure.chat/@SimoAhava" target="_blank" rel="noopener me">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
      
      <span class="sidebar-button-desc">Mastodon</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      #GTMTips: Create Utility Variables By Returning Functions
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2019-03-13T13:24:28&#43;02:00">
        
  March 13, 2019

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/gtm-tips">GTM Tips</a>
    
  


      | <a href="https://www.simoahava.com/analytics/create-utility-variables-returning-functions/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>In <a href="https://tagmanager.google.com/">Google Tag Manager</a>, the <a href="https://www.simoahava.com/analytics/variable-guide-google-tag-manager/#4-custom-javascript">Custom JavaScript variable</a> is an <strong>anonymous function</strong> with a <code>return</code> statement. It does not take any parameters, and by default it&rsquo;s <strong>impossible</strong> to pass any parameters to it, because the Custom JS variable is simply resolved to whatever value the function returns. If it returns a number, for example, passing a parameter to it would make no sense and would result in a <code>TypeError</code> since the variable resolves to a number, not a function.</p>
<p>However, you can actually have the variable <strong>return a function</strong>. You can use this to create your own <strong>utilities</strong>, which take parameters and, in turn, return some new value based on the calculations done with the variables.</p>
<p>This isn&rsquo;t a novel discovery - variables returning functions are at the core of how things like <a href="https://www.simoahava.com/gtm-tips/hitcallback-eventcallback/"><code>hitCallback</code></a> and <a href="https://www.simoahava.com/analytics/customtask-the-guide/"><code>customTask</code></a> work. In this article, I&rsquo;ll explain a bit further what you can do with these utility variables.</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="tip-97-create-utilities-with-the-custom-javascript-variable">Tip 97: Create utilities with the Custom JavaScript variable</h2>



<div style="aspect-ratio: 960 / 540;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2019/03/javascript-return-function-utility.jpg" title="Return functions with Custom JavaScript variables">
  
    <img class="fig-img" height="540" width="960" loading="lazy" src="https://www.simoahava.com/images/2019/03/javascript-return-function-utility.jpg#ZgotmplZ" alt="Return functions with Custom JavaScript variables">
  
    </a>
  
  
</div>


<p>A <strong>function</strong> which <strong>returns a function</strong> has plenty of use in JavaScript. It&rsquo;s sometimes called a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures"><strong>closure</strong></a> because it has access to the lexical scope of the wrapping function even after that function has ended execution.</p>
<p>In Google Tag Manager, using the function as a closure isn&rsquo;t necessarily the biggest perk, because Custom JavaScript variables are designed to be ephemeral - simply processing things in scope (e.g. other variables), and then returning the result of this processing.</p>
<p>However, when you <strong>return a function</strong> which accepts parameters in a Custom JavaScript variable, you can create a utility that can be invoked from Custom HTML tags and other Custom JavaScript variables without having to always rewrite the same code in all the places you need to the utility.</p>
<p>For example, let&rsquo;s say you want to create a <strong>browser cookie</strong> in a Custom HTML tag. You have some options:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#1e90ff;font-weight:bold">script</span>&gt;
  <span style="color:#aaa;font-style:italic">// Option 1: Create a global method
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#0aa">window</span>._setCookie = <span style="color:#00a">function</span>(name, value, ms, path, domain) {
    <span style="color:#00a">if</span> (!name || !value) {
      <span style="color:#00a">return</span>;
    }
    <span style="color:#00a">var</span> d;
    <span style="color:#00a">var</span> cpath = path ? <span style="color:#a50">&#39;; path=&#39;</span> + path : <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">var</span> cdomain = domain ? <span style="color:#a50">&#39;; domain=&#39;</span> + domain : <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">var</span> expires = <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">if</span> (ms) {
      d = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>();
      d.setTime(d.getTime() + ms);
      expires = <span style="color:#a50">&#39;; expires=&#39;</span> + d.toUTCString();
    }
    <span style="color:#0aa">document</span>.cookie = name + <span style="color:#a50">&#34;=&#34;</span> + value + expires + cpath + cdomain;
  };
  
  <span style="color:#0aa">window</span>._setCookie(<span style="color:#a50">&#39;someCookieName&#39;</span>, <span style="color:#a50">&#39;someCookieValue&#39;</span>);
  
  <span style="color:#aaa;font-style:italic">// Option 2: Directly call the document.cookie API
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#0aa">document</span>.cookie = <span style="color:#a50">&#39;someCookieName=someCookieValue&#39;</span>;
  
  <span style="color:#aaa;font-style:italic">// Option 3: Use a Custom JavaScript variable
</span><span style="color:#aaa;font-style:italic"></span>  {{Set Cookie}}(<span style="color:#a50">&#39;someCookieName=someCookieValue&#39;</span>);
&lt;/<span style="color:#1e90ff;font-weight:bold">script</span>&gt;</code></pre></div>
<p><strong>Option 1</strong> creates a utility method, too, but it adds it to the global namespace. Yes, this has the added benefit of being available to all your Custom HTML tags and Custom JavaScript variables, and actually <strong>any other script</strong> running on your site, even outside GTM. Assuming these other tags and scripts run <strong>after</strong> the <code>_setCookie</code> global method has been created with this tag, that is.</p>
<p>The downside is that you&rsquo;re <strong>polluting the global namespace</strong>. You&rsquo;re reserving a key that might be overwritten or accessed by any other JavaScript running on the site. If only scripts within GTM need this method, you&rsquo;d be better off with some other solution.</p>
<p><strong>Option 2</strong> is simple in that you don&rsquo;t need a function at all, you&rsquo;re directly writing the cookie. With the example above it&rsquo;s really the simplest way to go about it. However, as soon as you need to do some extra processing, such as determining on which domain or path to write the cookie or what its expiration should be, you&rsquo;ll add lines and lines of code, and all of these lines need to be rewritten in any other tag where you also want to write a cookie.</p>
<p><strong>Option 3</strong> is what this article is about. Instead of adding the <code>_setCookie</code> method into the global scope of the page, you can use Google Tag Manager&rsquo;s Custom JavaScript variables to handle the logic for you. The variable would look like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(name, value, ms, path, domain) {
    <span style="color:#00a">if</span> (!name || !value) {
      <span style="color:#00a">return</span>;
    }
    <span style="color:#00a">var</span> d;
    <span style="color:#00a">var</span> cpath = path ? <span style="color:#a50">&#39;; path=&#39;</span> + path : <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">var</span> cdomain = domain ? <span style="color:#a50">&#39;; domain=&#39;</span> + domain : <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">var</span> expires = <span style="color:#a50">&#39;&#39;</span>;
    <span style="color:#00a">if</span> (ms) {
      d = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>();
      d.setTime(d.getTime() + ms);
      expires = <span style="color:#a50">&#39;; expires=&#39;</span> + d.toUTCString();
    }
    <span style="color:#0aa">document</span>.cookie = name + <span style="color:#a50">&#34;=&#34;</span> + value + expires + cpath + cdomain;
  }
}
</code></pre></div>
<p>As you can see, it&rsquo;s almost the same as <strong>Option 1</strong>, except instead of assigning the function to a global variable, you&rsquo;re <strong>returning</strong> it in the Custom JavaScript variable. And because you return the function, you can then invoke it with the parameters <code>name, value, ms, path, domain</code>, and have the function handle writing the cookie for you.</p>
<p>Assuming you&rsquo;ll name that Custom JavaScript variable as <strong>Set cookie variable</strong>, this is how you would invoke it from a Custom HTML tag or a Custom JavaScript variable:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{{Set cookie variable}}(<span style="color:#a50">&#39;cookieName&#39;</span>, <span style="color:#a50">&#39;cookieValue&#39;</span>, <span style="color:#099">100000</span>, <span style="color:#a50">&#39;/&#39;</span>, <span style="color:#a50">&#39;simoahava.com&#39;</span>);
</code></pre></div>
<p>This is just one example. You could also&hellip;</p>
<ul>
<li>
<p>Create a <a href="https://geraintluff.github.io/sha256/">SHA-256 hashing function</a> (thanks <strong>Johan Terpstra</strong> for the link to the source code), which encrypts any string passed to it.</p>
</li>
<li>
<p>Create <a href="https://codepen.io/andrewarchi/pen/Klhqm">simple utilities</a> such as string reversal, array equality checks, and converters.</p>
</li>
<li>
<p>Write <a href="https://www.simoahava.com/analytics/simple-custom-event-listeners-gtm/#the-custom-javascript-variable">callbacks</a> for custom event listeners.</p>
</li>
</ul>
<p>In summary, a Custom JavaScript variable which returns a function is useful if you want to&hellip;</p>
<ol>
<li>
<p>Avoid <strong>polluting the global namespace</strong>.</p>
</li>
<li>
<p>Avoid <strong>rewriting the same code over and over again</strong>. and/or c) <strong>having a number of similar variables doing almost the same thing</strong>.</p>
</li>
<li>
<p>Avoid <strong>having a number of similar variables doing almost the same thing</strong>.</p>
</li>
</ol>
<p>The last point is especially powerful, as instead of having five different Custom JavaScript variables, you could use a single Custom JavaScript variable, returning a function which takes a parameter, and this function would then return one of five different outcomes, depending on the parameter.</p>
<p>Just remember that you can only run JavaScript in two contexts within GTM: Custom HTML tags and Custom JavaScript variables. So you can&rsquo;t add parameters to a Custom JavaScript variable in regular tag, trigger, or variable fields.</p>
<p>Do you have any cool utility functions you&rsquo;d like to share with the readers?</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/gtmtips/">gtmtips</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/custom-javascript/">custom javascript</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/send-event-before-pageview-in-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/itp-2-1-and-web-analytics/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Create%20Utility%20Variables%20By%20Returning%20Functions%20https://www.simoahava.com/analytics/create-utility-variables-returning-functions/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/send-event-before-pageview-in-google-analytics/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/itp-2-1-and-web-analytics/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Create%20Utility%20Variables%20By%20Returning%20Functions%20https://www.simoahava.com/analytics/create-utility-variables-returning-functions/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
          <i class="fa fa-brands fa-facebook"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%23GTMTips:%20Create%20Utility%20Variables%20By%20Returning%20Functions%20https://www.simoahava.com/analytics/create-utility-variables-returning-functions/%20via%20@SimoAhava">
          <i class="fa fa-brands fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-utility-variables-returning-functions/">
          <i class="fa fa-brands fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

