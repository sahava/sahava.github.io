

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "&#39;Still Running&#39; Google Tag Manager Tags – What To Do? | Simo Ahava's blog",
  "image": "https://www.simoahava.com/images/2019/09/still-running-tag.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://www.simoahava.com/images/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/",
  "datePublished": "2019-09-23T09:20:24+03:00",
  "dateModified": "2019-09-23T09:20:24+03:00",
  "description": "What does it mean and what can you do when Google Tag Manager reports a tag as 'Still Running' in Preview mode?",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.53 with theme Tranquilpeak 0.4.3-BETA">
    <title>&#39;Still Running&#39; Google Tag Manager Tags – What To Do? | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article'});
    </script>
    

    

    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://www.googletagmanager.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <script src="//simoahava.disqus.com/count.js" id="dsq-count-scr" async></script>
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/still-running-google-tag-manager-tags/">
    
    <meta name="description" content="What does it mean and what can you do when Google Tag Manager reports a tag as &#39;Still Running&#39; in Preview mode?">
    <meta property="og:description" content="What does it mean and what can you do when Google Tag Manager reports a tag as &#39;Still Running&#39; in Preview mode?">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="&#39;Still Running&#39; Google Tag Manager Tags – What To Do?">
    <meta property="og:url" content="/analytics/still-running-google-tag-manager-tags/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="&#39;Still Running&#39; Google Tag Manager Tags – What To Do?">
    <meta name="twitter:description" content="What does it mean and what can you do when Google Tag Manager reports a tag as &#39;Still Running&#39; in Preview mode?">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta property="og:image" content="https://www.simoahava.com/images/simo.png">
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2019/09/still-running-tag.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2019/09/still-running-tag.jpg">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          
          
            <div class="post-header main-content-wrap text-left">

  

    <h1>
      &#39;Still Running&#39; Google Tag Manager Tags – What To Do?
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2019-09-23T09:20:24&#43;03:00">
        
  September 23, 2019

      </time>
    
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/#disqus_thread">Comments</a>
  </div>


</div>

          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              

<p>Sometimes, in <a href="https://tagmanager.google.com/">Google Tag Manager&rsquo;s</a> Debug mode, you&rsquo;ll see tags appear with the status <strong>Still Running</strong>, and you&rsquo;ll (eventually) notice that these tags are not doing what they are supposed to be doing.</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/still-running-tag.jpg" title="Tag still running">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/still-running-tag.jpg#ZgotmplZ" alt="Tag still running">
  
    </a>
  
  
</div>



<p>When you see this message on a tag, it technically means this:</p>

<p><strong>The tag failed to signal Google Tag Manager that it is &ldquo;done&rdquo;.</strong></p>

<p>The technical explanation is, naturally, too simple to be useful. In this article, I&rsquo;ll explore what &ldquo;done&rdquo; means, and how especially Google Analytics tags manifest this behavior.</p>

<p>If you&rsquo;re only interested in the latter, feel free to <a href="#google-analytics-tags-still-running">jump to </a> the relevant section of this article.</p>

<h2 id="when-is-a-tag-done">When is a tag &ldquo;done&rdquo;?</h2>

<p>By default, a tag is done when its code is executed, and the browser is ready to move on to the next script block in queue. This can happen if the browser reaches the end of the script in turn to be executed, <strong>or if the script throws an error that is not caught</strong>.</p>

<p>For example, take a <strong>Custom HTML Tag</strong> that looks like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Hello!&#39;</span>);
&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>When it&rsquo;s time to fire this tag, Google Tag Manager injects this tag to the end of <code>&lt;body&gt;</code> in the document object model, and then the browser proceeds to execute the code within the <code>&lt;script&gt;</code> block.</p>

<p>As this is all run synchronously, by the time the browser has written <code>Hello!</code> to the console, it&rsquo;s ready to move to the next script waiting to be executed, and GTM will thus know that this tag is now &ldquo;done&rdquo;. Preview mode will show that the tag has <strong>Succeeded</strong>.</p>

<p>What about if we have an asynchronous operation in the middle of the tag?</p>

<p>Let&rsquo;s simulate async with a simple timeout.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  window.<span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>() {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Hello!&#39;</span>);
  }, <span style="color:#ae81ff">5000</span>);
&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>This time, when the tag&rsquo;s JavaScript is executed, the browser waits five seconds before writing to the console. So when does GTM signal tag completion? No, not after 5 seconds, but rather after the browser reaches the end of the <code>setTimeout</code> expression.</p>

<p>With asynchronous operations, Google Tag Manager doesn&rsquo;t <em>wait</em>. As with synchronous scripting, as soon as the browser reaches the end of the code block, the tag has <strong>Succeeded</strong>, regardless of how many asynchronous operations are still waiting for completion.</p>

<p>You can instruct Google Tag Manager to <strong>wait</strong> for an asynchronous operation to complete by utilizing <strong>callbacks</strong>. There are four different callbacks you&rsquo;d use, depending on use case, to signal Google Tag Manager that a tag has run its course:</p>

<ol>
<li><p><code>window.google_tag_manager[{{Container ID}}].onHtmlSuccess({{HTML ID}})</code> - this is the callback you&rsquo;d use in <a href="https://www.simoahava.com/analytics/understanding-tag-sequencing-in-google-tag-manager/#2-the-callbacks">Tag Sequencing</a> to signal the next tag in the sequence that the current tag has completed successfully. It requires the <code>Container ID</code> and <code>HTML ID</code> Built-in Variables to be activated.</p></li>

<li><p><code>window.google_tag_manager[{{Container ID}}].onHtmlFailure({{HTML ID}})</code> - this is the callback you&rsquo;d use in Tag Sequencing to signal the next tag in the sequence that the current tag failed in its execution.</p></li>

<li><p><code>data.gtmOnSuccess()</code> - this is the callback you&rsquo;d use in <a href="https://www.simoahava.com/analytics/custom-templates-guide-for-google-tag-manager/#tag-templates-in-the-code-editor">custom tag templates</a> to signal the tag has completed successfully.</p></li>

<li><p><code>data.gtmOnFailure()</code> - this is the callback you&rsquo;d use in custom tag templates to signal the tag has failed in its execution.</p></li>
</ol>

<p>So, if we wanted the browser to wait for the <code>setTimeout</code> call to complete, we&rsquo;d use it like this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  window.<span style="color:#a6e22e">setTimeout</span>(<span style="color:#66d9ef">function</span>() {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Hello!&#39;</span>);
    window.<span style="color:#a6e22e">google_tag_manager</span>[{{<span style="color:#a6e22e">Container</span> <span style="color:#a6e22e">ID</span>}}].<span style="color:#a6e22e">onHtmlSuccess</span>({{<span style="color:#a6e22e">HTML</span> <span style="color:#a6e22e">ID</span>}});
  }, <span style="color:#ae81ff">5000</span>);
&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>If invoking the callback with a significant delay (e.g. 5 seconds), you might see the tag as <strong>Still Running</strong> in Preview mode only for as long as the timeout lasts. As soon as the success callback is invoked, the status will change from <strong>Still Running</strong> to <strong>Succeeded</strong> (or <strong>Failure</strong> if that&rsquo;s the callback you ran with).</p>

<h2 id="so-why-do-tags-stay-in-still-running-state">So why do tags stay in &ldquo;Still running&rdquo; state?</h2>

<p>If you recall from the previous chapter, if the tag has no callbacks, GTM will signal completion once it reaches the end of the code block or if the code block throws a syntax error. Thus there&rsquo;s no actual way for a tag like this to signal it is &ldquo;Still running&rdquo;, as if the browser never reaches the end of the code block and the code never throws an error, it means the code is stuck in an infinite loop or memory leak, and the whole browser would freeze as a result.</p>

<p><strong>However</strong>, as soon as you add either the <code>google_tag_manager[...]</code> callbacks in a Custom HTML tag or <code>data</code> callbacks in a custom tag template, GTM will actively wait for these callbacks to execute before signalling the tag is done.</p>

<p>Ergo, if the browser never <strong>reaches</strong> these callbacks when they are nevertheless present in the code, GTM will never receive the completion signal and will remain in &ldquo;Still running&rdquo; state.</p>

<p>Here&rsquo;s an example that will result in the tag being stuck in &ldquo;Still running&rdquo; limbo.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">false</span>) {
    window.<span style="color:#a6e22e">google_tag_manager</span>[{{<span style="color:#a6e22e">Container</span> <span style="color:#a6e22e">ID</span>}}].<span style="color:#a6e22e">onHtmlSuccess</span>({{<span style="color:#a6e22e">HTML</span> <span style="color:#a6e22e">ID</span>}});
  }
&lt;/<span style="color:#f92672">script</span>&gt;</code></pre></div>

<p>The browser will never reach the expression within the <code>if {...}</code> block because <code>false</code> will never evaluate to <code>true</code>. Thus, GTM has detected a success callback written in the code block, and it anxiously waits for it to be executed, but it never will. Thus in GTM&rsquo;s view, the tag is perpetually running.</p>

<p>You can replace the callback with <code>onHtmlFailure()</code> to achieve the same result. It&rsquo;s enough for either callback to be present for Google Tag Manager to actively wait for resolution.</p>

<p>With <strong>tag templates</strong>, it&rsquo;s the same thing. If you run this:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">false</span>) {
  <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">gtmOnSuccess</span>();
}
</code></pre></div>

<p>This template would always have its tags be stuck in &ldquo;Still running&rdquo; state, since there&rsquo;s no way to reach that callback.</p>

<p>The lesson to be learned here?</p>

<p><strong>Whenever you use callbacks in Custom HTML tags, or whenever you create custom tag templates, make sure at least SOME callback is always reached.</strong></p>

<h2 id="google-analytics-tags-still-running">Google Analytics tags &ldquo;Still running&rdquo;</h2>

<p><a href="https://www.analyticsmania.com/post/google-analytics-tag-in-gtm-still-running/">Many of us</a> have experienced the &ldquo;Still running&rdquo; phenomenon with Google Analytics tags.</p>

<p>Based on what we learned in the previous chapters, we&rsquo;re now at an impasse. Google Analytics tags are not Custom HTML tags that you can fix the callbacks in, nor are they custom tag templates that you can modify to have the callback be invoked. So what are they?</p>

<p>They are tag templates, where the <strong>success</strong> callback is called as soon as the Google Analytics tag&rsquo;s <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/field-reference#hitCallback"><code>hitCallback</code></a> method is reached. This <code>hitCallback</code> is automatically added by Google Tag Manager (preserving any <code>hitCallback</code> you add manually to the tag).</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/ga-hitcallback.jpg" title="hitCallback">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/ga-hitcallback.jpg#ZgotmplZ" alt="hitCallback">
  
    </a>
  
  
</div>



<p>So, when a Google Analytics tag is &ldquo;Still running&rdquo;, it means its <code>hitCallback</code> was never reached.</p>

<p>How does this happen? Here are the three most common reasons.</p>

<h3 id="1-using-an-incorrect-variable-in-the-tracking-id-field">1. Using an incorrect variable in the Tracking ID field</h3>

<p>The <strong>Tracking ID</strong> field in your Google Analytics tags (in Google Tag Manager) is reserved for the tracking ID. The tracking ID is your property&rsquo;s <code>UA-XXXXXX-Y</code> string.</p>

<p>Thus, the <strong>only</strong> thing you can have in a Tracking ID field is that string, or a variable which returns that string <strong>and nothing else</strong>.</p>

<p>It&rsquo;s still extremely common to see people add a <strong>Google Analytics Settings variable</strong> to the Tracking ID field. This results in the Tracking ID field value resolving to an <strong>object</strong> (of your Google Analytics settings) rather than the required <code>UA-XXXXX-Y</code> string.</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/settings-tracking-id.jpg" title="Settings tracking ID">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/settings-tracking-id.jpg#ZgotmplZ" alt="Settings tracking ID">
  
    </a>
  
  
</div>



<p>The result is that a tracker is created with incorrect settings, and the <code>hitCallback</code> is never reached.</p>

<p>Best way to debug this is to use the <a href="https://chrome.google.com/webstore/detail/google-analytics-debugger/jnkmfdileelhofjcijamephohjechhna?hl=en">Google Analytics Debugger browser extension</a>, and checking the console output. If you see something like this, your setup is broken:</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/unknown-target.jpg" title="Unknown target">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/unknown-target.jpg#ZgotmplZ" alt="Unknown target">
  
    </a>
  
  
</div>



<h4 id="how-to-fix-this">How to fix this?</h4>

<p>Simple. Never use a <strong>Google Analytics Settings variable</strong> <em>anywhere else</em> except a Google Analytics Settings field. Always check and double-check that the <strong>Tracking ID</strong> field contains a value or variable that resolves to <code>UA-XXXXXX-Y</code>.</p>

<h3 id="2-the-ga-method-is-hijacked-by-some-other-code-running-on-the-site">2. The <code>ga()</code> method is hijacked by some other code running on the site</h3>

<p>If some other tool overwrites the global <code>ga()</code> method, it means that there is no longer such a thing as a &ldquo;Google Analytics hit&rdquo;, or &ldquo;Google Analytics tracker&rdquo;, and as a consequence the <code>hitCallback</code> is never reached. Google Tag Manager <strong>sees</strong> the callback in the code and thus waits for it, but because the global method no longer works, the callback is never reached.</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/ga-method-overwritten.jpg" title="GA method overwritten">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/ga-method-overwritten.jpg#ZgotmplZ" alt="GA method overwritten">
  
    </a>
  
  
</div>



<p>Easiest way to verify this is to open the <strong>JavaScript console</strong> of your page, and running the following command:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(window[window[<span style="color:#e6db74">&#39;GoogleAnalyticsObject&#39;</span>]].<span style="color:#a6e22e">answer</span>);
</code></pre></div>

<p>If the method has <strong>not</strong> been overwritten, you should see the number <code>42</code> written into the console. This is a sign that the analytics.js library still works with the global method.</p>

<p>If you see anything else, most likely either <code>undefined</code> or an error, it would mean that there&rsquo;s something wrong with the global method.</p>

<p><strong>NOTE!</strong> Ad blockers should <em>not</em> have a say here. If the Google Analytics endpoint is blocked, the <code>hitCallback</code> would still be reached, and if the entire <strong>analytics.js</strong> library is blocked, the <code>ga()</code> command would never be invoked in the first place.</p>

<h4 id="how-to-fix-this-1">How to fix this?</h4>

<p>You can change the global method name to e.g. <code>my_ga</code> in your Google Analytics tags (in GTM) by expanding <strong>Advanced Configuration</strong> and updating the <strong>Global Function Name</strong> field. This must be done consistently in <strong>all your tags</strong>, so you might want to use a <a href="https://www.simoahava.com/analytics/google-analytics-settings-variable-in-gtm/">Google Analytics Settings variable</a>.</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/global-function-name.jpg" title="Global function name">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/global-function-name.jpg#ZgotmplZ" alt="Global function name">
  
    </a>
  
  
</div>



<p>If you&rsquo;re using analytics.js, you can rename the method name in the <a href="https://developers.google.com/analytics/devguides/collection/analyticsjs/renaming-the-ga-object">snippet</a>.</p>

<h3 id="3-nonexistent-optimize-container-loaded-on-the-site">3. Nonexistent Optimize container loaded on the site</h3>

<p>This is super annoying. It&rsquo;s a bona fide bug in my opinion, and I&rsquo;ve reported it as such.</p>

<p>If you create a Google Optimize tag, it actually loads the Optimize container as a Universal Analytics <a href="https://www.simoahava.com/analytics/universal-analytics-plugins-explained/">plugin</a>. The reason for this is that the plugin is used to dispatch experiment data to Google Analytics.</p>

<p>The problem is that in case the Optimize container does not exist (you&rsquo;ve deleted it or you had a typo in the container ID), the plugin load is never resolved and the processing of the <code>ga()</code> queue is halted.</p>

<p>This, in turn, means that <strong>any Google Analytics tags firing after the Optimize container tag has fired will fail to execute</strong>. Because the plugin is never loaded, the queue is perpetually waiting for the plugin load to resolve.</p>

<p>You can see this by using the Google Analytics Debugger extension again. In the console, you&rsquo;ll see something like this:</p>




<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2019/09/waiting-optimize.jpg" title="Waiting for Optimize">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2019/09/waiting-optimize.jpg#ZgotmplZ" alt="Waiting for Optimize">
  
    </a>
  
  
</div>



<h4 id="how-to-fix-this-2">How to fix this?</h4>

<p>Best way to fix this is to avoid deleting Optimize containers when they are no longer in use. That way you&rsquo;ll avoid stalling the site.</p>

<p>Next, make sure you&rsquo;ve got the container ID correctly written in the tag.</p>

<p>Finally, a good practice for site load as well is to only load the Optimize container on pages where you are running experiments. It doesn&rsquo;t make sense to introduce the extra load on pages where the container is not used.</p>

<h2 id="summary">Summary</h2>

<p>For all the good that Google Tag Manager&rsquo;s debug mode does, it does leave something to be desired in terms of verbosity and identifying where the problem lies.</p>

<p>Native templates especially are black boxes. There&rsquo;s no way to know why a Google Analytics tag signals completion or timeout without trial-and-error testing.</p>

<p>With the instructions provided in this article, you should be able to debug and fix those pesky &ldquo;Still running&rdquo; problems you might have with your tags.</p>

<p>Let me know in the comments if you run across a use case not covered by this article. I&rsquo;ll happily update the text with kudos to you for helping to identify an unexplored problem case!</p>

              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/still-running/">still running</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/preview/">preview</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/debug/">debug</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/user-distributor-tag-template/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%27Still%20Running%27%20Google%20Tag%20Manager%20Tags%20%e2%80%93%20What%20To%20Do?%20https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <span id="disqus"></span>
<div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2019 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/user-distributor-tag-template/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=%27Still%20Running%27%20Google%20Tag%20Manager%20Tags%20%e2%80%93%20What%20To%20Do?%20https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%27Still%20Running%27%20Google%20Tag%20Manager%20Tags%20%e2%80%93%20What%20To%20Do?%20https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/still-running-google-tag-manager-tags/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




  
    
      <script>
        





        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'simoahava';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  


    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>

    
  </body>
</html>

