

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "Create And Update Google Analytics Session Timeout Cookie | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2018\/08\/update-session-cookie.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/create-and-update-google-analytics-session-timeout-cookie\/",
  "datePublished": "2018-08-24T11:49:23\u002b03:00",
  "dateModified": "2018-08-24T11:49:23\u002b03:00",
  "description": "With this customTask trick, you can create a cookie which mimics Google Analytics\u0027 session timeout. This cookie is refreshed with every valid hit, and can be used to detect active\/inactive sessions in the browser.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Create And Update Google Analytics Session Timeout Cookie | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/create-and-update-google-analytics-session-timeout-cookie/">
    
    <meta name="description" content="With this customTask trick, you can create a cookie which mimics Google Analytics&#39; session timeout. This cookie is refreshed with every valid hit, and can be used to detect active/inactive sessions in the browser.">
    <meta property="og:description" content="With this customTask trick, you can create a cookie which mimics Google Analytics&#39; session timeout. This cookie is refreshed with every valid hit, and can be used to detect active/inactive sessions in the browser.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Create And Update Google Analytics Session Timeout Cookie">
    <meta property="og:url" content="https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Create And Update Google Analytics Session Timeout Cookie">
    <meta name="twitter:description" content="With this customTask trick, you can create a cookie which mimics Google Analytics&#39; session timeout. This cookie is refreshed with every valid hit, and can be used to detect active/inactive sessions in the browser.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2018/08/update-session-cookie.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2018/08/update-session-cookie.jpg">
    


    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      Create And Update Google Analytics Session Timeout Cookie
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2018-08-24T11:49:23&#43;03:00">
        
  August 24, 2018

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>In <a href="https://analytics.google.com/">Google Analytics</a>, the concept of a <strong>session</strong> is the key aggregation unit of all the data you work with. It&rsquo;s so central to all the key metrics you use (Conversion Rate, Bounce Rate, Session Duration, Landing Page), and yet there&rsquo;s <a href="https://www.slideshare.net/SimoAhava/essential-search-marketing-tweaks-for-google-analytics-and-google-tag-manager/38">an underlying complexity</a> that I&rsquo;m pretty certain is unrecognized by many of GA&rsquo;s users. And yet, since this idea of a session is so focal to GA (to the point of being <a href="https://www.simoahava.com/analytics/the-schema-conspiracy/">overbearing</a>), it&rsquo;s annoying that the <strong>browser</strong> isn&rsquo;t privy to any of the sessionization parameters that Google Analytics applies to the hits sent from the browser to its servers.</p>
<p>Well, to rectify this, I&rsquo;ve written a very simple <a href="https://www.simoahava.com/tags/customtask/"><code>customTask</code></a> solution, which basically mimics the session timeout (30 minutes by default) in a browser cookie. You can use this cookie for a number things, such as preventing <strong>event</strong> hits from being dispatched if the session has timed out, or for turning these event hits into <strong>non-interactive</strong> hits.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/08/update-session-cookie.jpg" title="Update session cookie Google Analytics">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/08/update-session-cookie.jpg#ZgotmplZ" alt="Update session cookie Google Analytics" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 719 128'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Naturally, I have also updated my <a href="https://www.simoahava.com/analytics/customtask-the-guide/">guide to <code>customTask</code></a> as well as my <a href="https://www.simoahava.com/tools/customtask-builder/">customTask Builder tool</a> with this trick, so you can start using it with all the other cool <code>customTask</code> tricks out there!</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="the-customtask-code">The <code>customTask</code> code</h2>
<p>Here&rsquo;s what the <code>customTask</code> method looks like:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">var</span> _customTask = <span style="color:#00a">function</span>() {
  <span style="color:#aaa;font-style:italic">// Update expiresMs to be the number of milliseconds when the cookie should expire.
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#aaa;font-style:italic">// Update domain to match the parent domain of your website.
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> updateSessionCookie = {
    expiresMs: <span style="color:#099">1000</span>*<span style="color:#099">60</span>*<span style="color:#099">30</span>,
    domain: <span style="color:#a50">&#39;mydomain.com&#39;</span>
  };

  <span style="color:#aaa;font-style:italic">// DO NOT EDIT ANYTHING BELOW THIS LINE
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">var</span> globalSendHitTaskName   = <span style="color:#a50">&#39;_ga_originalSendHitTask&#39;</span>;

  <span style="color:#00a">return</span> <span style="color:#00a">function</span>(customTaskModel) {

    <span style="color:#0aa">window</span>[globalSendHitTaskName] = <span style="color:#0aa">window</span>[globalSendHitTaskName] || customTaskModel.get(<span style="color:#a50">&#39;sendHitTask&#39;</span>);

    customTaskModel.set(<span style="color:#a50">&#39;sendHitTask&#39;</span>, <span style="color:#00a">function</span>(sendHitTaskModel) {

      <span style="color:#00a">var</span> originalSendHitTaskModel = sendHitTaskModel,
          originalSendHitTask      = <span style="color:#0aa">window</span>[globalSendHitTaskName];

      <span style="color:#00a">var</span> hitType, nonInteraction, d;

      <span style="color:#00a">try</span> {
        originalSendHitTask(sendHitTaskModel);

        <span style="color:#aaa;font-style:italic">// updateSessionCookie
</span><span style="color:#aaa;font-style:italic"></span>        <span style="color:#00a">if</span> (<span style="color:#00a">typeof</span> updateSessionCookie === <span style="color:#a50">&#39;object&#39;</span> &amp;&amp; updateSessionCookie.hasOwnProperty(<span style="color:#a50">&#39;expiresMs&#39;</span>) &amp;&amp; updateSessionCookie.hasOwnProperty(<span style="color:#a50">&#39;domain&#39;</span>)) {
          hitType = sendHitTaskModel.get(<span style="color:#a50">&#39;hitType&#39;</span>);
          nonInteraction = sendHitTaskModel.get(<span style="color:#a50">&#39;nonInteraction&#39;</span>);
          <span style="color:#00a">if</span> (nonInteraction !== <span style="color:#00a">true</span> &amp;&amp; (hitType === <span style="color:#a50">&#39;pageview&#39;</span> || hitType === <span style="color:#a50">&#39;event&#39;</span>)) {
            d = <span style="color:#00a">new</span> <span style="color:#0aa">Date</span>();
            d.setTime(d.getTime() + updateSessionCookie.expiresMs);
            <span style="color:#0aa">document</span>.cookie = <span style="color:#a50">&#39;_session_&#39;</span> + sendHitTaskModel.get(<span style="color:#a50">&#39;trackingId&#39;</span>) + <span style="color:#a50">&#39;=true; expires=&#39;</span> + d.toUTCString() + <span style="color:#a50">&#39;; path=/; domain=&#39;</span> + updateSessionCookie.domain;
          }
        }
        <span style="color:#aaa;font-style:italic">// /updateSessionCookie
</span><span style="color:#aaa;font-style:italic"></span>
      } <span style="color:#00a">catch</span>(e) {
        originalSendHitTask(originalSendHitTaskModel);
      }
      
    });
  };
};
</code></pre></div>
<p>If you&rsquo;re using <a href="https://tagmanager.google.com">Google Tag Manager</a>, copy-paste that into a Custom JavaScript variable, and then change the first line to <code>function() {</code> and remove the very last character of the code block (the final semicolon). Then, add it as a new <strong>Field to Set</strong> in your <a href="https://www.simoahava.com/analytics/edit-google-analytics-tag-settings/">Google Analytics tag settings</a>.</p>
<p>if you&rsquo;re using Google Analytics, you need to run this JavaScript before the Google Analytics snippet, and then when creating the tracker modify it to:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">ga(<span style="color:#a50">&#39;create&#39;</span>, <span style="color:#a50">&#39;UA-XXXXX-Y&#39;</span>);
ga(<span style="color:#a50">&#39;set&#39;</span>, <span style="color:#a50">&#39;customTask&#39;</span>, _customTask); <span style="color:#aaa;font-style:italic">// &lt;-- Add this
</span><span style="color:#aaa;font-style:italic"></span>ga(<span style="color:#a50">&#39;send&#39;</span>, <span style="color:#a50">&#39;pageview&#39;</span>);
</code></pre></div>
<p>This <code>customTask</code> should be added to all the tags and hits that you want to have an impact on the session refresh. Basically, it should fire with all your pageviews and events, since those are the two that keep the session alive.</p>

                
                  <h2 id="how-it-works">How it works</h2>
<p>Any tag or hit that uses this <code>customTask</code> will now run some extra code when the hit has been sent to Google Analytics. The code checks whether the hit was interactive (since non-interactive hits don&rsquo;t keep a session alive) and whether it was an event or pageview (since those are the two hits that keep a session alive).</p>
<p>In both these conditions are true, a cookie named <code>_session_UA-XXXXX-Y</code> is created (or updated if it already exists) with an expiration set to whatever you configured as the value of the <code>expiresMs</code> property in the beginning of the code block.</p>
<p>In other words, you will now have a cookie which, if it exists, means there is most likely an active session in Google Analytics. I say &ldquo;most likely&rdquo;, because there are many ways that sessions can be broken off even before the timeout expires.</p>
<p>This cookie is a <strong>reasonable abstraction</strong> of the session timeout schema in Google Analytics. It&rsquo;s not perfect, but it gives you an <em>idea</em>.</p>

                
                  <h2 id="things-you-can-do-with-it">Things you can do with it</h2>
<p>Well, the easiest thing is to use it to prevent Events from firing if the session cookie doesn&rsquo;t exist. Why? Because it&rsquo;s tiresome having sessions that only have events. Even though there&rsquo;s really no problem with having events fire <strong>before</strong> pageviews (even if all the documentation tries to tell you otherwise), there&rsquo;s a risk you&rsquo;ll have sessions that <strong>only</strong> have events.</p>
<p>Those sessions will be marred with the ugly <code>(not set)</code> Landing Page, because Google Analytics is tyrannical in demanding sessions to always include a pageview (I have no idea why).</p>
<p>So, in Google Tag Manager, you could do this by first creating a <strong>1st Party Cookie</strong> variable for the session cookie. Remember to change the &ldquo;UA-XXXXXX-Y&rdquo; to whatever the tracking ID is for the property whose session timeout you are monitoring.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/08/session-cookie.jpg" title="Session cookie">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/08/session-cookie.jpg#ZgotmplZ" alt="Session cookie" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 570 431'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Then, create a new Custom Event trigger which checks if this cookie has the value <code>true</code>:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2018/08/block-session-trigger.jpg" title="Trigger to block if session not alive">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2018/08/block-session-trigger.jpg#ZgotmplZ" alt="Trigger to block if session not alive" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 866 379'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>Now, any tag you add this trigger to as an <a href="https://www.simoahava.com/gtm-tips/block-your-tags-with-trigger-exceptions/">exception</a> will <strong>not</strong> fire if the session has timed out.</p>
<p>This is pretty brutal - you&rsquo;re not sending event hits to GA because you&rsquo;re afraid they&rsquo;ll create orphaned sessions. It&rsquo;s a valid fear to have with GA&rsquo;s sessionization schema, but it might be overkill.</p>
<p>So another option is to turn all event hits into <strong>non-interactive</strong> hits, because these don&rsquo;t increment the session counts or dimensions in your data set, but the data is still collected.</p>
<p>To do this, you need a <strong>Custom JavaScript variable</strong> that looks like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">function</span>() {
  <span style="color:#00a">return</span> {{UA-XXXXX-Y session}} !== <span style="color:#a50">&#39;true&#39;</span>;
}
</code></pre></div>
<p>This JavaScript returns <code>false</code> if the session is active, and <code>true</code> if there is no active session. By adding this to the <strong>Non-Interaction</strong> field in your Event tags, the hit will be non-interactive if there is no active session.</p>
<p>You could even modify the <code>customTask</code> to do this logic for you. Within the <code>customTask</code> method, just after <code>try {</code>, you could do something like this (you&rsquo;ll need the <strong>1st Party Cookie</strong> for this):</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#00a">try</span> {
  
  <span style="color:#aaa;font-style:italic">// ADD THIS
</span><span style="color:#aaa;font-style:italic"></span>  <span style="color:#00a">if</span> ({{UA-XXXXX-Y session}} !== <span style="color:#a50">&#39;true&#39;</span> &amp;&amp; sendHitTaskModel.get(<span style="color:#a50">&#39;hitType&#39;</span>) === <span style="color:#a50">&#39;event&#39;</span> &amp;&amp; sendHitTaskModel.get(<span style="color:#a50">&#39;nonInteraction&#39;</span>) !== <span style="color:#00a">true</span>) {
    <span style="color:#00a">return</span>;
  }
  <span style="color:#aaa;font-style:italic">// UP TO HERE
</span><span style="color:#aaa;font-style:italic"></span>  
  originalSendHitTask(sendHitTaskModel);
  ...
}
</code></pre></div>
<p>This addition prevents the hit from being fired (and the cookie from being created/updated) if the session is <strong>not</strong> alive and the hit is an <strong>interactive event</strong>. For all other hit types, the hit gets sent and the cookie gets created. This way you don&rsquo;t need to mess with triggers - you can have <code>customTask</code> do all the legwork for you.</p>

                
                  <h2 id="summary">Summary</h2>
<p>This <code>customTask</code> trick can be used to bring some insight into the browser whether or not a session is currently active in Google Analytics.</p>
<p>It&rsquo;s not perfect, since sessionization depends on so many things (of which a multitude happens in the bowel&rsquo;s of GA&rsquo;s processing servers), but it can be used as an <em>indication</em> of whether or not there&rsquo;s an active session.</p>
<p>This solution is also <strong>not necessary</strong>, especially if you use BigQuery. The raw data you collect from the site is useful and valid even if there&rsquo;s no pageview initiating a session. So make sure you have a use case for this before taking the plunge.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-analytics/">google analytics</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/customtask/">customtask</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/session/">session</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/tracking-cross-domain-iframes-upgraded-solution/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/introducing-customtask-builder/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Create%20And%20Update%20Google%20Analytics%20Session%20Timeout%20Cookie%20https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://cdn.commento.io/js/commento.js"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2021 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/tracking-cross-domain-iframes-upgraded-solution/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/introducing-customtask-builder/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Create%20And%20Update%20Google%20Analytics%20Session%20Timeout%20Cookie%20https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Create%20And%20Update%20Google%20Analytics%20Session%20Timeout%20Cookie%20https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/create-and-update-google-analytics-session-timeout-cookie/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
    
    <script>
      !function(){
  var baitPath = 'https://sgtm.simoahava.com/ads-min.js';
  var pixelPath = 'https://sgtm.simoahava.com/4dchk';
  var e=document.createElement("script");e.src=baitPath,document.body.appendChild(e);var t=!1;fetch("https://www.google-analytics.com/analytics.js",{method:"HEAD",mode:"no-cors"}).catch(function(){t=!0}),window.addEventListener("load",function(){var e={adb_blocked:!document.querySelector("#ECKckuBYwZaP"),gtm_blocked:!(window.google_tag_manager&&window.google_tag_manager.dataLayer),ga_blocked:t},o=document.createElement("img");o.style="width: 1; height: 1; display: none;",o.src=pixelPath+"?"+Object.keys(e).reduce(function(t,o){return t.concat(o+"="+e[o])},[]).join("&"),document.body.appendChild(o)})}();

</script>
      

    
  </body>
</html>

