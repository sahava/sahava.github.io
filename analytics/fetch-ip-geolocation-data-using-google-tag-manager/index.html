

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "Fetch IP Geolocation Data Using Google Tag Manager | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2020\/01\/ip-geolocation-api.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/fetch-ip-geolocation-data-using-google-tag-manager\/",
  "datePublished": "2020-01-08T09:00:00\u002b02:00",
  "dateModified": "2020-01-08T09:00:00\u002b02:00",
  "description": "Use the IP Geolocation API and a Google Tag Manager custom tag template to fetch IP address and geolocation data for the user.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Fetch IP Geolocation Data Using Google Tag Manager | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article'});
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://www.googletagmanager.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
    
    <meta name="description" content="Use the IP Geolocation API and a Google Tag Manager custom tag template to fetch IP address and geolocation data for the user.">
    <meta property="og:description" content="Use the IP Geolocation API and a Google Tag Manager custom tag template to fetch IP address and geolocation data for the user.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Fetch IP Geolocation Data Using Google Tag Manager">
    <meta property="og:url" content="https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Fetch IP Geolocation Data Using Google Tag Manager">
    <meta name="twitter:description" content="Use the IP Geolocation API and a Google Tag Manager custom tag template to fetch IP address and geolocation data for the user.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta property="og:image" content="https://www.simoahava.com/images/simo.png">
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2020/01/ip-geolocation-api.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2020/01/ip-geolocation-api.jpg">
    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    
    
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          
          
            <div class="post-header main-content-wrap text-left">

  

    <h1>
      Fetch IP Geolocation Data Using Google Tag Manager
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2020-01-08T09:00:00&#43;02:00">
        
  January 8, 2020

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


       | <a href="https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/#commento">Comments</a>
  </div>


</div>

          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              <blockquote>
<p><strong>Update 6 April 2020</strong>: I updated the template in the gallery to the latest version of the <a href="https://ipgeolocation.io/documentation/ip-geolocation-api-jquery-sdk.html">IP Geolocation API SDK</a>, which no longer requires jQuery. Also, the SDK now handles API request caching to browser storage automatically, so the &ldquo;Enable Session Storage&rdquo; option was added to the template.</p>
</blockquote>
<p>My latest <a href="https://www.simoahava.com/analytics/custom-templates-guide-for-google-tag-manager/">custom tag template</a> tackles a use case I&rsquo;ve referred to a number of times before, especially in my article on <a href="https://www.simoahava.com/analytics/send-weather-data-to-google-analytics-in-gtm-v2/">sending weather data to Google Analytics</a>. The problem is two-fold:</p>
<ul>
<li>How to fetch the user&rsquo;s IP address into <code>dataLayer</code></li>
<li>How to get <em>latitude</em> and <em>longitude</em> (as well as other geographical) data into <code>dataLayer</code></li>
</ul>
<p>For this purpose, I&rsquo;ve created a new <a href="https://tagmanager.google.com/">Google Tag Manager</a> custom tag template that leverages the <a href="https://ipgeolocation.io/">IP Geolocation API</a> service. The API is inexpensive to use, and it offers HTTPS by default.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/ip-geolocation-api.jpg" title="IP Geolocation API custom template">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/ip-geolocation-api.jpg#ZgotmplZ" alt="IP Geolocation API custom template">
  
    </a>
  
  
</div>


<p>You can find the template in the <a href="https://tagmanager.google.com/gallery/#/owners/gtm-templates-simo-ahava/templates/ip-geolocation-api">template gallery</a>.</p>
<h2 id="ip-geolocation-api">IP Geolocation API</h2>
<p>You can register for a <strong>free</strong> account at <a href="https://ipgeolocation.io/">https://ipgeolocation.io/</a> to get an API key. If you register for a paid subscription, in addition to getting more quota (the free subscription only allows <strong>1,000 requests per day</strong>), you&rsquo;ll be able to use the template <em>without</em> exposing your API key to the public, so it&rsquo;s something you should really consider if geolocation and/or IP resolution is what you want to do.</p>
<p>Sign up at <a href="https://ipgeolocation.io/signup.html">https://ipgeolocation.io/signup.html</a>.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/sign-up.jpg" title="Sign up to ipgeolocation.io">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/sign-up.jpg#ZgotmplZ" alt="Sign up to ipgeolocation.io">
  
    </a>
  
  
</div>


<p>Once you&rsquo;ve signed up, you&rsquo;ll find the dashboard with your API key. You&rsquo;ll need this for the tag you create with the custom template.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/api-key.jpg" title="API key">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/api-key.jpg#ZgotmplZ" alt="API key">
  
    </a>
  
  
</div>


<p>If you&rsquo;ve opted for a <strong>paid plan</strong>, you can add the origin (e.g. <code>www.simoahava.com</code>) to the list of <strong>Request Origins</strong>. If you do this, you don&rsquo;t need to add the API key to the template.</p>
<p>Once you have the API key, and once you&rsquo;ve downloaded the <a href="https://tagmanager.google.com/gallery/#/owners/gtm-templates-simo-ahava/templates/ip-geolocation-api">custom template</a> into your container, you&rsquo;re ready to proceed!</p>
<h2 id="create-the-tag">Create the tag</h2>
<p>Create a new tag, and use <strong>IP Geolocation API</strong> as the template.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/template-in-selector.jpg" title="Template in the selector menu">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/template-in-selector.jpg#ZgotmplZ" alt="Template in the selector menu">
  
    </a>
  
  
</div>


<p>Then, fill in the tag fields. Make sure to add the <strong>API key</strong> fetched from your <a href="https://app.ipgeolocation.io/">IP Geolocation API dashboard</a>, <em>unless</em> you&rsquo;ve added the origin where the tag will fire to the list of <strong>Request Origins</strong> (see previous chapter).</p>
<p>The other settings you can change are listed in the following chapters.</p>
<p>You can add whatever trigger you want to the tag. A trigger such as <strong>All Pages</strong> is OK, because it will resolve the API call as the earliest convenience. You can also use a more detailed rule to prevent the tag from firing on every single page, or to defer it until Window Loaded or similar.</p>
<p>The tag relies on the <strong>jQuery library</strong>. If your site doesn&rsquo;t already use it, the template will automatically load the minified jQuery library along with the API SDK.</p>
<h3 id="data-layer-settings">Data Layer Settings</h3>
<p>If you&rsquo;re using some other name for the <strong>dataLayer</strong> structure than <code>dataLayer</code>, you must type it into the <strong>Data Layer global variable name</strong> field, or the solution will not work properly.</p>
<p>The <strong>Custom event name</strong> field is where you can define what the value of the <code>event</code> key will be in the <code>dataLayer</code> object that contains the geolocation and IP address data.</p>
<p>The <code>dataLayer</code> object itself will be listed under the key <code>geoData</code> and will look something like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/geodata.jpg" title="Geo data">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/geodata.jpg#ZgotmplZ" alt="Geo data">
  
    </a>
  
  
</div>


<p>By the way, I am not in <strong>Salo</strong>, but in <strong>Espoo</strong> (some 100 kilometres distance). Geolocation is <strong>not</strong> a perfect art when using IP lookups.</p>
<h3 id="ip-address-settings">IP Address Settings</h3>
<p>The default is <strong>Client IP</strong>, which means it uses whatever public IP address is assigned to the machine in use.</p>
<p>If you want, you can also provide a <strong>Custom IP</strong> in case you&rsquo;ve resolved the IP some other (more reliable, perhaps) way. The Custom IP can take a hard-coded value (not sure why you&rsquo;d ever do so, though), or you can use a GTM variable for it. For example, to load the IP from a Data Layer Variable named <code>DLV - user.ip</code>, you could do this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/custom-ip.jpg" title="Custom IP">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/custom-ip.jpg#ZgotmplZ" alt="Custom IP">
  
    </a>
  
  
</div>


<h3 id="other-settings">Other Settings</h3>
<p>You can type a comma-separated list of fields to <em>only</em> include in the response by editing the <strong>Fields to include</strong> field.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/fields-to-include.jpg" title="Fields to include">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/fields-to-include.jpg#ZgotmplZ" alt="Fields to include">
  
    </a>
  
  
</div>


<p>The example above would only include the <code>ip</code> (always included), <code>longitude</code>, and <code>latitude</code> fields in the response.</p>
<p>Similarly, you can list fields you want to <em>exclude</em> from the response by editing the <strong>Fields to exclude</strong> field.</p>
<p>Finally, you can change the language of some of the response values by switching the <strong>Response language</strong> in the respective field. This might translate location names and other translatable values to the target language.</p>
<h2 id="what-to-do-with-the-data">What to do with the data</h2>
<p>Once you&rsquo;ve got it up and running - what then?</p>
<p>Well, a new object will be populated in <code>dataLayer</code> using the custom event name you&rsquo;ve set in the tag settings (<code>geolocate</code> by default). You can now fire tags that require IP or geolocation data using a Custom Event trigger for this event name.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/custom-event.jpg" title="Custom Event trigger">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/custom-event.jpg#ZgotmplZ" alt="Custom Event trigger">
  
    </a>
  
  
</div>


<p>The rest of the utilities would be <strong>Data Layer variables</strong> you create for the individual parts of the response you want to access. For example, a Data Layer variable for the user&rsquo;s IP address would look like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/dlv-geodata-ip.jpg" title="IP address geodata">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/dlv-geodata-ip.jpg#ZgotmplZ" alt="IP address geodata">
  
    </a>
  
  
</div>


<p>A Data Layer Variable for the user&rsquo;s <strong>latitude</strong> would look like this:</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2020/01/geodata-latitude.jpg" title="Latitude geodata">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2020/01/geodata-latitude.jpg#ZgotmplZ" alt="Latitude geodata">
  
    </a>
  
  
</div>


<p>And so on and so forth.</p>
<p>You can use these for a variety of things:</p>
<ul>
<li>Send geographical data to <a href="https://analytics.google.com/">Google Analytics</a> in order to benchmark the accuracy of the API or GA&rsquo;s own geolocation lookups</li>
<li>Check the IP address against a range of &ldquo;internal&rdquo; IP addresses to <a href="https://www.simoahava.com/analytics/block-internal-traffic-gtm/">flag the user as internal traffic using Google Tag Manager</a></li>
<li>Use the <code>currency</code> data to establish a local currency by default for the user</li>
<li>Use the <code>isp</code> and <code>organization</code> data to check ISP and network domain information about the user.</li>
</ul>
<h2 id="summary">Summary</h2>
<p>As always, there&rsquo;s <em>caveats galore</em> with IP lookups. So many users use VPNs these days to (understandably) mask their location. This makes any type of geolocation and IP resolution extremely unreliable on a larger scale.</p>
<p>Similarly, even without a VPN, the accuracy is iffy at best. In the example used in the article, my location was resolved to be <strong>Salo</strong>, which is around 100 kilometres away from <strong>Espoo</strong> where the test data was generated.</p>
<p>So I wouldn&rsquo;t put any UX value to this information - don&rsquo;t redirect the user based on the API response, don&rsquo;t tie any business critical logic to either IP or geolocation data, and don&rsquo;t assume the API has an even passable success rate.</p>
<p>However, the use cases listed in the previous chapter are all more or less valid even with inaccurate data. You just need to shift your hypotheses from requiring exact, infallible answers to being satisfied with a broader spectrum of accuracy.</p>
<p>In any case, there are use cases for inspecting IP address and geolocation data within the browser. Some of them have been listed in the previous chapter. This custom template was created to help with these use cases.</p>
<p>Thank you for reading, and please share your questions, suggestions, and use cases in the comments of this article!</p>

              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/custom-templates/">custom templates</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/tag-templates/">tag templates</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/ip/">ip</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Fetch%20IP%20Geolocation%20Data%20Using%20Google%20Tag%20Manager%20https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://cdn.commento.io/js/commento.js"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/cdnjs-hosted-libraries-template-google-tag-manager/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/chrome-samesite-warnings-google-tag-manager/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Fetch%20IP%20Geolocation%20Data%20Using%20Google%20Tag%20Manager%20https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/%20via%20@SimoAhava">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
              <i class="fa fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
          <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Fetch%20IP%20Geolocation%20Data%20Using%20Google%20Tag%20Manager%20https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/%20via%20@SimoAhava">
          <i class="fa fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/fetch-ip-geolocation-data-using-google-tag-manager/">
          <i class="fa fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://cdn.commento.io/js/count.js"></script>


    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>

    
  </body>
</html>

