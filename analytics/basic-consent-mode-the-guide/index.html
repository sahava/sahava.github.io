

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "Basic Consent Mode: The Guide | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2025\/05\/tags-blocked.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/basic-consent-mode-the-guide\/",
  "datePublished": "2025-05-07T07:00:00\u002b03:00",
  "dateModified": "2025-05-07T07:00:00\u002b03:00",
  "description": "Basic Consent Mode means that you withhold firing any tags until relevant consent has been granted. This is a guide on how to implement it.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Basic Consent Mode: The Guide | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/basic-consent-mode-the-guide/">
    
    <meta name="description" content="Basic Consent Mode means that you withhold firing any tags until relevant consent has been granted. This is a guide on how to implement it.">
    <meta property="og:description" content="Basic Consent Mode means that you withhold firing any tags until relevant consent has been granted. This is a guide on how to implement it.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Basic Consent Mode: The Guide">
    <meta property="og:url" content="https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Basic Consent Mode: The Guide">
    <meta name="twitter:description" content="Basic Consent Mode means that you withhold firing any tags until relevant consent has been granted. This is a guide on how to implement it.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
	  <meta property="og:image" content="https://www.simoahava.com/images/2025/05/basic-consent-mode-the-guide.jpg">
      <meta name="twitter:image" content="https://www.simoahava.com/images/2025/05/basic-consent-mode-the-guide.jpg">
    


    

      
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" loading="lazy" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener ">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://masto.measure.chat/@SimoAhava" target="_blank" rel="noopener me">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
      
      <span class="sidebar-button-desc">Mastodon</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
    <div class="figure nocaption">
      <img class="cover" src="https://www.simoahava.com/images/2025/05/basic-consent-mode-the-guide.jpg" width="750" height="422" alt="Basic Consent Mode: The Guide">
    </div>
  
  

    <h1>
      Basic Consent Mode: The Guide
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2025-05-07T07:00:00&#43;03:00">
        
  May 7, 2025

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/basic-consent-mode-the-guide/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>Google&rsquo;s <a href="https://www.simoahava.com/analytics/consent-mode-google-tags/">Consent Mode</a> is a way to control how tags react to the user&rsquo;s consent for different tracking purposes. It is specifically designed to work with <strong>Google&rsquo;s  tags</strong>, but especially through Google Tag Manager, you can use Consent Mode&rsquo;s features and APIs to control other tags, too.</p>
<p>Consent Mode comes in two &ldquo;flavors&rdquo;:</p>
<ul>
<li>
<p><strong>Advanced Consent Mode</strong> is specifically designed for Google&rsquo;s products. Tags for GA4, Ads, and Floodlight are <em>sensitive</em> to the user&rsquo;s consent choices and change their behavior accordingly. Advanced Consent Mode is <strong>very easy to implement</strong> because it basically requires no changes to tags&rsquo; existing triggering mechanisms.</p>
</li>
<li>
<p><strong>Basic Consent Mode</strong> means that tags <em>wait</em> until appropriate consent has been granted. This means that they need to be manually blocked from firing until the user signals that they consent to tracking for whatever purpose each tag has. Basic Consent Mode is <strong>very difficult to implement</strong> because the triggering mechanisms are very awkward to implement.</p>
</li>
</ul>



<div style="aspect-ratio: 1782 / 554;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/tags-blocked.jpg" title="Tag blocked by additional consent checks">
  
    <img class="fig-img" height="554" width="1782" loading="lazy" src="https://www.simoahava.com/images/2025/05/tags-blocked.jpg#ZgotmplZ" alt="Tag blocked by additional consent checks">
  
    </a>
  
  
</div>


<p>In this guide, I will walk you through the latter. Basic Consent Mode is a total headache, because unlike Advanced Consent Mode, there&rsquo;s nothing automated about it at all. Basic Consent Mode basically means that tags should only ever fire when relevant consent has been granted. If consent has not been granted or if it&rsquo;s unclear if there is consent, the tags should <em>not fire</em>.</p>
<p>The <a href="#basic-consent-mode-the-basics">first part of the guide</a> will discuss how to implement Consent Mode itself, either through a <a href="#the-consent-management-platform">Consent Management Platform (CMP)</a>, <a href="#patching-the-cmp-manually-with-a-custom-template">manually with a custom template</a>, or with a hybrid of the two. The <a href="#adjusting-tags-to-work-with-bcm">second part of the guide</a> covers how to adjust your tags to fire only when appropriate consent is granted.</p>
<div id="toc-container"><h1 id="table-of-contents">Table of Contents</h1> <input type="checkbox" id="show"><label for="show" id="showbtn"><h1 id="table-of-contents-mobile">Table of Contents</h1><span class="show">&nbsp;[+show]</span><span class="hide">&nbsp;[–hide]</span></label><nav id="TableOfContents">
  <ul>
    <li><a href="#basic-consent-mode-the-basics">Basic Consent Mode: the basics</a>
      <ul>
        <li><a href="#the-consent-mode-calls">The Consent Mode calls</a></li>
        <li><a href="#the-ideal-approach">The ideal approach</a></li>
      </ul>
    </li>
    <li><a href="#the-consent-management-platform">The Consent Management Platform</a>
      <ul>
        <li><a href="#instructions-for-cmp-designers-on-how-to-implement-consent-mode">Instructions for CMP designers on how to implement Consent Mode</a></li>
        <li><a href="#patching-the-cmp-manually-with-a-custom-template">Patching the CMP manually with a custom template</a></li>
      </ul>
    </li>
    <li><a href="#adjusting-tags-to-work-with-bcm">Adjusting tags to work with BCM</a>
      <ul>
        <li><a href="#bug-with-additional-consent-checks">Bug with &ldquo;Additional Consent Checks&rdquo;</a></li>
        <li><a href="#initialization-tags-that-need-to-fire-just-once-per-page-load">Initialization tags that need to fire just once per page load</a></li>
        <li><a href="#initialization-tags-that-might-need-to-fire-multiple-times">Initialization tags that might need to fire multiple times</a></li>
        <li><a href="#tags-that-must-fire-when-consent-is-granted-but-only-under-special-circumstances">Tags that must fire when consent is granted but only under special circumstances</a></li>
        <li><a href="#tags-that-might-fire-multiple-times">Tags that might fire multiple times</a></li>
      </ul>
    </li>
    <li><a href="#flowchart">Flowchart</a></li>
    <li><a href="#edge-cases">Edge cases</a></li>
    <li><a href="#summary">Summary</a></li>
  </ul>
</nav></div>
<p>This article will focus on a <strong>Google Tag Manager</strong> implementation first and foremost. If you&rsquo;re using just Google Tag, go ahead and read this guide as much of it is still very relevant. However, you should also consult <a href="https://developers.google.com/tag-platform/security/guides/consent">the official guide</a>.</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="basic-consent-mode-the-basics">Basic Consent Mode: the basics</h2>
<p>Basic Consent Mode (BCM) isn&rsquo;t really a <em>feature</em>. It&rsquo;s an <em>implementation approach</em> that specifies that tags which require consent should never fire until the consent that they require has been <strong>granted</strong>.</p>
<p>It&rsquo;s basically business as usual. This is how you probably orchestrated your tags anyway due to legislation like GDPR and ePrivacy dictating legal bases for processing user data.</p>
<p>However, with BCM, you need to link your tags to how Consent Mode itself has been activated on the page. This means that your Consent Management Platform (CMP) needs to be <strong>integrated</strong> with Consent Mode. If it isn&rsquo;t, you need to engineer the cooperation between your CMP and Consent Mode yourself.</p>



<div style="aspect-ratio: 1540 / 784;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/consent-default-update.jpg" title="Consent default and update">
  
    <img class="fig-img" height="784" width="1540" loading="lazy" src="https://www.simoahava.com/images/2025/05/consent-default-update.jpg#ZgotmplZ" alt="Consent default and update">
  
    </a>
  
  
</div>


<h3 id="the-consent-mode-calls">The Consent Mode calls</h3>
<p>Consent Mode has two different types of calls.</p>
<ol>
<li><strong>Default</strong> is invoked <em>as early as possible</em>. You should use the <strong>Consent Initialization - All Pages</strong> trigger for this. It&rsquo;s best to set <strong>all consent states to <code>denied</code> by default</strong>, <em>even</em> if you already know the user&rsquo;s consent choices by the time the default call is made (<a href="#the-ideal-approach">more on this below</a>).</li>
<li><strong>Update</strong> is invoked <em>as soon as the user makes a choice or their choice is known otherwise</em>. While Default should be executed just once per page load, Update can be called multiple times – basically whenever the user makes a new choice.</li>
</ol>
<p>Both calls take an object as one of the arguments. This object includes the different consent signals and their states. If consent for a specific signal is denied, the value should be <code>&quot;denied&quot;</code>. If consent has been granted, the value should be <code>&quot;granted&quot;</code>. Here&rsquo;s an example where consent is denied by default:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  ad_storage: <span style="color:#a50">&#34;denied&#34;</span>,
  analytics_storage: <span style="color:#a50">&#34;denied&#34;</span>,
  ad_user_data: <span style="color:#a50">&#34;denied&#34;</span>,
  ad_personalization: <span style="color:#a50">&#34;denied&#34;</span>
}
</code></pre></div>
<blockquote>
<p>We will be ignoring all the custom consent signals (<code>funcionality_storage</code>, <code>security_storage</code> etc.) as they are not officially part of Consent Mode.</p>
</blockquote>
<p>When consent is then granted for analytics, for example, the Update call would be sent with this object:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
  ad_storage: <span style="color:#a50">&#34;denied&#34;</span>,
  analytics_storage: <span style="color:#a50">&#34;granted&#34;</span>, <span style="color:#aaa;font-style:italic">// Consent granted for analytics
</span><span style="color:#aaa;font-style:italic"></span>  ad_user_data: <span style="color:#a50">&#34;denied&#34;</span>,
  ad_personalization: <span style="color:#a50">&#34;denied&#34;</span>
}
</code></pre></div>
<h3 id="the-ideal-approach">The ideal approach</h3>
<p>Here is what I consider the ideal approach. We will be covering this in more detail in subsequent steps of the guide. It&rsquo;s important to understand that this approach requires a cooperative CMP. If the Consent Management Platform has a quirky integration with Consent Mode, it&rsquo;s possible you&rsquo;ll need to pick up the slack and control Consent Mode calls yourself using the appropriate template.</p>
<blockquote>
<p>The <strong>Default</strong> call should always happen on the <strong>Consent Initialization - All Pages</strong> trigger, and it should set all consent signals to <code>&quot;denied&quot;</code>.</p>
</blockquote>



<div style="aspect-ratio: 1376 / 668;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/consent-default.jpg" title="Consent Default">
  
    <img class="fig-img" height="668" width="1376" loading="lazy" src="https://www.simoahava.com/images/2025/05/consent-default.jpg#ZgotmplZ" alt="Consent Default">
  
    </a>
  
  
</div>


<p>You might ask why not set the consent signals to <code>&quot;granted&quot;</code> already in the Default call, in case that information is available in the cookies (or other browser storage) the CMP sets. Setting defaults to <code>&quot;denied&quot;</code>, in my opinion, is the most elegant and most consistent approach. By relying <em>solely</em> on Update calls, you eliminate possible race conditions that emerge from the consent information not being available at Default time.</p>
<blockquote>
<p><strong>If consent is known already when the GTM container loads</strong>, the <strong>Update</strong> call should happen immediately after the <strong>Default</strong> call, also on the <strong>Consent Initialization</strong> trigger. The <strong>Update</strong> call should be immediately followed by a <code>dataLayer.push</code> call with a custom event (e.g. <code>gtm_consent_update</code>) and details about the consent states. This event is used for triggering tags that need consent.</p>
</blockquote>



<div style="aspect-ratio: 1300 / 654;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/consent-update.jpg" title="Consent Update">
  
    <img class="fig-img" height="654" width="1300" loading="lazy" src="https://www.simoahava.com/images/2025/05/consent-update.jpg#ZgotmplZ" alt="Consent Update">
  
    </a>
  
  
</div>


<p>By running the Default and Update calls with the latter coming immediate after the former, you ensure that all GTM tags can make use of the most current consent states as soon as they are set to fire.</p>
<blockquote>
<p>If consent is <strong>set</strong> or <strong>changed</strong> by the user later, or if the consent state is only known once the CMP has loaded, for example, the <strong>Update</strong> call should happen immediately when the state of these consent signals is known. Again, this <strong>Update</strong> call should be immediately followed by a <code>dataLayer.push</code> as explained above.</p>
</blockquote>



<div style="aspect-ratio: 1526 / 840;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/consent-update-click.jpg" title="Consnet update upon click">
  
    <img class="fig-img" height="840" width="1526" loading="lazy" src="https://www.simoahava.com/images/2025/05/consent-update-click.jpg#ZgotmplZ" alt="Consnet update upon click">
  
    </a>
  
  
</div>


<p>In the screenshot above, the Consent Update call is done by a GTM custom template (<a href="#patching-the-cmp-manually-with-a-custom-template">see below</a>) that fires on the <code>consent_banner_click</code> event.</p>
<blockquote>
<p>As you can see, the consent update happens already on the <code>consent_banner_click</code> event. This is because GTM is specially engineered to immediately apply changes to consent states if the custom template uses the dedicated template APIs (<a href="https://developers.google.com/tag-platform/tag-manager/templates/api#setdefaultconsentstate"><code>setDefaultConsentState</code></a> and <a href="https://developers.google.com/tag-platform/tag-manager/templates/api#updateconsentstate"><code>updateConsentState</code></a>).</p>
</blockquote>
<p>The ideal approach thus makes use of GTM&rsquo;s templates to engineer consent. Relying on <code>gtag</code> alone does work, but it introduces potential <em>race conditions</em> where the consent state takes longer than anticipated to be set.</p>
<p>In the rest of the guide, we&rsquo;ll deconstruct this ideal approach and look at it from the viewpoint of how most CMPs work.</p>

                
                  <h2 id="the-consent-management-platform">The Consent Management Platform</h2>
<p>I cannot recommend any CMPs over others. I&rsquo;ve always preferred to orchestrate interactions with Consent Mode manually, using a custom template (<a href="#patching-the-cmp-manually-with-a-custom-template">see below</a>), but there are many CMPs that have their own custom templates that do the job, more or less.</p>
<blockquote>
<p>Generally, I&rsquo;d recommend loading the CMP <strong>outside GTM</strong>, before Google Tag Manager loads. This is because in some cases GTM is blocked by ad and content blockers, which means your CMP is never loaded at all. This poses a risk in case you have data collection subject to user consent happening outside GTM.</p>
</blockquote>
<p>In any case, when working with a CMP, you need to be careful how much of Consent Mode logic you delegate to the CMP library itself, as it&rsquo;s often loaded <strong>asynchronously</strong>. Asynchronous loading means that the browser initiates the load but then proceeds to execute other tasks in the queue. In other words, there&rsquo;s no guarantee <em>when</em> the CMP has actually loaded and is ready to implement Consent Mode.</p>
<p>Regardless of how the CMP works, here is how I recommend engineering Consent Mode:</p>
<ol>
<li>
<p>Use a GTM custom template to set the <strong>Default</strong> to <code>&quot;denied&quot;</code> across the board, and have it fire on the <strong>Consent Initialization - All Pages</strong> trigger. Set the <strong>Tag Priority</strong> of this tag to <code>10</code>, for example.</p>
</li>
<li>
<p>Use a GTM custom template to fire an <strong>Update</strong> call on <strong>Consent Initialization - All Pages</strong> trigger <em>if</em> the user has already established consent previously and this is available in browser cookies or <code>localStorage</code>. Adjust the states from <code>&quot;denied&quot;</code> to <code>&quot;granted&quot;</code> for all signals whose consent has been granted (you might need to use variables to pull in the consent state from cookies or <code>localStorage</code> or the global <code>window</code> object).</p>
</li>
<li>
<p>Use a GTM custom template to fire an <strong>Update</strong> call whenever the user adjusts their consent choices.</p>
</li>
</ol>
<p>Now, ideally, it would be the CMP&rsquo;s <strong>own</strong> custom template that handles all of the above. However, CMPs often lack a proper GTM template, or they opt to use <code>gtag</code> instead of using the dedicated template APIs. In this case, it might be best to <a href="#patching-the-cmp-manually-with-a-custom-template">orchestrate Consent Mode manually</a>.</p>
<p>As a positive example, the <a href="https://tagmanager.google.com/gallery/#/owners/digidays/templates/cookiebanners-gtm-template">Cookiebanners.nl</a> template handles this nicely. You need to set a tag created with this template to fire on the <strong>Consent Initialization - All pages</strong> trigger. The tag will then automatically run the Default call when it first fires, followed by an Update call <strong>if the Cookiebanners.nl consent states are available in a browser cookie</strong>. Later, if the user adjusts their consent choices, the Cookiebanners.nl JavaScript library runs a <code>gtag('consent', 'update', ...)</code> call to update consent states, followed by a <code>dataLayer.push()</code> with an event that can be used to trigger tags with.</p>



<div style="aspect-ratio: 1322 / 402;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/cookiebanners.jpg" title="Cookiebanners.nl">
  
    <img class="fig-img" height="402" width="1322" loading="lazy" src="https://www.simoahava.com/images/2025/05/cookiebanners.jpg#ZgotmplZ" alt="Cookiebanners.nl">
  
    </a>
  
  
</div>


<h3 id="instructions-for-cmp-designers-on-how-to-implement-consent-mode">Instructions for CMP designers on how to implement Consent Mode</h3>
<p>If you are working for a CMP or shopping around for a CMP that works ideally with Consent Mode, here are the features it should have:</p>
<ol>
<li>
<p>It needs a <strong>dedicated GTM Custom Template</strong> that utilizes the custom template consent APIs: <a href="https://developers.google.com/tag-platform/tag-manager/templates/api#setdefaultconsentstate"><code>setDefaultConsentState</code></a> and <a href="https://developers.google.com/tag-platform/tag-manager/templates/api#updateconsentstate"><code>updateConsentState</code></a>. The first should be called immediately when a tag built with the template fires (call it just once per page load, though!), and the second should be called immediately after this, <em>if consent is already known</em>. If the user changes their consent settings, <code>updateConsentState</code> should be called again. These APIs are <strong>special</strong> in that they immediately toggle the consent states in Google Tag Manager instead of having to wait for the container to process a <code>gtag()</code> call.</p>
</li>
<li>
<p>The custom template needs to push a <strong>Data Layer event</strong> as soon as any <strong>Update</strong> call is made. This is because the Consent Update call itself <strong>cannot be used as a GTM trigger!</strong>. If you want to trigger tags when the user&rsquo;s consent choices are known or when they change, the CMP <strong>must</strong> push an event to <code>dataLayer</code> that can then be used as the trigger event. The <code>dataLayer.push()</code> call could look like this, for example:</p>
</li>
</ol>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#0aa">window</span>.dataLayer.push({
  event: <span style="color:#a50">&#39;gtm_consent_update&#39;</span>,
  analytics_storage: <span style="color:#a50">&#39;granted&#39;</span>,
  ad_storage: <span style="color:#a50">&#39;denied&#39;</span>,
  ad_user_data: <span style="color:#a50">&#39;denied&#39;</span>,
  ad_personalization: <span style="color:#a50">&#39;denied&#39;</span>
});
</code></pre></div>
<ol start="3">
<li>The CMP should ideally have an option to suppress the initial <strong>Default</strong> and <strong>Update</strong> calls, in case the site admin wants to take full control over these vital flows by using their own custom template.</li>
</ol>
<p>For inspiration, see how the <a href="https://github.com/digidays/cookiebanners-gtm-template">Cookiebanners.nl template has been created</a>. Full disclosure, I helped build it.</p>
<h3 id="patching-the-cmp-manually-with-a-custom-template">Patching the CMP manually with a custom template</h3>
<p>If you want to take control over at least the crucial initialization flow, you can use my <a href="https://tagmanager.google.com/gallery/#/owners/gtm-templates-simo-ahava/templates/consent-mode">Consent Mode (Google + Microsoft Tags)</a> template available in the <a href="https://tagmanager.google.com/gallery/#/">Community Template Gallery</a>.</p>
<blockquote>
<p>If you do this, it&rsquo;s important that the <strong>CMP doesn&rsquo;t interact with Consent Mode itself</strong>, otherwise you might have a situation where multiple, often conflicting Update or Default calls happen. The CMP&rsquo;s job is to write the user&rsquo;s consent choices into browser storage (cookies or <code>localStorage</code> for example), and then push an event to <code>dataLayer</code> that can be used to trigger the custom template tag with.</p>
</blockquote>
<p>Here&rsquo;s an example of an ideal setup:</p>
<ol>
<li>Create a new <strong>Default</strong> tag with my template.</li>
<li>Set the trigger as <strong>Consent Initialization - All Pages</strong>.</li>
<li>Set all consent signals to <code>&quot;denied&quot;</code>.</li>
<li>Set the Tag Priority to <code>10</code>.</li>
</ol>



<div style="aspect-ratio: 1854 / 1140;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/custom-template-default.jpg" title="Custom template - default">
  
    <img class="fig-img" height="1140" width="1854" loading="lazy" src="https://www.simoahava.com/images/2025/05/custom-template-default.jpg#ZgotmplZ" alt="Custom template - default">
  
    </a>
  
  
</div>


<ol>
<li>Next, create a new <strong>Update</strong> tag with it.</li>
<li>Set it to fire on the <strong>Consent Initialization - All Pages</strong> trigger.</li>
<li>Block this tag from firing in case the user&rsquo;s consent choice is not yet known.</li>
<li>Set the consent signals to <code>&quot;denied&quot;</code> or <code>&quot;granted&quot;</code> dynamically using variables. Typically this information is stored in a browser cookie or <code>localStorage</code> (read the CMP documentation to know for sure).</li>
<li>Toggle the <strong>Push dataLayer event</strong> option ON, so that the tag generates an event that you can use to fire your marketing tags.</li>
</ol>



<div style="aspect-ratio: 1840 / 1844;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/example-custom-template-approach.jpg" title="Example custom template approach">
  
    <img class="fig-img" height="1844" width="1840" loading="lazy" src="https://www.simoahava.com/images/2025/05/example-custom-template-approach.jpg#ZgotmplZ" alt="Example custom template approach">
  
    </a>
  
  
</div>





<div style="aspect-ratio: 988 / 300;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/push-datalayer-event-option.jpg" title="push-datalayer-event-option.jpg">
  
    <img class="fig-img" height="300" width="988" loading="lazy" src="https://www.simoahava.com/images/2025/05/push-datalayer-event-option.jpg#ZgotmplZ" alt="push-datalayer-event-option.jpg">
  
    </a>
  
  
</div>


<p>With these two tags in place, you are handling the critical initial load and configuration of Consent Mode.</p>
<p>When the user then interacts with the consent banner, the CMP should push an event to <code>dataLayer</code> that signals a change in the stored consent states. This push should happen <strong>after</strong> it is guaranteed that the stored consent choices have been updated.</p>
<p>You can then simply configure the <strong>Update tag</strong> that you created earlier to fire with this <code>dataLayer</code> event, too. The Update call will happen again, and Consent Mode will be updated with the new consent states.</p>



<div style="aspect-ratio: 1850 / 694;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/cmp-datalayer-event.jpg" title="CMP dataLayer event">
  
    <img class="fig-img" height="694" width="1850" loading="lazy" src="https://www.simoahava.com/images/2025/05/cmp-datalayer-event.jpg#ZgotmplZ" alt="CMP dataLayer event">
  
    </a>
  
  
</div>


<p>A setup like this is pretty much foolproof, guaranteed to work as fast as possible, and you have <strong>full control</strong> over how Consent Mode is implemented on the site.</p>

                
                  <h2 id="adjusting-tags-to-work-with-bcm">Adjusting tags to work with BCM</h2>
<p>Now that you&rsquo;re using a CMP that works nicely with Consent Mode, or you&rsquo;re working with a custom template that handles all the logic, you&rsquo;re left with the difficult part.</p>
<p>With BCM, you need to <strong>block tags from firing</strong> until relevant consent has been granted. This sounds straightforward but it isn&rsquo;t. Unfortunately, Google has made it extremely difficult to implement BCM vs. the relative ease of working with Advanced Consent Mode.</p>
<p>Before diving into tag-specific configurations, it&rsquo;s important to be aware of a critical bug that may affect your implementation.</p>
<h3 id="bug-with-additional-consent-checks">Bug with &ldquo;Additional Consent Checks&rdquo;</h3>
<p>There is a very, very annoying bug with <strong>Additional Consent Checks</strong> that makes it unusable for tags that have the <strong>Once per page</strong> setting toggled on:</p>



<div style="aspect-ratio: 1846 / 994;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/additional-consent-checks.jpg" title="Additional consent checks">
  
    <img class="fig-img" height="994" width="1846" loading="lazy" src="https://www.simoahava.com/images/2025/05/additional-consent-checks.jpg#ZgotmplZ" alt="Additional consent checks">
  
    </a>
  
  
</div>


<p>With this bug, if your tag first tries to fire when consent is <strong>not</strong> granted (e.g. at the <strong>Initialization - All Pages</strong> trigger above), it will be rightly blocked by Additional Consent Checks not detecting consent for <code>analytics_storage</code>.</p>
<p>However, when the tag then fires on the <code>cmp_consent_banner_click</code> and consent <strong>is</strong> granted, <strong>it will not fire</strong>.</p>
<p>The bug is that Additional Consent Checks <em>consumes</em> the &ldquo;Once per page&rdquo; setting. From GTM&rsquo;s point of view, the tag has already &ldquo;fired&rdquo; on that page, even though it was blocked by Additional Consent Checks.</p>
<p>This sucks, and it means that for <em>Once per page</em> tags you need to use trigger logic to control the tag firing instead.</p>
<h3 id="initialization-tags-that-need-to-fire-just-once-per-page-load">Initialization tags that need to fire just once per page load</h3>
<p>These are tags like the <strong>Meta pixel</strong> or <strong>Google Tag</strong> that need to fire as early as possible and that don&rsquo;t need to access any information that might be available in GTM with a delay.</p>
<p>If you didn&rsquo;t have Consent Mode in place, you would fire these tags on the <strong>Initialization - All Pages</strong> trigger.</p>
<p>With BCM, the earliest possible moment when it&rsquo;s certain that consent has been granted would be a <code>dataLayer</code> event pushed by the CMP or by a custom template <strong>immediately after</strong> consent has been updated with a <code>&quot;granted&quot;</code> state.</p>
<p>For example, if using <a href="#patching-the-cmp-manually-with-a-custom-template">my custom template</a>, the trigger would look like this for tags that need <code>analytics_storage</code>:</p>



<div style="aspect-ratio: 1160 / 568;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/gtm-update-analytics-storage.jpg" title="consent update with analytics_storage">
  
    <img class="fig-img" height="568" width="1160" loading="lazy" src="https://www.simoahava.com/images/2025/05/gtm-update-analytics-storage.jpg#ZgotmplZ" alt="consent update with analytics_storage">
  
    </a>
  
  
</div>


<blockquote>
<p><code>{{DLV - analytics_storage}}</code> is a Data Layer variable that points to the name <code>analytics_storage</code>, because that&rsquo;s what the custom template uses to reference consent states.</p>
</blockquote>
<p>If you add this trigger to your <strong>Once per page</strong> tags, they will only fire when consent is granted for <code>analytics_storage</code>. For tags that need <code>ad_storage</code>, create a new trigger and adjust accordingly.</p>
<p>You do not need to add Additional Consent Checks, and you do not need to add a blocking trigger to these tags. They will only fire when appropriate consent is granted – your trigger takes care of that.</p>
<h3 id="initialization-tags-that-might-need-to-fire-multiple-times">Initialization tags that might need to fire multiple times</h3>
<p>This is also relatively easy. Let&rsquo;s say you have an initialization tag that needs to fire when consent is granted <em>and</em> on virtual page views or when the user logs in, for example.</p>
<p>In that case, the tag&rsquo;s firing setting should be set to <strong>Once per event</strong>.</p>
<p>The trigger should be the same trigger as above for cases where the user&rsquo;s consent state is updated to <code>&quot;granted&quot;</code>.</p>
<p><em>Additionally</em>, the tag should have all the other triggers that you want to add to it.</p>
<p>Finally, set the <strong>Additional Consent Checks</strong> setting to the consent state that the tag needs – <code>analytics_storage</code> if following the example above.</p>



<div style="aspect-ratio: 1776 / 1320;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/google-tag-example.jpg" title="Google Tag example">
  
    <img class="fig-img" height="1320" width="1776" loading="lazy" src="https://www.simoahava.com/images/2025/05/google-tag-example.jpg#ZgotmplZ" alt="Google Tag example">
  
    </a>
  
  
</div>


<p>In this case, the tag will fire whenever consent is granted for <code>analytics_storage</code>. The tag will also fire for all <code>virtual_pageview</code> events <em>as long as <code>analytics_storage</code> consent has been granted</em>.</p>
<h3 id="tags-that-must-fire-when-consent-is-granted-but-only-under-special-circumstances">Tags that must fire when consent is granted but only under special circumstances</h3>
<p>If you use <strong>Additional Consent Checks</strong>, tags will be blocked if consent is not granted. However, they will not be automatically fired again when consent is granted at a later stage. You need to engineer this logic yourself.</p>
<p>Some tags need to wait for specific circumstances before they fire. A typical example is an ecommerce <strong>purchase</strong> tag, which needs to fire as soon as a <code>purchase</code> event is pushed to <code>dataLayer</code>.</p>
<p>With tags that need to fire just once, the easiest approach is with a <strong>Trigger Group</strong>.</p>
<p>A Trigger Group can take one or more triggers, and it will only activate as soon as all the triggers added to the group have fired.</p>
<p>So, if you have a GA4 <strong>Purchase</strong> tag, for example, the Trigger Group would look like this:</p>



<div style="aspect-ratio: 1772 / 726;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/trigger-group-purchase.jpg" title="Trigger Group - purchase">
  
    <img class="fig-img" height="726" width="1772" loading="lazy" src="https://www.simoahava.com/images/2025/05/trigger-group-purchase.jpg#ZgotmplZ" alt="Trigger Group - purchase">
  
    </a>
  
  
</div>


<p>A tag with this trigger will fire only once consent is <code>&quot;granted&quot;</code> for <code>analytics_storage</code> <em>and</em> a <code>purchase</code> event has been pushed into <code>dataLayer</code>.</p>
<p>A tag like this doesn&rsquo;t need <strong>Additional Consent Checks</strong> or blocking triggers, because one of the conditions of it firing is the presence of <code>analytics_storage</code> with <code>&quot;granted&quot;</code> state.</p>
<h3 id="tags-that-might-fire-multiple-times">Tags that might fire multiple times</h3>
<p>Your generic event tags such as <strong>Add to cart</strong>, <strong>Scroll</strong>, <strong>Login</strong>, and <strong>Timer</strong> might fire multiple times on the page.</p>
<p>The easiest approach here is to simply use <strong>Additional Consent Checks</strong> to block these tags from firing if appropriate consent hasn&rsquo;t been granted.</p>



<div style="aspect-ratio: 1772 / 1202;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/example-add-to-cart.jpg" title="Add to cart">
  
    <img class="fig-img" height="1202" width="1772" loading="lazy" src="https://www.simoahava.com/images/2025/05/example-add-to-cart.jpg#ZgotmplZ" alt="Add to cart">
  
    </a>
  
  
</div>


<p>This configuration means that if consent is not granted, the tag is blocked. When consent is granted, the tag will not automatically fire again. Trigger Groups <strong>will not work here</strong> as they can only be activated once per page load.</p>
<p>If you need these tags to automatically fire if consent is granted after the trigger fires, you would need to implement a queue system manually, and that is beyond the scope of this guide. I also don&rsquo;t think it&rsquo;s worth the effort – sometimes it&rsquo;s OK to have a little data loss in favor of keeping things simple.</p>

                
                  <h2 id="flowchart">Flowchart</h2>
<p>Here&rsquo;s a flowchart of the instructions from the previous section.</p>



<div style="aspect-ratio: 2030 / 1904;" class="figure nocaption">
  
    <a href="https://www.simoahava.com/images/2025/05/flowchart.jpg" title="Basic Consent Mode – flowchart">
  
    <img class="fig-img" height="1904" width="2030" loading="lazy" src="https://www.simoahava.com/images/2025/05/flowchart.jpg#ZgotmplZ" alt="Basic Consent Mode – flowchart">
  
    </a>
  
  
</div>



                
                  <h2 id="edge-cases">Edge cases</h2>
<p>There are many edge cases to this. The examples above rely on a BCM implementation that mirrors <a href="#the-ideal-approach">my ideal approach</a>.</p>
<p>Sometimes the <code>gtm_consent_update</code> event cannot be pushed at <strong>Consent Initialization</strong> time because the information about the user&rsquo;s consent choices is simply not available. This is very poor CMP design, but it happens.</p>
<p>Sometimes a <code>virtual_pageview</code> event happens already on the initial page load, making it difficult to avoid duplicate page views (one for the <code>gtm_consent_update</code> event and one for the <code>virtual_pageview</code> event).</p>
<p>Sometimes the CMP refuses to cooperate and pushes a faulty Default or Update call, messing things up.</p>
<p>You can share your questions in the comments, but in most of the cases toggling the CMP&rsquo;s settings will help fix issues in the CMP&rsquo;s end. Otherwise, careful trigger design in GTM will ensure that your tags fire only when they should.</p>

                
                  <h2 id="summary">Summary</h2>
<p>Implementing Basic Consent Mode is as taxing as reading this guide from top to bottom.</p>
<p>The biggest difficulty is in managing the <em>anticipation flow</em>, where tags need to <em>wait</em> for granted consent before proceeding with their triggering mechanisms.</p>
<p>Many CMPs load asynchronously, and they use <code>gtag()</code> calls instead of custom Google Tag Manager templates to orchestrate Consent Mode interactions. This leads to unnecessary delays, where the tag could have fired a long time ago but now has to wait for a slow CMP to instruct it with the latest Consent Mode states.</p>
<p>For this reason, I&rsquo;m a huge fan of the DIY approach using custom templates. The CMP&rsquo;s only role in this is to tell GTM when the user has made a change in their consent choices. The custom template can read the user&rsquo;s consent choices from browser storage and activate Consent Mode <em>immediately</em>.</p>
<p>If you manage to build your Consent Mode setup like this, then modifying your tags to wait for appropriate consent is quite easy.</p>
<p>If, however, you can&rsquo;t build the perfect Consent Mode setup and switching to a more cooperative CMP is out of the question, you&rsquo;ll need to get inventive with triggers and variables.</p>
<p>Please write a comment below if you need clarification about any of the above, or if you have one of those dreaded <em>edge cases</em> to share and inquire about.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">google tag manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/consent-mode/">consent mode</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/clarification-on-google-tag-manager-google-tag-update/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Basic%20Consent%20Mode:%20The%20Guide%20https://www.simoahava.com/analytics/basic-consent-mode-the-guide/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2025 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/analytics/clarification-on-google-tag-manager-google-tag-update/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=Basic%20Consent%20Mode:%20The%20Guide%20https://www.simoahava.com/analytics/basic-consent-mode-the-guide/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
          <i class="fa fa-brands fa-facebook"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=Basic%20Consent%20Mode:%20The%20Guide%20https://www.simoahava.com/analytics/basic-consent-mode-the-guide/%20via%20@SimoAhava">
          <i class="fa fa-brands fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/basic-consent-mode-the-guide/">
          <i class="fa fa-brands fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

