

  
    
  


  





  


  

<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta name="google-site-verification" content="xQwWI2KUfP9LbFKhw2CVLFtrMY6Czrla7L3PD2aBolA" />


<script type="application/ld+json">
{
  "@context": "http://schema.org", 
  "@type": "BlogPosting",
  "headline": "The Data Layer | Simo Ahava's blog",
  "image": "https:\/\/www.simoahava.com\/images\/2014\/09\/data-layer.jpg",
  "editor": "Simo Ahava",
  "publisher": {
    "@type": "Organization",
    "name": "Simo Ahava's blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https:\/\/www.simoahava.com\/images\/simo.png",
      "height": "393",
      "width": "407"
    }
  },
  "url": "https:\/\/www.simoahava.com\/analytics\/data-layer\/",
  "datePublished": "2014-09-15T07:05:09\u002b00:00",
  "dateModified": "2014-09-15T07:05:09\u002b00:00",
  "description": "An overview of the Data Layer in Google Tag Manager, and a detailed description of its use and application in websites.",
  "author": {
    "@type": "Person",
    "name": "Simo Ahava"
  }
}
</script>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>The Data Layer | Simo Ahava's blog</title>
    
    <script>
      window.dataLayer=window.dataLayer||[];window.dataLayer.push({pageType: 'article', environment:  null });
    </script>
    

    
    
    <script src="https://www.simoahava.com/x-js/lazyload.iife.min.js"></script>

    

    
    <script>
      (function(S,i,m,o){
        window[m]=window[m]||[];
        window[m].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
        var f=S.getElementsByTagName(i)[0],j=S.createElement(i),dl=m!='dataLayer'?'&l='+m:'';
        j.async=true;
        j.src='https://sgtm.simoahava.com/gtm.js?id='+o+dl;
        f.parentNode.insertBefore(j,f);
      })(document,'script','dataLayer','GTM-PZ7GMV9');
    </script>
    
    <meta name="author" content="Simo Ahava">
    <meta name="keywords" content="">

    <link rel="icon" href="https://www.simoahava.com/images/favicon.ico">
    
    <link rel="amphtml" href="https://www.simoahava.com/amp/analytics/data-layer/">
    
    <meta name="description" content="An overview of the Data Layer in Google Tag Manager, and a detailed description of its use and application in websites.">
    <meta property="og:description" content="An overview of the Data Layer in Google Tag Manager, and a detailed description of its use and application in websites.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="The Data Layer">
    <meta property="og:url" content="https://www.simoahava.com/analytics/data-layer/">
    <meta property="og:site_name" content="Simo Ahava&#39;s blog">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="The Data Layer">
    <meta name="twitter:description" content="An overview of the Data Layer in Google Tag Manager, and a detailed description of its use and application in websites.">
    
      <meta name="twitter:creator" content="@SimoAhava">
      
    

    
    

    
      <meta name="twitter:image" content="https://www.simoahava.com/images/2014/09/data-layer.jpg">  
      <meta property="og:image" content="https://www.simoahava.com/images/2014/09/data-layer.jpg">
    


    

      
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
      
    
    <link rel="stylesheet" href="https://www.simoahava.com/css/style.css" />
    
    

    
      
    
    
  </head>

  <body>
    
    <div id="_progress"></div>
    
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://www.simoahava.com/">Simo Ahava&#39;s blog</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://www.simoahava.com/">
          <img class="sidebar-profile-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Simo Ahava</h4>
        
          <h5 class="sidebar-profile-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tags/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/categories/gtm-tips/">
    
      <i class="sidebar-button-icon fa fa-lg fa-magic"></i>
      
      <span class="sidebar-button-desc">GTM Tips</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/about-simo-ahava/">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/tools/">
    
      <i class="sidebar-button-icon fa fa-lg fa-wrench"></i>
      
      <span class="sidebar-button-desc">Tools</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/blog-statistics/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bar-chart"></i>
      
      <span class="sidebar-button-desc">Blog statistics</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/sahava" target="_blank" rel="noopener ">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/upcoming-talks/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bullhorn"></i>
      
      <span class="sidebar-button-desc">Upcoming talks</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/custom-templates/">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Templates</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.simoahava.com/newsletter/">
    
      <i class="sidebar-button-icon fa fa-lg fa-bell"></i>
      
      <span class="sidebar-button-desc">Newsletter</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://masto.measure.chat/@SimoAhava" target="_blank" rel="noopener me">
    
      <i class="sidebar-button-icon fa fa-lg fa-brands fa-mastodon"></i>
      
      <span class="sidebar-button-desc">Mastodon</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      

    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post">
	  <form id="search" action="https://www.simoahava.com/search/">
  <input name="q" type="text" class="form-control input--xlarge" placeholder="Search blog..." autocomplete="off">
  </form>

          <div class="post-header main-content-wrap text-left">
  
  

    <h1>
      The Data Layer
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2014-09-15T07:05:09Z">
        
  September 15, 2014

      </time>
      
      
  
  
    <span>in</span>
    
      <a class="category-link" href="https://www.simoahava.com/categories/analytics">Analytics</a>
    
  


      | <a href="https://www.simoahava.com/analytics/data-layer/#commento">Comments</a>
      
  </div>


</div>

          <div class="post-content markdown">
            <div class="main-content-wrap">
	      
                
  	        <p>Writing this article is dangerous. <em>Data Layer</em> is two marketers short of becoming a buzz word. This occasion will be heralded by articles such as &ldquo;Data Layer Is Dead&rdquo;, &ldquo;This Developer Implemented A Data Layer And You&rsquo;ll Never Guess What Happened Next&rdquo;, and other examples of the kind of content generation whose propagation should be prevented by military force. This is not one of those articles, I hope, but rather an honest look at what Data Layer is from a number of perspectives.</p>



<div class="figure nocaption" >
  
    <a href="https://www.simoahava.com/images/2014/09/data-layer.jpg" title="The Data Layer">
  
    <img class="fig-img lazy" data-src="https://www.simoahava.com/images/2014/09/data-layer.jpg#ZgotmplZ" alt="The Data Layer" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 799 541'%3E%3C/svg%3E">
  
    </a>
  
  
</div>


<p>And there are many perspectives, indeed. The terminology itself is difficult to pin down. In this article, I will consider <em>Data Layer</em> to comprise the following definitions:</p>
<ul>
<li>
<p>The description of business requirements and goals, aligned in a format that is readily transferrable to technical specifications</p>
</li>
<li>
<p>The concept of a discrete layer of semantic information, stored in a digital context</p>
</li>
</ul>
<p>I will also use the variable name <code>dataLayer</code> to denote the data structure used by Google Tag Manager for storing, processing, and passing data between the digital context and the tag management solution. I also prefer the term <em>digital context</em> to website, for example, since the Data Layer can be used in a variety of context, not just a public-facing web environment.</p>
<p>The Data Layer most explored in this article is the one that is firmly rooted in the DMZ between developers and marketers. It&rsquo;s very much a technical concept, since its existence is justified by the limitations imposed by certain web technologies (JavaScript, for example) upon how browsers interact with applications (Google Tag Manager, for example). At the same time, Data Layer is, and ought to be, owned at least partly by marketers, analysts, executives, designers, and communication professionals, who draft the business requirements and goals that are satisfied by data collection methods.</p>
<p>In other words, it&rsquo;s very common that the governance of Data Layer is debated hotly among different stakeholders of the &ldquo;data organization&rdquo; within a company. Since, as we will learn, it&rsquo;s a generic data model that can be used by all applications that interface with your digital data, it&rsquo;s very difficult to draft a governance model that would satisfy all parties. This, too, we&rsquo;ll explore in this post.</p>
<p>In the end I&rsquo;ll share some great resources for learning more about Data Layer, since this post will not be a deep-dive (even though it is wordy).</p>

                <span class="simmer">
  <span class="close">X</span>
  <p>
    <span class="fa fa-md fa-bell"></span>
    <strong>The Simmer Newsletter</strong>
  </p>
  <p>
    Subscribe to the <a href="https://www.simoahava.com/newsletter/">Simmer newsletter</a> to get the latest news and content from Simo Ahava into your email inbox!
  </p>
  </span>

                
                  <h2 id="what-is-the-data-layer">What Is The Data Layer</h2>
<p>To put it shortly, a Data Layer is a data structure which ideally holds <em>all</em> data that you want to process and pass from your website (or other digital context) to other applications that you have linked to.</p>
<p>The reason we use a Data Layer is because sometimes it is necessary to decouple semantic information from other information stored in the digital context. This, in turn, is because if we reuse information already available, there&rsquo;s a risk that once modifications are done to the original source, the integrity of the data will be compromised.</p>
<p>A very common example is web analytics tracking. You might have a Data Layer which feeds data into your analytics tool about the visitor. Often, this data isn&rsquo;t available in the presentational layer, or in the markup at all. This data might be, for example, details about the visitor (login status, user ID, geolocation), metadata about the page (optimal resolution, image copyrights), or even information that&rsquo;s already in the markup, but that you want to access in a more robust way.</p>
<p>This duplication is often seen in eCommerce data. Instead of &ldquo;scraping&rdquo; transactional details from the header or content of the page, it&rsquo;s more reliable to use the Data Layer to carry this information, since only this way is the data uncoupled from the website proper, meaning it is less subject to errors when markup is modified.</p>
<p>If, for example, you were inclined to use data stored in a H2 heading of the HTML markup in the thank you page, a single change to the markup or the format of the information in this HTML element would compromise data collection from the site to your tracking tool. If, however, the data were stored in a Data Layer with no link to the presentational layer, there is a far smaller risk of unexpected changes occurring (though it&rsquo;s definitely not impossible).</p>
<p>So, in short, the Data Layer is <strong>a data structure for storing, processing, and passing information about the context it exists in</strong>.</p>

                
                  <h2 id="the-data-layer-the-non-technical-perspective">The Data Layer: The Non-Technical Perspective</h2>
<p>For the marketer, the analyst, the executive, the communications officer, or other non-developer, the Data Layer is actually a list of business requirements and goals for each subset of the digital context.</p>
<p>For a web store, for example, business requirements and goals might include transactional information (what was purchased), user data (who made the purchase), spatial and temporal details (where was the purchase made in and at what time), and information about possible micro conversions (did the user subscribe to product updates).</p>
<p>For another part of the same website, the business requirements and goals might include simply details about which social media channel brought the user to the website, or which pages the user has viewed more than once.</p>
<p>These are not technical specifications, but clearly defined lists of items that need to be collected in order to satisfy the business goals set for each business area of the website or other digital context.</p>
<p>Ideally, the Data Layer carries information which can be used by as many different tools / users / stakeholders as possible, but it&rsquo;s very common that idiosyncrasies emerge. This is why it&rsquo;s extremely important to <strong>treat the Data Layer as a living, agile model</strong>, not a stagnated, monolithic, singular entity.</p>
<p>Similarly to any aspect of digital analytics, a Data Layer should also be treated as something that&rsquo;s constantly in flux. The data it holds must be optimized, elaborated, divided, conjoined, cleaned, refactored, and <em>questioned</em> as often as new business requirements emerge, or when previous goals were not beneficial to the business.</p>

                
                  <h2 id="google-tag-managers-datalayer">Google Tag Manager&rsquo;s dataLayer</h2>
<p>Since there&rsquo;s no existing standard for the data model explored in this article (<a href="http://www.w3.org/2013/12/ceddl-201312">the effort is under way</a>, though), the Data Layer can have many technical guises. The technical perspective I&rsquo;ve chosen is the one that has evolved through <a href="http://www.google.com/tagmanager">Google Tag Manager</a>. This is because I think, and I&rsquo;m only slightly biased here, that <code>dataLayer</code> is one of the more elegant implementations of a structured data model in the web environment.</p>
<p><code>dataLayer</code> is a JavaScript Array, which holds data in key-value pairs. The key is a variable name in String format, and values can be any allowed JavaScript type. This is an example of <code>dataLayer</code> with different data types:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">dataLayer = [{ 
    <span style="color:#a50">&#39;products&#39;</span>: [{ 
            <span style="color:#a50">&#39;name&#39;</span>: <span style="color:#a50">&#39;Kala Ukulele&#39;</span>,
            <span style="color:#a50">&#39;tuning&#39;</span>: <span style="color:#a50">&#39;High-G&#39;</span>,
            <span style="color:#a50">&#39;price&#39;</span>: <span style="color:#099">449.75</span>
        },{
            <span style="color:#a50">&#39;name&#39;</span>: <span style="color:#a50">&#39;Fender Stratocaster&#39;</span>,
            <span style="color:#a50">&#39;tuning&#39;</span>: <span style="color:#a50">&#39;Drop-C&#39;</span>,
            <span style="color:#a50">&#39;price&#39;</span>: <span style="color:#099">1699</span>
    }],
    <span style="color:#a50">&#39;stores&#39;</span>: [<span style="color:#a50">&#39;Los Angeles&#39;</span>, <span style="color:#a50">&#39;New York&#39;</span>],
    <span style="color:#a50">&#39;date&#39;</span>: Sat Sep <span style="color:#099">13</span> <span style="color:#099">2014</span> <span style="color:#099">17</span>:<span style="color:#099">05</span>:<span style="color:#099">32</span> GMT+<span style="color:#099">0200</span> (CEST),
    <span style="color:#a50">&#39;employee&#39;</span>: {<span style="color:#a50">&#39;name&#39;</span>: <span style="color:#a50">&#39;Reggie&#39;</span>}
}];
</code></pre></div>
<p>Here we have values such as an Array of objects (the products), numerical values (price), an Array of Strings (stores), a date object, and a nested object (the employee name).</p>
<p>The point here is that <code>dataLayer</code> is generic and tool-agnostic. As long as it behaves like your typical JavaScript Array, it won&rsquo;t be restricted to just one tool. The information in the <code>dataLayer</code> object above can be used by <em>any</em> application which has access to the global namespace of this page.</p>
<p>How the data within this Array is processed is thus left to the tool. In Google Tag Manager, for example, an <a href="https://github.com/google/data-layer-helper">intermediate helper object</a> is used to process data in <code>dataLayer</code>, which is then stored in an internal, abstract data model within the tool itself. This ensures that <code>dataLayer</code> can stay generic and tool-agnostic, but the data within is processed to comply with the idiosyncratic features of Google Tag Manager.</p>
<p>The helper object used by Google Tag Manager has a number of interesting features, such as:</p>
<ul>
<li>
<p>A listener which listens for pushes to <code>dataLayer</code>. If a push occurs, the variables in the push are evaluated.</p>
</li>
<li>
<p>Get and set methods which process / manipulate <code>dataLayer</code> as a queue (first in, first out), and ensure that the special values (objects, Arrays) within the data model can be updated and appended correctly.</p>
</li>
<li>
<p>The ability to access commands and methods of objects stored in <code>dataLayer</code>, and the possibility of running custom functions in the context of the data model.</p>
</li>
</ul>
<p>These are all transparent to Google Tag Manager&rsquo;s users, of course, but they explain why, for example, the Data Layer Variable Macro can access dotted variable names (gtm.element) and properties (gtm.element.id) equally, and also why you can push multiple values with the same key into <code>dataLayer</code> but only the most recently pushed value is available for tags which fire after the push.</p>
<p>Since the abstract data model within Google Tag Manager only respects the most recent value of any variable name, the organization must decide where and when Data Layer as a business component becomes <code>dataLayer</code> the Array structure. This is the topic of the next chapter.</p>

                
                  <h2 id="from-business-goals-to-technical-implementation">From Business Goals To Technical Implementation</h2>
<p>The most common approach, I believe, is that the business requirements and goals are translated into a set of key-value pairs, which must be rendered / deployed by server-side code, so that <code>dataLayer</code> is populated with all the necessary data before the <a href="https://www.simoahava.com/analytics/container-snippet-gtm-secrets-revealed/">GTM container snippet</a> loads.</p>
<p>Naturally, you could do it with client-side code, and it doesn&rsquo;t <em>have</em> to be pre-populated, but business-critical data is best secured if it&rsquo;s rendered into <code>dataLayer</code> at the earliest possible moment in the page load, so that data loss is minimized if the user decides to leave the page before <code>dataLayer</code> has rendered.</p>
<p>Here&rsquo;s an example. We have a page with the following business requirements that we want to track as business goals:</p>
<ol>
<li>
<p><strong>User ID</strong> - because we want to <a href="http://cutroni.com/blog/2014/04/10/understanding-cross-device-measurement-and-the-user-id/">track the entire user journey</a>, not just session-by-session or device-by-device</p>
</li>
<li>
<p><strong>Internal user</strong> - because we want to <a href="https://www.simoahava.com/analytics/block-internal-traffic-gtm/">filter out our own employees&rsquo; traffic</a> from the data</p>
</li>
<li>
<p><strong>Weather at time of visit</strong> - because we want to see how <a href="https://www.simoahava.com/web-development/universal-analytics-weather-custom-dimension/">weather affects visit behavior</a></p>
</li>
</ol>
<p>This is a simple, albeit nonsensical, list of business requirements that have a direct impact on how we track goals for this part of the website. This list needs to be appended with more information, such as what are <em>example values</em> for these variables, what is their <em>scope</em> (hit, session, user, product, for example), should they <em><a href="https://www.simoahava.com/analytics/persist-datalayer-google-tag-manager/">persist</a></em> (stay on from page to page), and so on. I won&rsquo;t do this now, since it&rsquo;s very much up to how your organization handles projects which span across different departments or business domains.</p>
<p>Anyway, an example of <code>dataLayer</code>, rendered before the container snippet, might look like this:</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#1e90ff;font-weight:bold">script</span>&gt;
    <span style="color:#0aa">window</span>.dataLayer = <span style="color:#0aa">window</span>.dataLayer || [];
    dataLayer.push({
        <span style="color:#a50">&#39;userId&#39;</span> : <span style="color:#a50">&#39;abf5-3245-ffd1-23ed&#39;</span>,
        <span style="color:#a50">&#39;internalUser&#39;</span> : <span style="color:#00a">true</span>,
        <span style="color:#a50">&#39;weather&#39;</span> : <span style="color:#a50">&#39;Cloudy&#39;</span>
    });
&lt;/<span style="color:#1e90ff;font-weight:bold">script</span>&gt;
<span style="color:#aaa;font-style:italic">&lt;!-- GTM Container Snippet Code Here --&gt;</span></code></pre></div>
<p>As you can see, the data is rendered before the GTM container snippet, so that all tags that fire as soon as GTM is loaded can use this data.</p>
<p>Do note that you can and will use <code>dataLayer</code> within the confines of Google Tag Manager as well, since your tags or other on-page libraries might well push data into the structure after this pre-load sequence. I don&rsquo;t think these dynamic pushes or data exchanges need to be documented as carefully, since they occur solely in the domain of the tool that does the pushes. Thus, documentation and version control is left up to the sophistication of the tool itself.</p>
<p>The reason you need to put a lot of thought behind the pre-rendered <code>dataLayer</code> is because each new stakeholder makes the question of governance a bit more complex.</p>

                
                  <h2 id="governance-of-the-data-layer">Governance Of The Data Layer</h2>
<p>Coming up with a good governance model is difficult. Coming up with one for a data structure which is at the mercy of a number of different parties, all with varying levels of expertise (and general interest), is even more difficult.</p>
<p>Nevertheless, a well-defined, structured, and formalized governance model is probably the one thing that will prevent your analytics organization from imploding due to missteps in operating with a Data Layer.</p>
<p>A governance model, in this context, is a document (or documentation) which describes as clearly as possible the Data Layer, its parts, the business domains it&rsquo;s deployed in, its various owners, its version history, its variables, how risk management is handled, etc.</p>
<p>This is a very fluid concept, and it really depends on the organization how they want to organize themselves around this project, but <em>ideally</em> this is the kind of governance model I&rsquo;d be happy to work with:</p>
<p><strong>I Introduction</strong></p>
<ul>
<li>Purpose of the document</li>
<li>Who this document is for</li>
<li>Table of contents</li>
</ul>
<p><strong>II Version History</strong></p>
<ul>
<li>What was revised</li>
<li>When it was revised</li>
<li>By whom it was revised</li>
</ul>
<p><strong>III Ownership</strong></p>
<ul>
<li>What does ownership mean</li>
<li>Who owns the process</li>
<li>What are the rights and privileges of the owner</li>
</ul>
<p><strong>IIIa Stakeholders</strong></p>
<ul>
<li>Who have a stake in Data Layer (tools, platforms, departments, agencies, third parties)</li>
<li>What is their role</li>
<li>What are their rights and privileges</li>
</ul>
<p><strong>IIIb Technical Specifications</strong></p>
<ul>
<li>Who owns the technical Data Layer (IT, most often, or a very enlightened marketer)</li>
<li>What is their role</li>
<li>What are their rights and privileges</li>
</ul>
<p><strong>IIIc Management</strong></p>
<ul>
<li>Who owns the business requirements (head of marketing, or some similar role in the client organization)</li>
<li>What is their role</li>
<li>What are their rights and privileges</li>
</ul>
<p><strong>IV Process Distribution</strong></p>
<ul>
<li>What parties use Data Layer</li>
<li>What are their special requirements</li>
<li>How to avoid conflicts between different stakeholders</li>
</ul>
<p><strong>V Risk Management</strong></p>
<ul>
<li>What are the risks</li>
<li>What is their severity</li>
<li>What is their probability</li>
<li>Who owns the risks (and any actions taken to mitigate them).</li>
</ul>
<p><strong>VI Data Layer Management Model</strong></p>
<ul>
<li>How to plan for updates</li>
<li>How to implement updates</li>
<li>Who deploys the updates</li>
<li>Who tests the updates</li>
<li>Who needs to be notified</li>
<li>Who updates the document</li>
<li>How to avoid conflicts</li>
</ul>
<p><strong>VII Data Layer Technical Description</strong></p>
<ul>
<li>What is the underlying data structure</li>
<li>How is this structure translated into each tool&rsquo;s own data model</li>
<li>Are there reserved variable names or other potential sources of conflict</li>
</ul>
<p><strong>VIII Data Layer Variables</strong></p>
<ul>
<li>Business requirements translated to data layer variables</li>
<li>Sorted by business domain</li>
<li>Example values, scope, parameters, expected types</li>
<li>Where the data comes from</li>
<li>How the data is used</li>
<li>And so on&hellip;</li>
</ul>
<p>I know, it looks horrible. And probably unusable for many. However, having a document like this that is also constantly updated not only provides you with some contractual security, but it also keeps everyone up to date on the most recent structure and format of Data Layer.</p>
<p>Does this document need to be consulted / updated when you create a new JavaScript code snippet which calculates the number of images on the page?</p>
<p>Probably not.</p>
<p>Does this document need to be consulted / updated when you&rsquo;re implementing a conversion pixel which also uses Transaction Value?</p>
<p>Most likely.</p>
<p>Does this document need to be consulted / updated when you&rsquo;re deploying enhanced eCommerce?</p>
<p>Absolutely.</p>
<p>It doesn&rsquo;t have to be larger than life or a huge complication. Just have <em>some</em> concrete description of Data Layer available at all times, and at the very least, agree in writing on how the Data Layer is updated and by whom. This way you&rsquo;ll save a lot of trouble in the long run, when unwarranted changes are about to happen.</p>

                
                  <h2 id="conclusions-and-further-reading">Conclusions And Further Reading</h2>
<p>I think Data Layer is a very difficult concept to grasp. This isn&rsquo;t just because for most it&rsquo;s a technical thing, but because most don&rsquo;t realize it&rsquo;s also very much a list of business requirements.</p>
<p>Translating business goals to a well-formed, lean, and 100 % utilized Data Layer is really difficult. I honestly think one of the biggest mistakes is to follow the waterfall model, where a <em>huge</em> list of requirements is jotted down in the beginning of the project, then translated into a Data Layer which appears on every single page on the site, and after that point the structure is never touched again.</p>
<p>This doesn&rsquo;t work.</p>
<p>The waterfall model is flawed thanks to human fallibility. We simply can&rsquo;t design or predict the final shape of something as vast as an entire layer of semantic data, which might cover almost every single aspect of our digital context. It has to be agile. There has to be a mutual understanding that the shape of the layer becomes clearer with time.</p>
<p>Start small and scale up, if you have time. If you&rsquo;re in a rush, focus solely on the business-critical requirements.</p>
<p>Whatever you do, make sure there&rsquo;s a process in place which lets you suggest modifications to Data Layer quickly. This requires a lot of lubrication, education, and knowledge transfer. That&rsquo;s why I think the most important thing in any data project is to start with educating all parties about what the other parties are doing in the project. Make the marketers more development-minded and the developers more respectful of your marketing efforts.</p>
<p>That way everyone wins, and you&rsquo;ll have a beautiful Data Layer in no time.</p>
<p>Further reading:</p>
<ul>
<li>
<p><a href="https://developers.google.com/tag-manager/devguide">Google Tag Manager Dev Guide</a> by Google</p>
</li>
<li>
<p><a href="http://cutroni.com/blog/2012/05/14/make-analytics-better-with-tag-management-and-a-data-layer/">Make Analytics Better With Tag Management And A Data Layer</a> by Justin Cutroni</p>
</li>
<li>
<p><a href="https://www.bounteous.com/insights/2013/10/15/unlock-data-layer-google-tag-manager/">Unlock The Data Layer: A Non-Developer&rsquo;s Guide To Google Tag Manager</a> by Dorcas Alexander / Bounteous</p>
</li>
<li>
<p><a href="https://www.simoahava.com/analytics/javascript-101-gtm-part-1/#3">The dataLayer Structure</a> in JavaScript 101 For GTM: Part 1</p>
</li>
</ul>
<p>P.S. If anyone knows a really good article about governance of semantic data, I&rsquo;d love to read it and link to it in this post.</p>

                
              
              

            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/data-layer/">data layer</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/datalayer/">datalayer</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/google-tag-manager/">Google Tag Manager</a>

  <a class="tag tag--primary tag--small" href="https://www.simoahava.com/tags/governance/">governance</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/undefined-dimensions-wont-get-sent/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/gtmtips-rules-nutshell/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/data-layer/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=The%20Data%20Layer%20https://www.simoahava.com/analytics/data-layer/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/data-layer/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


            
              <span id="commento_thread"></span>
<div id="commento"></div>
<script defer src="https://commento.simoahava.com/js/commento.js" data-no-livereload="true"></script>

            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Simo Ahava. All Rights Reserved
  </span>
</footer>

      </div>
      
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/undefined-dimensions-wont-get-sent/">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default" href="https://www.simoahava.com/gtm-tips/gtmtips-rules-nutshell/">
              
                  <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/data-layer/">
              <i class="fa fa-brands fa-facebook"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=The%20Data%20Layer%20https://www.simoahava.com/analytics/data-layer/%20via%20@SimoAhava">
              <i class="fa fa-brands fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/data-layer/">
              <i class="fa fa-brands fa-linkedin"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#commento_thread">
            <i class="fa-regular fa-comments"></i>
          </a>
        </li>
      
      <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#">
          <i class="fa fa-search"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://www.simoahava.com/analytics/data-layer/">
          <i class="fa fa-brands fa-facebook"></i><span>Share on Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=The%20Data%20Layer%20https://www.simoahava.com/analytics/data-layer/%20via%20@SimoAhava">
          <i class="fa fa-brands fa-twitter"></i><span>Share on Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.linkedin.com/cws/share?url=https://www.simoahava.com/analytics/data-layer/">
          <i class="fa fa-brands fa-linkedin"></i><span>Share on LinkedIn</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.simoahava.com/images/simo.png" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Simo Ahava</h4>
    
      <div id="about-card-bio">Husband | Father | Analytics developer<br>simo (at) simoahava.com</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Senior Data Advocate at Reaktor
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Finland
      </div>
    
  </div>
</div>

    
  
    
    <div id="cover" style="background-image:url('https://www.simoahava.com/images/maisema.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>




<script src="https://www.simoahava.com/js/script.js"></script>




<script src="https://commento.simoahava.com/js/count.js"></script>

    <script>
      !function(){var e=document.querySelector(".simmer"),t=document.querySelector(".simmer .close"),o=window.sessionStorage&&window.sessionStorage.getItem("nosimmer");if(e){if(o){e.style.display="none"}t.addEventListener("click",function(){window.sessionStorage.setItem("nosimmer","true"),e.style.display="none"})}}();
    </script>
    <script>
      var mylazyload = new LazyLoad({elements_selector: '.lazy'});
      </script>
    <style>
      .ads {
	  width: 1px;
      }
      </style>
         

    
  </body>
</html>

