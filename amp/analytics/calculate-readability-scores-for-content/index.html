<!doctype html><html ⚡ lang=en-us class=no-js><head><meta charset=utf-8><script async custom-element=amp-youtube src=https://cdn.ampproject.org/v0/amp-youtube-0.1.js></script><script async custom-element=amp-accordion src=https://cdn.ampproject.org/v0/amp-accordion-0.1.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-sidebar src=https://cdn.ampproject.org/v0/amp-sidebar-0.1.js></script><script async custom-element=amp-social-share src=https://cdn.ampproject.org/v0/amp-social-share-0.1.js></script><script async custom-element=amp-twitter src=https://cdn.ampproject.org/v0/amp-twitter-0.1.js></script><script async custom-element=amp-iframe src=https://cdn.ampproject.org/v0/amp-iframe-0.1.js></script><script async src=https://cdn.ampproject.org/v0.js></script><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom>.type-simmer{padding:8px;background:rgba(179,138,197,.2);box-shadow:2px 2px 1px #ccc;border-radius:5px}/*!normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css*/html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}figcaption,figure,main{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}dfn{font-style:italic}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{display:inline-block;vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details,menu{display:block}summary{display:list-item}canvas{display:inline-block}[hidden],template{display:none}.clearfix:after,.clearfix:before{content:" ";display:table}.clearfix:after{clear:both}.clearfix{zoom:1}.hidden{display:none;text-indent:-9999px;visibility:hidden}.inner{margin:0 auto;max-width:710px;position:relative;width:80%}.vertical{display:table-cell;vertical-align:middle}.site-wrapper{background:#fff;min-height:100%;position:relative;transition:transform .5s ease;z-index:10}html{font-size:62.5%;-webkit-tap-highlight-color:transparent}body,html{height:100%;max-height:100%}body{color:#3a4145;font-family:Merriweather,serif;-webkit-font-feature-settings:"kern" 1;-moz-font-feature-settings:"kern" 1;-o-font-feature-settings:"kern" 1;font-size:1.8rem;letter-spacing:.01rem;line-height:1.75em;text-rendering:geometricPrecision}::-moz-selection{background:#d6edff}::selection{background:#d6edff}h1,h2,h3,h4,h5,h6{color:#2e2e2e;font-family:Open Sans,sans-serif;-webkit-font-feature-settings:"dlig" 1,"liga" 1,"lnum" 1,"kern" 1;-moz-font-feature-settings:"dlig" 1,"liga" 1,"lnum" 1,"kern" 1;-o-font-feature-settings:"dlig" 1,"liga" 1,"lnum" 1,"kern" 1;line-height:1.15em;margin:0 0 .4em;text-rendering:geometricPrecision}h1{font-size:5rem;letter-spacing:-2px;text-indent:-3px}h2{font-size:3.6rem;letter-spacing:-1px}h3{font-size:3rem}h4{font-size:2.5rem}h5,h6{font-size:2rem}a,a:active,a:hover,a:visited{color:#4a4a4a;transition:color .3s ease}a:active,a:hover{color:#111}dl,ol,p,ul{-webkit-font-feature-settings:"liga" 1,"onum" 1,"kern" 1;-moz-font-feature-settings:"liga" 1,"onum" 1,"kern" 1;-o-font-feature-settings:"liga" 1,"onum" 1,"kern" 1;margin:0 0 1.75em;text-rendering:geometricPrecision}ol,ul{padding-left:3rem}ol ol,ol ul,ul ol,ul ul{margin:0 0 .4em;padding-left:2em}dl dt{clear:left;float:left;font-weight:700;overflow:hidden;text-align:right;text-overflow:ellipsis;white-space:nowrap;width:180px}dl dd,dl dt{margin-bottom:1em}dl dd{margin-left:200px}li{margin:.4em 0}li li{margin:0}hr{border:0;border-top:1px solid #efefef;display:block;height:1px;margin:3.2em 0;padding:0}blockquote{border-left:.4em solid #4a4a4a;box-sizing:border-box;margin:1.75em 0 1.75em -2.2em;padding:0 0 0 1.75em}blockquote p{font-style:italic;margin:.8em 0}blockquote small{color:#ccc;display:inline-block;font-size:.9em;margin:.8em 0 .8em 1.5em}blockquote small:before{content:"— "}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}mark{background-color:#ffc336}code,tt{border:1px solid #e3edf3;border-radius:2px;font-size:.85em;padding:1px 3px;white-space:pre-wrap}code,pre,tt{background:#f7fafb;font-family:Inconsolata,monospace,sans-serif}pre{border:1px solid #e3edf3;border-radius:3px;box-sizing:border-box;font-size:.9em;margin:0 0 1.75em;overflow:auto;padding:10px;white-space:pre;width:100%}pre code,pre tt{background:0 0;border:none;font-size:inherit;padding:0;white-space:pre-wrap}kbd{background:#f4f4f4;border:1px solid #ccc;border-radius:4px;box-shadow:0 1px rgba(0,0,0,.2),inset 0 1px #fff;color:#666;display:inline-block;font-size:.9em;font-weight:700;margin-bottom:.4em;padding:1px 8px;text-shadow:#fff 0 1px 0}table{background-color:transparent;box-sizing:border-box;margin:1.75em 0;max-width:100%;width:100%}table td,table th{border-top:1px solid #efefef;line-height:20px;padding:8px;text-align:left;vertical-align:top}table th{color:#000}table caption+thead tr:first-child td,table caption+thead tr:first-child th,table colgroup+thead tr:first-child td,table colgroup+thead tr:first-child th,table thead:first-child tr:first-child td,table thead:first-child tr:first-child th{border-top:0}table tbody+tbody{border-top:2px solid #efefef}table table table{background-color:#fff}table tbody>tr:nth-child(odd)>td,table tbody>tr:nth-child(odd)>th{background-color:#f6f6f6}table.plain tbody>tr:nth-child(odd)>td,table.plain tbody>tr:nth-child(odd)>th{background:0 0}.fluid-width-video-wrapper,iframe{display:block;margin:1.75em 0}.fluid-width-video-wrapper iframe{margin:0}.main-header{background:#222 no-repeat 50%;background-size:cover;display:table;height:100vh;margin-bottom:5rem;overflow:hidden;position:relative;text-align:center;width:100%}.main-header.cover{background-image:url(https://www.simoahava.com/images/maisema.jpg)}.main-header.list-cover{background-image:url("/")}.main-header .inner{width:80%}.main-header a.bloglogo{text-decoration:none}.main-header a.bloglogo .icon-facebook,.main-header a.bloglogo .icon-github,.main-header a.bloglogo .icon-google-plus,.main-header a.bloglogo .icon-instagram,.main-header a.bloglogo .icon-linkedin,.main-header a.bloglogo .icon-pinterest,.main-header a.bloglogo .icon-twitter{color:#fff;font-size:2em}.main-nav{margin:0 0 30px;padding:35px 40px;position:relative}.main-nav a{font-family:Open Sans,sans-serif;text-decoration:none}.scroll-down{animation:bounce 4s 2s infinite;bottom:45px;display:block;font-size:1.5em;left:50%;position:absolute;text-align:center;z-index:100}.scroll-down:hover{animation:none;color:#fff}.home-template .main-header:after{background:radial-gradient(ellipse at center,rgba(0,0,0,.15) 0,transparent 70%,transparent 100%);border-radius:100%;bottom:0;content:" ";display:block;height:130px;left:50%;margin-left:-75px;position:absolute;width:150px}.archive-template .main-header:after,.archive-template .scroll-down,.no-cover .scroll-down,.no-cover.main-header:after{display:none}.blog-logo{display:block;float:left}.blog-logo img{display:block;padding:1px 0 5px;width:auto}.blog-logo img,.menu-button{box-sizing:border-box;height:38px}.menu-button{background:rgba(0,0,0,.1);border:1px solid #bfc8cd;border-radius:3px;color:#9eabb3;display:inline-block;float:right;font-size:12px;line-height:35px;opacity:1;padding:0 15px;text-align:center;text-transform:uppercase;transition:all .5s ease;white-space:nowrap}.menu-button:focus{outline:0}.menu-button .fa-bars{font-size:12px;margin-right:6px}.main-nav.overlay{background:linear-gradient(180deg,rgba(0,0,0,.2) 0,transparent);border:none;height:70px;left:0;position:absolute;right:0;top:0}.no-cover .main-nav.overlay,.no-cover .menu-button{background:0 0}.main-nav.overlay a{color:#fff}.main-nav.overlay .menu-button{border-color:hsla(0,0%,100%,.6)}.cover .main-nav.overlay a.menu-button:hover{background:#fff;border-color:#fff;color:#222}.menu-button:hover,.no-cover .main-nav.overlay .menu-button:hover{border-color:#555;color:#555}.page-title{color:#fff;font-family:Open Sans,sans-serif;font-size:5rem;font-weight:700;letter-spacing:-1px;margin:10px 0}.page-description{color:hsla(0,0%,100%,.8);font-family:Merriweather,serif;font-size:2rem;font-weight:400;letter-spacing:.01rem;line-height:1.5em;margin:0}.no-cover.main-header{background:#f5f8fa;max-height:40vh;min-height:160px}.no-cover .page-title{color:rgba(0,0,0,.8)}.no-cover .page-description{color:rgba(0,0,0,.5)}.no-cover .main-nav.overlay .menu-button{border-color:rgba(0,0,0,.3);color:rgba(0,0,0,.4)}.main-header-content .page-title{animation:fade-in-down .6s;animation-delay:.2s}.main-header-content .page-description{animation:fade-in-down .9s;animation-delay:.1s}.post{border-bottom:1px solid #ebf2f6;margin:4rem auto;max-width:710px;padding-bottom:4rem;position:relative;width:80%;word-wrap:break-word;hyphens:auto}.post-header{padding-bottom:10px}.post:after{background:#fff;border:1px solid #e7eef2;border-radius:100%;bottom:-5px;box-shadow:0 0 0 5px #fff;content:"";display:block;height:7px;left:50%;margin-left:-5px;position:absolute;width:7px}body:not(.post-template) .post-title{font-size:3.6rem}.post-title a{text-decoration:none}.post-excerpt p{font-size:.9em;line-height:1.7em;margin:0}.read-more{font-size:.8em;font-style:italic;text-decoration:none}.post-meta{color:#9eabb3;display:block;font-family:Open Sans,sans-serif;font-size:1.5rem;line-height:2.2rem;margin:1.75rem 0 0}.author-thumb{border-radius:100%;float:left;height:24px;margin-right:9px;width:24px}.post-meta a{color:#9eabb3;text-decoration:none}.post-meta a:hover{text-decoration:underline}.user-meta{min-height:77px;padding:.3rem 40px 0 100px;position:relative}.post-date{border-left:1px solid #d5dbde;display:inline-block;font-size:1.3rem;margin-left:8px;padding-left:12px;text-transform:uppercase;white-space:nowrap}.user-image{left:0;position:absolute;top:0}.user-name{display:block;font-weight:700}.user-bio{display:block;font-size:1.4rem;line-height:1.5em;max-width:440px}.publish-meta{padding:4.3rem 0 4rem;position:absolute;right:0;text-align:right;top:0}.publish-heading{display:block;font-weight:700}.publish-date{display:block;font-size:1.4rem;line-height:1.5em}figure.no-margin{margin:0}figure.center{margin-left:auto;margin-right:auto}.amp-image-lightbox-caption{font-size:.8em;text-align:center}@media only screen and (min-width:501px){figure.polaroid:after,figure.polaroid:before{bottom:10px;box-shadow:0 15px 10px rgba(0,0,0,.7);content:"";height:20%;max-width:480px;position:absolute;width:50%;z-index:-2}figure.polaroid:after{left:auto;right:10px;transform:rotate(3deg)}figure.polaroid:before{left:10px;right:auto;transform:rotate(-3deg)}figure.polaroid{background:#fff;border:none;border-radius:4px;box-shadow:0 1px 4px rgba(0,0,0,.3),inset 0 0 40px rgba(0,0,0,.1);margin-bottom:1.5em;max-width:100%;padding:15px;position:relative;width:450px}figure.polaroid div[fallback]{border:none;margin:0;padding:0}figure.polaroid amp-img{display:block;margin:0;outline:1px solid #ccc;padding:0}figure.polaroid figcaption{font-family:Kaushan Script,cursive;font-size:1.3em;font-weight:400;padding:.8em .5em .4em;text-align:right}}@media only screen and (max-width:501px){figure.polaroid{background:#fff;border-radius:1px;margin-bottom:1em}figure.polaroid figcaption{border-bottom:1px solid #d3d3d3;border-top:1px solid #d3d3d3;font-size:.8em;font-style:italic;margin-top:.5em;padding:.2em;text-align:center}}.main-header.cover .main-header-content .social-link a,.main-header.cover .main-header-content .social-link a:active,.main-header.cover .main-header-content .social-link a:hover,.main-header.cover .main-header-content .social-link a:visited,.scroll-down a,.scroll-down a:active,.scroll-down a:hover,.scroll-down a:visited{font-size:2em;text-decoration:none}.main-header.cover .main-header-content .social-link a:active,.main-header.cover .main-header-content .social-link a:hover,.scroll-down a:active,.scroll-down a:hover{color:#fff}.main-header.no-cover .main-header-content .social-link a,.main-header.no-cover .main-header-content .social-link a:active,.main-header.no-cover .main-header-content .social-link a:hover,.main-header.no-cover .main-header-content .social-link a:visited{color:#a2a2a2;font-size:2em;text-decoration:none}.main-header.no-cover .main-header-content .social-link a:active,.main-header.no-cover .main-header-content .social-link a:hover{color:#000}.post-template .post-header{margin-bottom:3.4rem}.post-template .post-title{margin-bottom:0}.post-template .post-meta{margin:0}.post-template .post-date{border:none;margin:0;padding:0}.post-template .content{overflow:hidden}.post-template .post{border-bottom:none;margin-top:0;padding-bottom:0}.post-template .post:after{display:none}.post-content{text-align:justify}.post-footer{border-top:1px solid #ebf2f6;margin:6rem 0 0;padding:6rem 0 0;position:relative}.post-footer h4{font-size:1.8rem;margin:0}.post-footer p{font-size:1.4rem;line-height:1.75em;margin:1rem 0}.author-meta{font-size:1.4rem;font-style:italic;line-height:1;list-style:none;margin:0;padding:0}.author-meta,.author-meta a{color:#9eabb3}.author-meta a:hover{color:#111}.post-footer .author{margin-right:180px}.post-footer h4 a{color:#2e2e2e;text-decoration:none}.post-footer h4 a:hover{text-decoration:underline}.post-footer .share{position:absolute;right:0;top:6rem;width:180px}.post-footer .share a{color:#bbc7cc;display:inline-block;font-size:1.8rem;margin:1rem 1.6rem 1.6rem 0;text-decoration:none}.post-footer .share a:hover{color:#50585d}.post-head.main-header{height:65vh;min-height:180px}.no-cover.post-head.main-header{background:0 0;height:85px;margin-bottom:0;min-height:0}.author-head.main-header,.tag-head.main-header{height:40vh;min-height:180px}.no-cover.author-head.main-header{background:0 0;height:10vh;min-height:100px}.author-profile{border-bottom:1px solid #ebf2f6;padding:0 15px 5rem;text-align:center}.author-profile:after{border:1px solid #e7eef2;bottom:-5px;box-shadow:0 0 0 5px #fff;content:"";height:7px;margin-left:-5px;width:7px}.author-image,.author-profile:after{background:#fff;border-radius:100%;display:block;left:50%;position:absolute}.author-image{box-shadow:0 0 0 1px #e7eef2;box-sizing:border-box;height:80px;margin-left:-40px;overflow:hidden;padding:6px;top:-56px;width:80px;z-index:2}.author-image .img{background-image:url(https://www.simoahava.com/images/simo.png);background-position:50%;background-size:cover;border-radius:100%;display:block;height:100%;position:relative;width:100%}.author-profile .author-image{box-shadow:none;height:120px;left:auto;margin:-100px auto 0;padding:3px;position:relative;top:auto;width:120px}.author-title{margin:1.5rem 0 1rem}.author-bio{color:#50585d;font-size:1.8rem;font-weight:200;letter-spacing:0;line-height:1.5em;text-indent:0}.author-meta{margin:1.6rem 0}.author-profile .author-meta{font-family:Merriweather,serif;font-size:1.7rem;letter-spacing:.01rem;margin:2rem 0}.author-meta span{display:inline-block;margin:0 2rem 1rem 0;word-wrap:break-word}.author-meta a{text-decoration:none}.archive-template .author-profile .author-meta{display:none}@keyframes fade-in-down{0%{opacity:0;transform:translateY(-10px);-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px)}to{opacity:1;transform:translateY(0);-webkit-transform:translateY(0);-ms-transform:translateY(0)}}@keyframes bounce{0%,20%,50%,80%,to{transform:translateY(0);-webkit-transform:translateY(0);-ms-transform:translateY(0)}40%{transform:translateY(-10px);-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px)}60%{transform:translateY(-5px);-webkit-transform:translateY(-5px);-ms-transform:translateY(-5px)}}#sidebar{background:rgba(0,0,0,.7);color:#909090;font-family:Open Sans,Verdana,sans-serif;font-size:11px;font-weight:700;overflow-y:auto;text-align:left;width:400px}#sidebar .nav-title{color:#fff;font-size:1.5em;font-weight:100;left:30px;position:absolute;text-transform:uppercase;top:45px}#sidebar .nav-section{color:#d8d8d8}#sidebar .nav-close{font-size:10px;height:20px;padding:0;position:absolute;right:25px;top:38px;width:20px}#sidebar .nav-close:focus{outline:0}#sidebar .nav-close:after,#sidebar .nav-close:before{background:#969696;content:"";height:1px;position:absolute;top:0;top:15px;transition:background .15s ease;width:20px}#sidebar .nav-close:before{transform:rotate(45deg)}#sidebar .nav-close:after{transform:rotate(-45deg)}#sidebar .nav-close:hover:after,#sidebar .nav-close:hover:before{background:#fff}#sidebar amp-accordion .nav-section{background:0 0;border:none;font-size:2rem;margin:.4em 0 .2em}#sidebar amp-accordion section[expanded] .nav-section .fa{width:1ch}#sidebar amp-accordion section[expanded] .nav-section .section-open{display:inline-block}#sidebar amp-accordion section:not([expanded]) .nav-section .section-open,#sidebar amp-accordion section[expanded] .nav-section .section-close{display:none}#sidebar amp-accordion section:not([expanded]) .nav-section .section-close{display:inline-block}#sidebar ul{counter-reset:item;list-style:none;padding:90px 9% 5%}#sidebar li:before{color:#b8b8b8;content:counter(item,lower-roman);counter-increment:item;display:block;float:right;font-size:1.2rem;padding-left:5px;padding-right:4%;text-align:right;vertical-align:bottom}#sidebar li{margin:0}#sidebar li a{display:block;font-size:1.4rem;line-height:1.4;overflow:hidden;padding:.6rem 4%;text-decoration:none;text-overflow:ellipsis;white-space:nowrap}#sidebar li a:after{color:hsla(0,0%,100%,.2);content:" ...............................................................";display:inline-block;margin-left:5px}#sidebar .nav-current:before{color:#fff}#sidebar .nav-current a:after{border-bottom:1px solid hsla(0,0%,100%,.5);content:" ";height:1px;width:100%}#sidebar a,#sidebar a:active,#sidebar a:hover,#sidebar a:visited{color:#b8b8b8}#sidebar a:active,#sidebar a:hover,#sidebar li.nav-current a{color:#fff}.subscribe-button{background:#fff;border-radius:3px;bottom:30px;box-sizing:border-box;display:block;font-family:Open Sans,sans-serif;font-size:12px;height:38px;left:30px;line-height:35px;padding:0 20px;position:absolute;right:30px;text-align:center;text-decoration:none;text-transform:uppercase;transition:all .3s ease}.subscribe-button:before{font-size:9px;margin-right:6px}.pagination{color:#9eabb3;font-family:Open Sans,sans-serif;font-size:1.3rem;margin:4rem auto;max-width:710px;position:relative;text-align:center;width:80%}.pagination a{color:#9eabb3;transition:all .2s ease}.newer-posts,.older-posts{border:1px solid #bfc8cd;border-radius:4px;display:inline-block;padding:0 15px;position:absolute;text-decoration:none;transition:border .3s ease}.older-posts{right:0}.page-number{display:inline-block;min-width:100px;padding:2px 0}.newer-posts{left:0}.newer-posts:hover,.older-posts:hover{border-color:#98a0a4;color:#889093}.extra-pagination{border-bottom:1px solid #ebf2f6;display:none}.extra-pagination:after{background:#fff;border:1px solid #e7eef2;border-radius:100%;bottom:-5px;box-shadow:0 0 0 5px #fff;content:"";display:block;height:7px;left:50%;margin-left:-5px;position:absolute;width:7px}.extra-pagination .pagination{width:auto}.archive-template .main-header{max-height:30vh}.archive-template .extra-pagination{display:block}.site-footer{color:#bbc7cc;font-family:Open Sans,sans-serif;font-size:1rem;line-height:1.75em;margin:8rem 0 0;padding:.5rem 15px;position:relative}.site-footer a{color:#bbc7cc;font-weight:700;text-decoration:none}.site-footer a:hover{color:#50585d}.poweredby{float:right;text-align:right}.copyright,.poweredby{display:block;width:45%}.copyright{float:left}@media only screen and (max-width:900px){blockquote{margin-left:0}.main-header{box-sizing:border-box;height:auto;height:60vh;min-height:240px;padding:15% 0}.home-template .main-header:after,.scroll-down{display:none}.archive-template .main-header{min-height:180px;padding:10% 0}.blog-logo img{padding:4px 0}.page-title{font-size:4rem;letter-spacing:-1px}.page-description{font-size:1.8rem;line-height:1.5em}.post{font-size:.95em}body:not(.post-template) .post-title{font-size:3.2rem}hr{margin:2.4em 0}ol,ul{padding-left:2em}h1{font-size:4.5rem;text-indent:-2px}h2{font-size:3.6rem}h3{font-size:3.1rem}h4{font-size:2.5rem}h5{font-size:2.2rem}h6{font-size:1.8rem}.author-profile{padding-bottom:4rem}.author-profile .author-bio{font-size:1.6rem}.author-meta span{display:block;margin:1.5rem 0}.author-profile .author-meta span{font-size:1.6rem}.post-head.main-header{height:45vh}.author-head.main-header,.tag-head.main-header{height:30vh}.no-cover.post-head.main-header{height:55px;padding:0}.no-cover.author-head.main-header{padding:0}}@media only screen and (max-width:500px){.main-header{height:40vh;margin-bottom:15px}.no-cover.main-header{height:30vh}.archive-template .main-header{max-height:20vh;min-height:160px;padding:10% 0}.main-nav{margin-bottom:2rem}.blog-logo,.main-nav{padding:5px}.blog-logo img{height:30px}.menu-button{background:0 0;border-radius:0;padding:0 5px}.menu-button,.menu-button:hover{border-color:transparent;color:#2e2e2e}.menu-button:hover{background:0 0}body.nav-opened .menu-button{background:0 0;border:transparent}.main-nav.overlay a:hover{background:0 0;border-color:transparent;color:#fff}.no-cover .main-nav.overlay{background:0 0}.no-cover .main-nav.overlay .menu-button{border:none}.main-nav.overlay .menu-button{border-color:transparent}.nav-title{top:25px}.nav-close{position:absolute;top:18px}.nav ul{padding:60px 9% 5%}.inner,.pagination{margin:2rem auto;width:auto}.post{line-height:1.65em;margin:2rem 16px;padding-bottom:2rem;width:auto}.post-template .post-header{margin-bottom:2rem}.post-template .post-date{display:inline-block}hr{margin:1.75em 0}dl,ol,p,ul{font-size:.95em;margin:0 0 2.5rem}.page-title{font-size:3rem}.post-excerpt p{font-size:.85em}.page-description{font-size:1.6rem}h1,h2,h3,h4,h5,h6{margin:0 0 .3em}h1{font-size:2.8rem;letter-spacing:-1px}h2{font-size:2.4rem;letter-spacing:0}h3{font-size:2.1rem}h4{font-size:1.9rem}h5,h6{font-size:1.8rem}body:not(.post-template) .post-title{font-size:2.5rem}.post-template .post{margin-bottom:0;padding-bottom:0}.post-template .site-footer{margin-top:0}.post-meta{font-size:1.3rem;margin-top:1rem}.post-footer{padding:5rem 0 3rem;text-align:center}.post-footer .author{border-bottom:1px dashed #ebf2f6;margin:0 0 2rem;padding:0 0 1.6rem}.post-footer .share{position:static;width:auto}.post-footer .share a{margin:1.4rem .8rem 0}.author-meta li{float:none;line-height:1.75em;margin:0}.author-meta li:before{display:none}.newer-posts,.older-posts{margin:10px 0;position:static}.page-number{display:block}.site-footer{margin-top:3rem}.author-profile{padding-bottom:2rem}.post-head.main-header{height:30vh}.author-head.main-header,.tag-head.main-header{height:20vh}.author-profile .author-image{margin-top:-70px}.author-profile .author-meta span{font-size:1.4rem}.archive-template .main-header .page-description{display:none}}header.post-header{line-height:1.1em}.post-content amp-img{border:1px solid #777;box-shadow:5px 5px 2px rgba(0,0,0,.4);height:auto;margin-bottom:20px;max-width:100%}.social-link a{color:#dfdfdf}pre.chroma{text-align:left}.badge-primary{background-color:#007bff;color:#fff}.badge{border-radius:.25rem;display:inline-block;font-size:80%;font-weight:700;line-height:1;padding:.25em .4em;text-align:center;vertical-align:middle;white-space:nowrap}</style><link rel=canonical href=https://www.simoahava.com/analytics/calculate-readability-scores-for-content/><meta name=viewport content="width=device-width,minimum-scale=1,initial-scale=1"><link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i|Open+Sans:400,700|Kaushan+Script" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin=anonymous referrerpolicy=no-referrer><meta name=theme-color content="#ffffff"><title>Calculate Readability Scores for Content | Simo Ahava's blog</title>
<meta property="og:title" content="Calculate Readability Scores for Content"><meta name=description content="Calculate readability scores (e.g. Flesch-Kincaid, SMOG) for your content, and send the values as Custom Dimensions to Google Analytics."><meta property="og:description" content="Calculate readability scores (e.g. Flesch-Kincaid, SMOG) for your content, and send the values as Custom Dimensions to Google Analytics."><meta property="og:type" content="article"><meta property="og:url" content="https://www.simoahava.com/amp/analytics/calculate-readability-scores-for-content/"><meta name=twitter:image content="https://www.simoahava.com/images/2019/11/readability-score-google-analytics.jpg"><meta property="og:image" content="https://www.simoahava.com/images/2019/11/readability-score-google-analytics.jpg"><meta property="article:published_time" content="2019-11-05T07:00:33Z"><meta property="article:modified_time" content="2019-11-05T07:00:33Z"><meta property="og:site_name" content="Simo Ahava's blog :: Simo Ahava is a Google Developer Expert for Google Analytics and Google Tag Manager. This is a blog all about web analytics development."><meta property="article:section" content="Analytics"><meta property="article:tag" content="google tag manager"><meta property="article:tag" content="google analytics"><meta property="article:tag" content="content"><meta name=twitter:card content="summary"><meta itemprop=name content="Calculate Readability Scores For Content"><meta itemprop=description content="Calculate readability scores (e.g. Flesch-Kincaid, SMOG) for your content, and send the values as Custom Dimensions to Google Analytics."><meta itemprop=datePublished content="2019-11-05T09:00:33+02:00"><meta itemprop=dateModified content="2019-11-05T09:00:33+02:00"><meta itemprop=wordCount content="4801"><meta itemprop=keywords content="Google Tag Manager,Google Analytics,Content"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Simo Ahava\u0027s blog :: Simo Ahava is a Google Developer Expert for Google Analytics and Google Tag Manager. This is a blog all about web analytics development.","url":"https:\/\/www.simoahava.com\/amp\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Calculate Readability Scores For Content | Simo Ahava's blog","image":"https:\/\/www.simoahava.com\/images\/2019\/11\/readability-score-google-analytics.jpg","editor":"Simo Ahava","publisher":{"@type":"Organization","name":"Simo Ahava's blog","logo":{"@type":"ImageObject","url":"https:\/\/www.simoahava.com\/amp\/","height":"393","width":"407"}},"url":"https:\/\/www.simoahava.com\/amp\/analytics\/calculate-readability-scores-for-content\/","datePublished":"2019-11-05T09:00:33\u002b02:00","dateModified":"2019-11-05T09:00:33\u002b02:00","description":"Calculate readability scores (e.g. Flesch-Kincaid, SMOG) for your content, and send the values as Custom Dimensions to Google Analytics.","author":{"@type":"Person","name":"Simo Ahava"}}</script></head><body><amp-analytics config="https://www.googletagmanager.com/amp.json?id=GTM-5BH2HM&gtm.url=SOURCE_URL" data-credentials=include></amp-analytics><amp-sidebar id=sidebar layout=nodisplay side=right><h3 class=nav-title>Menu</h3><a href=# class=nav-close on=tap:sidebar.close role=button tabindex=1><span class=hidden>Close</span></a><ul><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/>Home</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/gtm-tips/>GTM Tips</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/about-simo-ahava/>About</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tools/>Tools</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/blog-statistics/>Blog Statistics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/upcoming-talks/>Upcoming Talks</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/custom-templates/>Templates</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/newsletter/>Newsletter</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/>Full (non-AMP) site</a></li><amp-accordion><section><h3 class=nav-section><i class="fa fa-caret-down section-open" aria-hidden=true></i>
<i class="fa fa-caret-right section-close" aria-hidden=true></i>
Categories</h3><div><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/analytics/>analytics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/content-management/>content management</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/digital-marketing/>digital marketing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/google-cloud/>google cloud</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/gtm-tips/>gtm tips</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/personal/>personal</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/privacy/>privacy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/seo/>seo</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/web-design/>web design</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/categories/web-development/>web development</a></li></div></section><section><h3 class=nav-section><i class="fa fa-caret-down section-open" aria-hidden=true></i>
<i class="fa fa-caret-right section-close" aria-hidden=true></i>
Tags</h3><div><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ab-testing/>ab testing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/accelerated-mobile-pages/>accelerated mobile pages</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ad-blocker/>ad blocker</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/adblocker/>adblocker</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/add-on/>add-on</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/adwords/>adwords</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/agile/>agile</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/amazon/>amazon</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/amp/>amp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/analytics/>analytics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/android/>android</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/api/>api</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/app/>app</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/app-engine/>app engine</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/app+web/>app+web</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/approval/>approval</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/apps/>apps</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/apps-script/>apps script</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/array/>array</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/attribution/>attribution</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/audience-design/>audience design</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/audit/>audit</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/auto-event-tracking/>auto-event tracking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/auto-link-domains/>auto-link domains</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/aws/>aws</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/azure/>azure</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/basketball/>basketball</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/beforeunload/>beforeunload</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/best-practices/>best practices</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/big-data/>big data</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/bigquery/>bigquery</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/blogger/>blogger</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/bounce-rate/>bounce rate</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/built-in-variables/>built-in variables</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/calculated-metrics/>calculated metrics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/callback/>callback</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/campaign-tracking/>campaign tracking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/celebration/>celebration</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/change-history/>change history</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/chrome/>chrome</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/chrome-extension/>chrome extension</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/click-tracking/>click tracking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/click-variables/>click variables</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/clickstream/>clickstream</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/client-id/>client id</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/client-template/>client template</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/clientid/>clientid</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cloud-functions/>cloud functions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cloud-run/>cloud run</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cms/>cms</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cname/>cname</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/conferences/>conferences</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/consent/>consent</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/consent-mode/>consent mode</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/container/>container</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/container-export/>container export</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/container-snippet/>container snippet</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content/>content</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-analysis/>content analysis</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-blocker/>content blocker</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-engagement/>content engagement</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-grouping/>content grouping</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-management/>content management</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-management-system/>content management system</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-security-policy/>content security policy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/content-strategy/>content strategy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/context/>context</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/conversion/>conversion</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/conversions-api/>conversions api</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cookie/>cookie</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cookiedomain/>cookiedomain</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cookies/>cookies</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/core-web-vitals/>core web vitals</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/creative/>creative</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cross-domain/>cross-domain</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/cross-domain-tracking/>cross-domain tracking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/csp/>csp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/css/>css</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/css-selectors/>css selectors</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom/>custom</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-dimension/>custom dimension</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-dimensions/>custom dimensions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-html/>custom html</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-html-tag/>custom html tag</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-html-tags/>custom html tags</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-javascript/>custom javascript</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-metrics/>custom metrics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/custom-templates/>custom templates</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/customtask/>customtask</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/dan-wilkerson/>dan wilkerson</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/dashboard/>dashboard</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data/>data</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-collection/>data collection</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-engineering/>data engineering</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-layer/>data layer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-layer-variable/>data layer variable</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-model/>data model</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/data-quality/>data quality</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/datalayer/>datalayer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/debug/>debug</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/debugging/>debugging</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/definition-of-success/>definition of success</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/developer/>developer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/developer-tools/>developer tools</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/development/>development</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/digital-marketing/>digital marketing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/docker/>docker</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/document.write/>document.write</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/dom/>dom</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/duplicate/>duplicate</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/dynamic-content/>dynamic content</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/easter-egg/>easter egg</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ecomemrce/>ecomemrce</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ecommerce/>ecommerce</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/education/>education</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/element-visibility/>element visibility</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/engagement/>engagement</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/enhanced-ecommerce/>enhanced ecommerce</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/enrichment/>enrichment</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/environments/>environments</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/errors/>errors</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/event/>event</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/event-listener/>event listener</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/event-listeners/>event listeners</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/eventcallback/>eventcallback</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/events/>events</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/excel/>excel</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/exceptions/>exceptions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/experimentation/>experimentation</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/exploit/>exploit</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/extension/>extension</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/facebook/>facebook</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/false/>false</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/family/>family</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/fields-to-set/>fields to set</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/firebase/>firebase</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/firestore/>firestore</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/firing-rules/>firing rules</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/folders/>folders</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/form/>form</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/form-tracking/>form tracking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/format-value/>format value</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/forms/>forms</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/fpid/>fpid</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ga-spy/>ga spy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ga4/>ga4</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gcp/>gcp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gdpr/>gdpr</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google/>google</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-ads/>google ads</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-analytics/>google analytics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-analytics-4/>google analytics 4</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-analytics-settings/>google analytics settings</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-bigquery/>google bigquery</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-cloud/>google cloud</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-cloud-platform/>google cloud platform</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-sheets/>google sheets</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-tag/>google tag</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-tag-manager/>google tag manager</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-trends/>google trends</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/google-optimize/>google-optimize</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/googletagmanager/>googletagmanager</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/governance/>governance</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtag/>gtag</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtag.js/>gtag.js</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtm/>gtm</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtm-sonar/>gtm sonar</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtm-tools/>gtm tools</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtm360/>gtm360</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/gtmtips/>gtmtips</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/guest-post/>guest post</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/guide/>guide</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/hack/>hack</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/history/>history</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/history-change-trigger/>history change trigger</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/history-listener/>history listener</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/hugo/>hugo</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/iframe/>iframe</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/intelligent-tracking-prevention/>intelligent tracking prevention</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/internal-traffic/>internal traffic</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ios/>ios</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ip/>ip</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/it-department/>it department</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/itp/>itp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/javascript/>javascript</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/jquery/>jquery</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/klipfolio/>klipfolio</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/learning/>learning</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/lighthouse/>lighthouse</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/links/>links</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/listeners/>listeners</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/local/>local</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/localstorage/>localstorage</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/lookup-table/>lookup table</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/macros/>macros</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/marketer/>marketer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/marketing/>marketing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/measurement-protocol/>measurement protocol</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/meta-description/>meta description</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/metrics/>metrics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/migration/>migration</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/mixcloud/>mixcloud</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/mobile/>mobile</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/modern-cms/>modern cms</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/modular-architecture/>modular architecture</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/monitor/>monitor</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/navigation/>navigation</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/netbooster/>netbooster</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/new-ui/>new ui</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/node.js/>node.js</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/nodejs/>nodejs</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/non-technical/>non-technical</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/open-source/>open source</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/opt-out/>opt-out</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/owasp/>owasp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/page-load-time/>page load time</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/page-timings/>page timings</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/parameter-reporting/>parameter reporting</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/penguin/>penguin</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/performance/>performance</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/permissions/>permissions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/persistence/>persistence</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/personal/>personal</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/personal-experience/>personal experience</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/php/>php</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/pii/>pii</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/pitch/>pitch</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/piwik-pro/>piwik pro</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/plugins/>plugins</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/poetry/>poetry</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/postmessage/>postmessage</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/ppc/>ppc</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/preview/>preview</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/preview-mode/>preview mode</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/privacy/>privacy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/process/>process</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/proxy/>proxy</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/public-speaking/>public speaking</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/query-string/>query string</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/queue-time/>queue time</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/r/>r</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/race-condition/>race condition</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/reaktor/>reaktor</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/recaptcha/>recaptcha</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/referral/>referral</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/regular-expression/>regular expression</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/release/>release</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/resources/>resources</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/rules/>rules</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/safari/>safari</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/sales/>sales</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/samesite/>samesite</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/schema/>schema</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/score-card/>score card</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/scroll-depth/>scroll depth</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/search/>search</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/search-api/>search api</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/search-engine-optimization/>search engine optimization</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/search-trends/>search trends</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/security/>security</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/selection/>selection</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/seo/>seo</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/seo-report/>seo report</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/serp/>serp</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/server-side/>server-side</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/server-side-tagging/>server-side tagging</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/session/>session</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/sessions/>sessions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/sgtm/>sgtm</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/shopify/>shopify</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/simmer/>simmer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/single-page-apps/>single-page apps</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/site-search/>site search</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/site-speed/>site speed</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/slack/>slack</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/snippet/>snippet</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/snowplow/>snowplow</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/social-interactions/>social interactions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/soundcloud/>soundcloud</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/spa/>spa</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/splash-page/>splash page</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/static-site/>static site</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/still-running/>still running</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/storage/>storage</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/support/>support</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/swift/>swift</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/syntax-highlight/>syntax highlight</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tag-management-solution/>tag management solution</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tag-management-solutions/>tag management solutions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tag-sequencing/>tag sequencing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tag-templates/>tag templates</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tags/>tags</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tasks/>tasks</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/technical-marketing/>technical marketing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/technique/>technique</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/test/>test</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/testing/>testing</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/timer/>timer</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/timings/>timings</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tips/>tips</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tools/>tools</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tracker/>tracker</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tracker-object/>tracker object</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/tracking-protections/>tracking protections</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/training/>training</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/transformations/>transformations</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/trigger/>trigger</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/trigger-groups/>trigger groups</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/triggers/>triggers</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/troubleshoot/>troubleshoot</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/undefined/>undefined</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/universal-analytics/>universal analytics</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/user-id/>user id</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/user-interface/>user interface</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/user-permissions/>user permissions</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/user-timings/>user timings</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/v2/>v2</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/variable/>variable</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/variable-templates/>variable templates</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/variables/>variables</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/videos/>videos</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/visibility/>visibility</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/wcag/>wcag</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/weather/>weather</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/web-design/>web design</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/web-development/>web development</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/webkit/>webkit</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/website-redesign/>website redesign</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/workflow/>workflow</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/workspaces/>workspaces</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/youtube/>youtube</a></li><li class=nav-opened role=presentation><a href=https://www.simoahava.com/amp/tags/zones/>zones</a></li></div></section></amp-accordion></ul></amp-sidebar><div class=site-wrapper><header class="main-header post-head no-cover"><nav class="main-nav clearfix"><a class=menu-button on=tap:sidebar.toggle role=button><i class="fa fa-bars" aria-hidden=true></i><span class=menu-button-label>Menu</span></a></nav></header><main class=content role=main><article class="post type-post"><header class=post-header><h1 class=post-title>Calculate Readability Scores for Content</h1><small>Calculate readability scores (e.g. Flesch-Kincaid, SMOG) for your content, and send the values as Custom Dimensions to Google Analytics.</small><section class=post-meta><amp-img class=author-thumb src=https://www.simoahava.com/images/simo.png layout=fixed width=24 height=24 alt="Author image"></amp-img>Simo Ahava
in
<a href=https://www.simoahava.com/amp/categories/analytics>Analytics</a>
on
<a href=https://www.simoahava.com/amp/tags/google-tag-manager>#google tag manager</a>
, <a href=https://www.simoahava.com/amp/tags/google-analytics>#google analytics</a>
, <a href=https://www.simoahava.com/amp/tags/content>#content</a>
<time class=post-date datetime=2019-11-05T09:00:33+02:00>5 November 2019
</time><span class=post-date><a href=https://www.simoahava.com/analytics/calculate-readability-scores-for-content/>Non-AMP version</a></span></section></header><section class=post-content><p>There are lots of different <a href=https://readable.com/features/readability-formulas/>readability formulas</a> out there, which seek to provide an index on how <em>readable</em> any given excerpt of text is. Typically, these formulas output a <strong>grade-level score</strong>, which indicates, roughly, the level of education required to read the text excerpt with ease.</p><p>Any &ldquo;quality index&rdquo; that seeks to reduce the complexity of something as multi-faceted as <em>reading</em> should be subject to scrutiny. This is true for Bounce Rate, this is true for Time On Page, and this is true for a <em>readability score</em>.</p><a href=https://www.simoahava.com/amp/images/2019/11/readability-score-google-analytics.jpg title="Readability score in Google Analytics"><amp-img src=https://www.simoahava.com/amp/images/2019/11/readability-score-google-analytics.jpg layout=responsive alt="Readability score in Google Analytics" height=397 width=996></amp-img></a><p><strong>However</strong>, I do think it&rsquo;s interesting metadata to collect for your content. Who knows, perhaps you&rsquo;ll find correlations between the difficulty of reading any piece of text and the amount of <a href=https://www.simoahava.com/amp/analytics/track-content-engagement-part-2/>engagement</a> that the content engenders.</p><p>In this article, I&rsquo;ll show you how to create a <strong>Custom JavaScript variable</strong> in <a href=https://tagmanager.google.com/>Google Tag Manager</a> that creates a <a href=https://www.simoahava.com/amp/analytics/create-utility-variables-returning-functions/>utility function</a>. This function can be called with any piece of text (e.g. the text content of your main content DOM element), and it will return an object with a variety of scores based on different readability formulas, as well as a median grade level calculated from these scores.</p><p>You can use this information to annotate your Page View hits with Custom Dimensions (with <a href=#google-analytics-setup>a caveat</a> regarding its triggers) when sending the data to <a href=https://analytics.google.com/>Google Analytics</a>.</p><p>You can also send the data to a <a href=https://www.simoahava.com/amp/analytics/getting-started-with-google-analytics-app-web/>Google Analytics: App + Web</a> property ready for that juicy <a href=https://www.simoahava.com/amp/analytics/enable-bigquery-export-google-analytics-app-web/>BigQuery data export</a>.</p><p>I&rsquo;ll show you how to do both in this guide.</p><blockquote><p>Thanks to <strong>Munaz Anjum</strong> for inspiring me to write this article!</p></blockquote><article class="post type-simmer"><header class=post-header><h2 class=post-title><a href=https://www.simoahava.com/amp/newsletter/>The Simmer Newsletter</a></h2></header><section class=post-excerpt><p>Follow <a href=https://www.teamsimmer.com/newsletter/>this link</a> to subscribe to the <strong>Simmer Newsletter</strong>! Stay up-to-date with the latest content from Simo Ahava and the <a href=https://www.teamsimmer.com/>Simmer online course platform</a>.</p></section></article><h2 id=the-custom-javascript-variable>The Custom JavaScript variable</h2><p>In this chapter, we&rsquo;ll go over the Custom JavaScript variable you&rsquo;ll need to create to make this work.</p><p>&ldquo;Why a Custom JavaScript variable? Why not a <a href=https://www.simoahava.com/amp/analytics/custom-templates-guide-for-google-tag-manager/>custom template</a>?&rdquo; I hear you ask. <em>I know!</em> This would be <em>perfect</em> for a custom template. Alas, templates do not support the full extent of regular expressions yet, and they are absolutely vital for the algorithms required by the formulae in the variable.</p><h3 id=what-youll-get>What you&rsquo;ll get</h3><p>The Custom JavaScript variable returns a <strong>function</strong>, which you can then invoke with a string in another Custom JavaScript variable or a Custom HTML tag.</p><p>When you call the function with a string, e.g.:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>readabilityFunction</span> <span class=o>=</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>text</span> <span class=o>=</span> <span class=s1>&#39;At the heart of this paper lies the elusive concept of \
</span></span></span><span class=line><span class=cl><span class=s1>variation: how speakers can simultaneously share a common knowledge \
</span></span></span><span class=line><span class=cl><span class=s1>of a unified language system and develop it in idiosyncratic and unique \
</span></span></span><span class=line><span class=cl><span class=s1>ways. Studies of variation do not come without their fair share of \
</span></span></span><span class=line><span class=cl><span class=s1>controversy. Since they necessarily incorporate the attention to detail \
</span></span></span><span class=line><span class=cl><span class=s1>that a descriptivist approach demands together with a level of abstraction \
</span></span></span><span class=line><span class=cl><span class=s1>that is likewise required by all studies of linguistic phenomena, the \
</span></span></span><span class=line><span class=cl><span class=s1>results are often as debatable as they are revelatory. It is thus the \
</span></span></span><span class=line><span class=cl><span class=s1>researcher’s job to describe the phenomenon as lucidly as possible, \
</span></span></span><span class=line><span class=cl><span class=s1>without drawing conclusions that extend beyond the scope of the data at hand.&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>readabilityFunction</span><span class=p>(</span><span class=nx>text</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Outputs
</span></span></span><span class=line><span class=cl><span class=c1>// {
</span></span></span><span class=line><span class=cl><span class=c1>//   automatedReadabilityIndex: 15.48,
</span></span></span><span class=line><span class=cl><span class=c1>//   colemanLiauIndex: 13.12,
</span></span></span><span class=line><span class=cl><span class=c1>//   fleschKincaidGrade: 16.41,
</span></span></span><span class=line><span class=cl><span class=c1>//   fleschReadingEase: 28.17,
</span></span></span><span class=line><span class=cl><span class=c1>//   linsearWriteFormula: 18.25,
</span></span></span><span class=line><span class=cl><span class=c1>//   medianGrade: 17,
</span></span></span><span class=line><span class=cl><span class=c1>//   readingTime: 27.34,
</span></span></span><span class=line><span class=cl><span class=c1>//   rix: 9.5,
</span></span></span><span class=line><span class=cl><span class=c1>//   smogIndex: 17.41
</span></span></span><span class=line><span class=cl><span class=c1>// }
</span></span></span></code></pre></div><p>This particular excerpt (from my <a href=https://helda.helsinki.fi/bitstream/handle/10138/19347/intermed.pdf>master&rsquo;s thesis</a>) has a median readability grade of <strong>17</strong> which means, loosely translated, that it takes around 17 years of <em>education</em> to read text like this with ease. The <strong>reading time</strong> is around 27 seconds.</p><p>The object for <strong>the article you are reading</strong> looks like this (ouch!):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>automatedReadabilityIndex</span><span class=o>:</span> <span class=mf>15.48</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>colemanLiauIndex</span><span class=o>:</span> <span class=mf>3.77</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fleschKincaidGrade</span><span class=o>:</span> <span class=mf>16.96</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>fleschReadingEase</span><span class=o>:</span> <span class=mf>39.67</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>linsearWriteFormula</span><span class=o>:</span> <span class=mf>13.2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>medianGrade</span><span class=o>:</span> <span class=mi>15</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>readingTime</span><span class=o>:</span> <span class=mf>1524.22</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>rix</span><span class=o>:</span> <span class=mf>7.11</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>smogIndex</span><span class=o>:</span> <span class=mf>15.85</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>I&rsquo;ll share what these different numbers and names mean in a bit.</p><h3 id=variable-contents>Variable contents</h3><p>The code is a JavaScript rewrite of the <a href=https://github.com/shivam5992/textstat/>textstat.py</a> Python library. I did not include any readability grades that rely on an English wordlist (so any formulae that require a definition of what is a &ldquo;common&rdquo; or &ldquo;easy&rdquo; word in English is ignored).</p><p><strong>Create a new Custom JavaScript variable</strong>, give it a name (e.g. <code>readabilityFunction</code>), and copy-paste the following JavaScript in the body.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=cm>/* To speed the script up, you can set a sampling rate in words. For example, if you set
</span></span></span><span class=line><span class=cl><span class=cm>     * sampleLimit to 1000, only the first 1000 words will be parsed from the input text.
</span></span></span><span class=line><span class=cl><span class=cm>     * Set to 0 to never sample.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>     
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>sampleLimit</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Manual rewrite of the textstat Python library (https://github.com/shivam5992/textstat/)
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>     * Regular expression to identify a sentence. No, it&#39;s not perfect. 
</span></span></span><span class=line><span class=cl><span class=cm>     * Fails e.g. with abbreviations and similar constructs mid-sentence.
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>sentenceRegex</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=s1>&#39;[.?!]\\s[^a-z]&#39;</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>     * Regular expression to identify a syllable. No, it&#39;s not perfect either.
</span></span></span><span class=line><span class=cl><span class=cm>     * It&#39;s based on English, so other languages with different vowel / consonant distributions
</span></span></span><span class=line><span class=cl><span class=cm>     * and syllable definitions need a rewrite.
</span></span></span><span class=line><span class=cl><span class=cm>     * Inspired by https://bit.ly/2VK9dz1
</span></span></span><span class=line><span class=cl><span class=cm>     */</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>syllableRegex</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=s1>&#39;[aiouy]+e*|e(?!d$|ly).|[td]ed|le$&#39;</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Baseline for FRE - English only
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>freBase</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>base</span><span class=o>:</span> <span class=mf>206.835</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>sentenceLength</span><span class=o>:</span> <span class=mf>1.015</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>syllablesPerWord</span><span class=o>:</span> <span class=mf>84.6</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nx>syllableThreshold</span><span class=o>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>cache</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>punctuation</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;!&#39;</span><span class=p>,</span><span class=s1>&#39;&#34;&#39;</span><span class=p>,</span><span class=s1>&#39;#&#39;</span><span class=p>,</span><span class=s1>&#39;$&#39;</span><span class=p>,</span><span class=s1>&#39;%&#39;</span><span class=p>,</span><span class=s1>&#39;&amp;&#39;</span><span class=p>,</span><span class=s1>&#39;\&#39;&#39;</span><span class=p>,</span><span class=s1>&#39;(&#39;</span><span class=p>,</span><span class=s1>&#39;)&#39;</span><span class=p>,</span><span class=s1>&#39;*&#39;</span><span class=p>,</span><span class=s1>&#39;+&#39;</span><span class=p>,</span><span class=s1>&#39;,&#39;</span><span class=p>,</span><span class=s1>&#39;-&#39;</span><span class=p>,</span><span class=s1>&#39;.&#39;</span><span class=p>,</span><span class=s1>&#39;/&#39;</span><span class=p>,</span><span class=s1>&#39;:&#39;</span><span class=p>,</span><span class=s1>&#39;;&#39;</span><span class=p>,</span><span class=s1>&#39;&lt;&#39;</span><span class=p>,</span><span class=s1>&#39;=&#39;</span><span class=p>,</span><span class=s1>&#39;&gt;&#39;</span><span class=p>,</span><span class=s1>&#39;?&#39;</span><span class=p>,</span><span class=s1>&#39;@&#39;</span><span class=p>,</span><span class=s1>&#39;[&#39;</span><span class=p>,</span><span class=s1>&#39;]&#39;</span><span class=p>,</span><span class=s1>&#39;^&#39;</span><span class=p>,</span><span class=s1>&#39;_&#39;</span><span class=p>,</span><span class=s1>&#39;`&#39;</span><span class=p>,</span><span class=s1>&#39;{&#39;</span><span class=p>,</span><span class=s1>&#39;|&#39;</span><span class=p>,</span><span class=s1>&#39;}&#39;</span><span class=p>,</span><span class=s1>&#39;~&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>legacyRound</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>number</span><span class=p>,</span> <span class=nx>precision</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>k</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=p>(</span><span class=nx>precision</span> <span class=o>||</span> <span class=mi>0</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>((</span><span class=nx>number</span> <span class=o>*</span> <span class=nx>k</span><span class=p>)</span> <span class=o>+</span> <span class=mf>0.5</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>sign</span><span class=p>(</span><span class=nx>number</span><span class=p>))</span> <span class=o>/</span> <span class=nx>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>charCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>cache</span><span class=p>.</span><span class=nx>charCount</span><span class=p>)</span> <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>charCount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sampleLimit</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>sampleLimit</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\s/g</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>charCount</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>removePunctuation</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>).</span><span class=nx>filter</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>punctuation</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=nx>c</span><span class=p>)</span> <span class=o>===</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>letterCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sampleLimit</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>sampleLimit</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/\s/g</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>removePunctuation</span><span class=p>(</span><span class=nx>text</span><span class=p>).</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>lexiconCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>,</span> <span class=nx>ignoreSample</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>useCache</span> <span class=o>&amp;&amp;</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>lexiconCount</span><span class=p>)</span> <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>lexiconCount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>ignoreSample</span> <span class=o>!==</span> <span class=kc>true</span> <span class=o>&amp;&amp;</span> <span class=nx>sampleLimit</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>sampleLimit</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>text</span> <span class=o>=</span> <span class=nx>removePunctuation</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>lexicon</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>useCache</span> <span class=o>?</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>lexiconCount</span> <span class=o>=</span> <span class=nx>lexicon</span> <span class=o>:</span> <span class=nx>lexicon</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>getWords</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>useCache</span> <span class=o>&amp;&amp;</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>getWords</span><span class=p>)</span> <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>getWords</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sampleLimit</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>sampleLimit</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=nx>text</span> <span class=o>=</span> <span class=nx>removePunctuation</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>words</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>useCache</span> <span class=o>?</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>getWords</span> <span class=o>=</span> <span class=nx>words</span> <span class=o>:</span> <span class=nx>words</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>syllableCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>useCache</span> <span class=o>&amp;&amp;</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>syllableCount</span><span class=p>)</span> <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>syllableCount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>syllables</span> <span class=o>=</span> <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>).</span><span class=nx>reduce</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>c</span><span class=p>)</span> <span class=p>{</span>  
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=p>(</span><span class=nx>c</span><span class=p>.</span><span class=nx>match</span><span class=p>(</span><span class=nx>syllableRegex</span><span class=p>)</span> <span class=o>||</span> <span class=p>[</span><span class=mi>1</span><span class=p>]).</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>},</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>useCache</span> <span class=o>?</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>syllableCount</span> <span class=o>=</span> <span class=nx>syllables</span> <span class=o>:</span> <span class=nx>syllables</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>polySyllableCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>).</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>syllables</span> <span class=o>=</span> <span class=nx>syllableCount</span><span class=p>(</span><span class=nx>word</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>syllables</span> <span class=o>&gt;=</span> <span class=mi>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>count</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>sentenceCount</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=nx>useCache</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>useCache</span> <span class=o>&amp;&amp;</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>sentenceCount</span><span class=p>)</span> <span class=k>return</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>sentenceCount</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sampleLimit</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>sampleLimit</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>ignoreCount</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=nx>sentenceRegex</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>sentences</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>s</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>s</span><span class=p>,</span> <span class=kc>true</span><span class=p>,</span> <span class=kc>false</span><span class=p>)</span> <span class=o>&lt;=</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span> <span class=nx>ignoreCount</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>count</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>max</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nx>sentences</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=nx>ignoreCount</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>useCache</span> <span class=o>?</span> <span class=nx>cache</span><span class=p>.</span><span class=nx>sentenceCount</span> <span class=o>=</span> <span class=nx>count</span> <span class=o>:</span> <span class=nx>count</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>avgSentenceLength</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>avg</span> <span class=o>=</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avg</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>avgSyllablesPerWord</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>avg</span> <span class=o>=</span> <span class=nx>syllableCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avg</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>avgCharactersPerWord</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>avg</span> <span class=o>=</span> <span class=nx>charCount</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=o>/</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avg</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>avgLettersPerWord</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>avg</span> <span class=o>=</span> <span class=nx>letterCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avg</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>avgSentencesPerWord</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>avg</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avg</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>fleschReadingEase</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentenceLength</span> <span class=o>=</span> <span class=nx>avgSentenceLength</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>syllablesPerWord</span> <span class=o>=</span> <span class=nx>avgSyllablesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=nx>freBase</span><span class=p>.</span><span class=nx>base</span> <span class=o>-</span> 
</span></span><span class=line><span class=cl>        <span class=nx>freBase</span><span class=p>.</span><span class=nx>sentenceLength</span> <span class=o>*</span> <span class=nx>sentenceLength</span> <span class=o>-</span> 
</span></span><span class=line><span class=cl>        <span class=nx>freBase</span><span class=p>.</span><span class=nx>syllablesPerWord</span> <span class=o>*</span> <span class=nx>syllablesPerWord</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=mi>2</span>
</span></span><span class=line><span class=cl>      <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>fleschKincaidGrade</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentenceLength</span> <span class=o>=</span> <span class=nx>avgSentenceLength</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>syllablesPerWord</span> <span class=o>=</span> <span class=nx>avgSyllablesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=mf>0.39</span> <span class=o>*</span> <span class=nx>sentenceLength</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>        <span class=mf>11.8</span> <span class=o>*</span> <span class=nx>syllablesPerWord</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>        <span class=mf>15.59</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=mi>2</span>
</span></span><span class=line><span class=cl>      <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>smogIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>sentences</span> <span class=o>&gt;=</span> <span class=mi>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>polySyllables</span> <span class=o>=</span> <span class=nx>polySyllableCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>smog</span> <span class=o>=</span> <span class=mf>1.043</span> <span class=o>*</span> <span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=nx>polySyllables</span> <span class=o>*</span> <span class=p>(</span><span class=mi>30</span> <span class=o>/</span> <span class=nx>sentences</span><span class=p>),</span> <span class=mf>0.5</span><span class=p>))</span> <span class=o>+</span> <span class=mf>3.1291</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>smog</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=mf>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>colemanLiauIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>letters</span> <span class=o>=</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avgLettersPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avgSentencesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>coleman</span> <span class=o>=</span> <span class=mf>0.0588</span> <span class=o>*</span> <span class=nx>letters</span> <span class=o>-</span> <span class=mf>0.296</span> <span class=o>*</span> <span class=nx>sentences</span> <span class=o>-</span> <span class=mf>15.8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>coleman</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>automatedReadabilityIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>chars</span> <span class=o>=</span> <span class=nx>charCount</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>words</span> <span class=o>=</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>chars</span> <span class=o>/</span> <span class=nx>words</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>b</span> <span class=o>=</span> <span class=nx>words</span> <span class=o>/</span> <span class=nx>sentences</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>readability</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=mf>4.71</span> <span class=o>*</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>        <span class=mf>0.5</span> <span class=o>*</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>        <span class=mf>21.43</span>
</span></span><span class=line><span class=cl>      <span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>readability</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span> 
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>linsearWriteFormula</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>easyWord</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>difficultWord</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>roughTextFirst100</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>100</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>plainTextListFirst100</span> <span class=o>=</span> <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>plainTextListFirst100</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=nx>syllableCount</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>easyWord</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nx>difficultWord</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>number</span> <span class=o>=</span> <span class=p>(</span><span class=nx>easyWord</span> <span class=o>+</span> <span class=nx>difficultWord</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span> <span class=o>/</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>roughTextFirst100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>number</span> <span class=o>&lt;=</span> <span class=mi>20</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>number</span> <span class=o>-=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>number</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>rix</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>words</span> <span class=o>=</span> <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>longCount</span> <span class=o>=</span> <span class=nx>words</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nx>word</span><span class=p>.</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}).</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>sentencesCount</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>longCount</span> <span class=o>/</span> <span class=nx>sentencesCount</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>readingTime</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>wordsPerSecond</span> <span class=o>=</span> <span class=mf>4.17</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// To get full reading time, ignore cache and sample
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>wordsPerSecond</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>// Build textStandard
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>grade</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl>    <span class=p>(</span><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// FRE
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>fre</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>fleschReadingEase</span> <span class=o>=</span> <span class=nx>fleschReadingEase</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>100</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>90</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>90</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>80</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>6</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>80</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>70</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>7</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>70</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>60</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>60</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>50</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>50</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>40</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>11</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>fre</span> <span class=o>&lt;</span> <span class=mi>40</span> <span class=o>&amp;&amp;</span> <span class=nx>fre</span> <span class=o>&gt;=</span> <span class=mi>30</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>12</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>13</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// FK
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>fk</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>fleschKincaidGrade</span> <span class=o>=</span> <span class=nx>fleschKincaidGrade</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>fk</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>fk</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// SMOG
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>smog</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>smogIndex</span> <span class=o>=</span> <span class=nx>smogIndex</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>smog</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>smog</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// CL
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>cl</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>colemanLiauIndex</span> <span class=o>=</span> <span class=nx>colemanLiauIndex</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>cl</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>cl</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// ARI
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>ari</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>automatedReadabilityIndex</span> <span class=o>=</span> <span class=nx>automatedReadabilityIndex</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>ari</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>ari</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// LWF
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>lwf</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>linsearWriteFormula</span> <span class=o>=</span> <span class=nx>linsearWriteFormula</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>lwf</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>lwf</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// RIX
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kd>var</span> <span class=nx>rixScore</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>rix</span> <span class=o>=</span> <span class=nx>rix</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>7.2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>13</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>7.2</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>6.2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>12</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>6.2</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>5.3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>11</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>5.3</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>4.5</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>4.5</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>3.7</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>9</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>3.7</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>3.0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>3.0</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>2.4</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>7</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>2.4</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>1.8</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>6</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>1.8</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>1.3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>1.3</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>0.8</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>0.8</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>0.5</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>rixScore</span> <span class=o>&lt;</span> <span class=mf>0.5</span> <span class=o>&amp;&amp;</span> <span class=nx>rixScore</span> <span class=o>&gt;=</span> <span class=mf>0.2</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>push</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>      <span class=c1>// Find median grade
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nx>grade</span> <span class=o>=</span> <span class=nx>grade</span><span class=p>.</span><span class=nx>sort</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span> <span class=k>return</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>;</span> <span class=p>});</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>midPoint</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>grade</span><span class=p>.</span><span class=nx>length</span> <span class=o>/</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>medianGrade</span> <span class=o>=</span> <span class=nx>legacyRound</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>.</span><span class=nx>length</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>?</span> 
</span></span><span class=line><span class=cl>        <span class=nx>grade</span><span class=p>[</span><span class=nx>midPoint</span><span class=p>]</span> <span class=o>:</span> 
</span></span><span class=line><span class=cl>        <span class=p>(</span><span class=nx>grade</span><span class=p>[</span><span class=nx>midPoint</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=nx>grade</span><span class=p>[</span><span class=nx>midPoint</span><span class=p>])</span> <span class=o>/</span> <span class=mf>2.0</span>
</span></span><span class=line><span class=cl>      <span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>obj</span><span class=p>.</span><span class=nx>medianGrade</span> <span class=o>=</span> <span class=nx>medianGrade</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=p>})();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nx>obj</span><span class=p>.</span><span class=nx>readingTime</span> <span class=o>=</span> <span class=nx>readingTime</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>obj</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>It&rsquo;s a mouthful, so let&rsquo;s go over each formula together with the code that relates to it.</p><h4 id=setup>Setup</h4><p>The first couple of steps in the variable establish much of what follows.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>sampleLimit</span> <span class=o>=</span> <span class=mi>1000</span><span class=p>;</span></span></span></code></pre></div><p>Running regular expressions can be <strong>slow</strong>. If you have an article of 5000 words, for example, counting the syllables of every single word can take a looooooong time, and can be hazardous if executed at page load.</p><p>I&rsquo;ve introduced the <code>sampleLimit</code> variable, which basically establishes a maximum sample size to run the readability calculations against. If <code>sampleLimit</code> is set to the default of <code>1000</code>, the script will sample the first 1000 words of the input. The end result should be in the <em>ball park</em> of a score calculated against the full text, but this of course depends on what type of text is in question.</p><p>If you want to avoid sampling, set <code>sampleLimit</code> to <code>0</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>sentenceRegex</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=s1>&#39;[.?!]\\s[^a-z]&#39;</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>syllableRegex</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>RegExp</span><span class=p>(</span><span class=s1>&#39;[aiouy]+e*|e(?!d$|ly).|[td]ed|le$&#39;</span><span class=p>,</span> <span class=s1>&#39;g&#39;</span><span class=p>);</span></span></span></code></pre></div><p>The first regular expression is used to split a chunk of text in <em>sentences</em>. <strong>No, it&rsquo;s not perfect</strong>.</p><p>But that&rsquo;s OK - we&rsquo;re looking for abstractions and the more text you have the more the score will converge towards a norm.</p><p>The second regular expression counts the number of <em>syllables</em> in a text. <strong>No, it&rsquo;s not perfect either</strong>. It&rsquo;s based on English, and perhaps other Germanic languages, but syllabification can change from language to language so if you want to analyze content in other languages, you need to modify the regex.</p><p>The rest of the setup steps are listed here.</p><table><thead><tr><th>Function / variable signature</th><th>Description</th></tr></thead><tbody><tr><td><code>freBase</code></td><td>The baseline numbers for calculating the Flesch Reading-Ease score in the English language.</td></tr><tr><td><code>cache</code></td><td>Utility that caches most of the calculations, so that the regexes are run just once for the cached items.</td></tr><tr><td><code>punctuation</code></td><td>List of punctuation symbols.</td></tr><tr><td><code>legacyRound()</code></td><td>Function to round the input number to the given precision.</td></tr><tr><td><code>charCount()</code></td><td>Count the characters in the input.</td></tr><tr><td><code>removePunctuation()</code></td><td>Remove all punctuation from the input.</td></tr><tr><td><code>letterCount()</code></td><td>Count the letters in the input.</td></tr><tr><td><code>lexiconCount()</code></td><td>Count the words in the input.</td></tr><tr><td><code>getWords()</code></td><td>Returns the words in the input.</td></tr><tr><td><code>syllableCount()</code></td><td>Count the syllables in the input.</td></tr><tr><td><code>polySyllableCount()</code></td><td>Count the number of words with three or more syllables in the input.</td></tr><tr><td><code>sentenceCount()</code></td><td>Count the number of sentences in the input.</td></tr><tr><td><code>avgSentenceLength()</code></td><td>Count the average length of sentences (number of words) in the input.</td></tr><tr><td><code>avgSyllablesPerWord()</code></td><td>Count the average number of syllables per word in the input.</td></tr><tr><td><code>avgCharactersPerWord()</code></td><td>Count the average number of characters per word in the input.</td></tr><tr><td><code>avgLettersPerWord()</code></td><td>Count the average number of letters per word in the input.</td></tr><tr><td><code>avgSentencesPerWord()</code></td><td>Count the average number of sentences per word in the input.</td></tr></tbody></table><p>These utilities are used to calculate the readability formulae.</p><h4 id=1-flesch-reading-ease>1. Flesch Reading-Ease</h4><p>The <a href=%5Bhttps://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch_reading_ease%5D(https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch_reading_ease)>Flesch Reading-Ease</a> test is probably one of the better known readability tests. It&rsquo;s used by e.g. <a href=https://yoast.com/flesch-reading-ease-score/>Yoast</a> and <a href=https://www.grammarly.com/blog/readability-scores/>Grammarly</a> to calculate their readability scores.</p><p>For the English language, the algorithm is:</p><p><code>206.835 - 1.015 x (words / sentences) - 84.6 x (syllables / words)</code></p><p>This outputs a score between 1 and 100, where the higher the score, the easier to read the text is.</p><p>A score between <strong>70 and 80</strong> would be considered easy to read for a 7th grader in the US.</p><p>In the Custom JavaScript variable, Flesch Reading-Ease is generated like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>fleschReadingEase</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentenceLength</span> <span class=o>=</span> <span class=nx>avgSentenceLength</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>syllablesPerWord</span> <span class=o>=</span> <span class=nx>avgSyllablesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=nx>freBase</span><span class=p>.</span><span class=nx>base</span> <span class=o>-</span> 
</span></span><span class=line><span class=cl>    <span class=nx>freBase</span><span class=p>.</span><span class=nx>sentenceLength</span> <span class=o>*</span> <span class=nx>sentenceLength</span> <span class=o>-</span> 
</span></span><span class=line><span class=cl>    <span class=nx>freBase</span><span class=p>.</span><span class=nx>syllablesPerWord</span> <span class=o>*</span> <span class=nx>syllablesPerWord</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>2</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><h4 id=2-flesch-kincaid-grade>2. Flesch-Kincaid Grade</h4><p>The <a href=%5Bhttps://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch%E2%80%93Kincaid_grade_level%5D(https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch%E2%80%93Kincaid_grade_level)>Flesch-Kincaid Grade Level</a> score outputs a number that corresponds to the U.S. grade level generally required to understand the text. If the score returns a number higher than 10, it can also be used to calculate the <strong>years of education</strong> required to understand the text.</p><p>The algorithm is:</p><p><code>0.39 x (words / sentences) + 11.8 x (syllables / words) - 15.59</code></p><p>In the Custom JavaScript variable, this translates to:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>fleschKincaidGrade</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentenceLength</span> <span class=o>=</span> <span class=nx>avgSentenceLength</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>syllablesPerWord</span> <span class=o>=</span> <span class=nx>avgSyllablesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=mf>0.39</span> <span class=o>*</span> <span class=nx>sentenceLength</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=mf>11.8</span> <span class=o>*</span> <span class=nx>syllablesPerWord</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>    <span class=mf>15.59</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=mi>2</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><h4 id=3-smog-grade>3. SMOG grade</h4><p>The <a href=https://en.wikipedia.org/wiki/SMOG>SMOG grade</a>, short for <strong>S</strong>imple <strong>M</strong>easure <strong>o</strong>f <strong>G</strong>obbledygook, estimates the years of education required to understand any given text. It is particularly preferred (over Flesch-Kincaid) in the healthcare industry for content design.</p><p>The algorithm is:</p><p><code>1.0430 x squareroot(polysyllables x (30 / sentences)) + 3.1291</code></p><p>In the variable, this would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>smogIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>sentences</span> <span class=o>&gt;=</span> <span class=mi>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>polySyllables</span> <span class=o>=</span> <span class=nx>polySyllableCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>smog</span> <span class=o>=</span> <span class=mf>1.043</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=nx>polySyllables</span> <span class=o>*</span> <span class=p>(</span><span class=mi>30</span> <span class=o>/</span> <span class=nx>sentences</span><span class=p>),</span> <span class=mf>0.5</span><span class=p>)</span> <span class=o>+</span> <span class=mf>3.1291</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>smog</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mf>0.0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><p>Note that the formula ignores content that has three or fewer sentences, as the grade would lose any semblance of accuracy in those cases.</p><p>Just a note on the JavaScript, using <code>Math.pow(x, y)</code> calculates <code>x</code> to the power of <code>y</code>. When you set <code>y</code> to <code>0.5</code>, you get the square root of <code>x</code>.</p><h4 id=4-coleman-liau-index>4. Coleman-Liau index</h4><p>The <a href=https://en.wikipedia.org/wiki/Coleman%E2%80%93Liau_index>Coleman-Liau index</a> again outputs an approximation of the U.S. grade level required to understand the text. It&rsquo;s better suited for computer programs as it doesn&rsquo;t care about the complexity of <strong>syllables</strong> but rather relies on <strong>character counts</strong>.</p><p>The algorithm is:</p><p><code>0.0588 x average_letters_per_100_words - 0.296 x average_sentences_per_100_words - 15.8</code></p><p>In JavaScript, this would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>colemanLiauIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>letters</span> <span class=o>=</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avgLettersPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>avgSentencesPerWord</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=o>*</span> <span class=mi>100</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>coleman</span> <span class=o>=</span> <span class=mf>0.0588</span> <span class=o>*</span> <span class=nx>letters</span> <span class=o>-</span> <span class=mf>0.296</span> <span class=o>*</span> <span class=nx>sentences</span> <span class=o>-</span> <span class=mf>15.8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>coleman</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><p>Now, you can see how abstract this is, again. It calculates the average number of letters in a word <em>from the entire text</em>, and multiplies this by 100 to get the average letters in a 100 word sample. Same thing for sentences. Thus, the number gets more accurate the larger the data sample.</p><h4 id=5-automated-readability-index>5. Automated Readability Index</h4><p>The <a href=https://en.wikipedia.org/wiki/Automated_readability_index>Automated Readability Index</a> returns yet again a U.S. grade level score thought to correspond with how readable the text is.</p><p>The formula for ARI is:</p><p><code>4.71 x (characters / words) + 0.5 x (words / sentences) - 21.43</code></p><p>Similar to the Coleman-Liau index, ARI relies on characters rather than syllables, so is thus friendlier to machine calculation but can lead to a more diverse spread of scores compared to syllable-based systems.</p><p>In JavaScript, ARI is calculated like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>automatedReadabilityIndex</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>chars</span> <span class=o>=</span> <span class=nx>charCount</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>words</span> <span class=o>=</span> <span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentences</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>a</span> <span class=o>=</span> <span class=nx>chars</span> <span class=o>/</span> <span class=nx>words</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>b</span> <span class=o>=</span> <span class=nx>words</span> <span class=o>/</span> <span class=nx>sentences</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>readability</span> <span class=o>=</span> <span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=mf>4.71</span> <span class=o>*</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>+</span>
</span></span><span class=line><span class=cl>    <span class=mf>0.5</span> <span class=o>*</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>b</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=o>-</span>
</span></span><span class=line><span class=cl>    <span class=mf>21.43</span>
</span></span><span class=line><span class=cl>  <span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>readability</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><h4 id=6-linsear-write>6. Linsear Write</h4><p>The <a href=https://en.wikipedia.org/wiki/Linsear_Write>Linsear Write</a> metric uses a sample of 100 words to calculate the U.S. grade level required to understand the text. It also divides the text into &ldquo;easy words&rdquo; (two syllables or less) and &ldquo;difficult words&rdquo; (three syllables or more).</p><p>The algorithm is:</p><p><code>r = (count_of_easy_words + 3 x count_of_difficult_words) / sentences</code></p><p><code>if r > 20, result = r / 2</code></p><p><code>if r &lt;= 20, result = r / 2 - 1</code></p><p>In JavaScript, this would be:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>linsearWriteFormula</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>easyWord</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>difficultWord</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>roughTextFirst100</span> <span class=o>=</span> <span class=nx>text</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>100</span><span class=p>).</span><span class=nx>join</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>plainTextListFirst100</span> <span class=o>=</span> <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>).</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nx>plainTextListFirst100</span><span class=p>.</span><span class=nx>forEach</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>syllableCount</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>easyWord</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>difficultWord</span> <span class=o>+=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>});</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>number</span> <span class=o>=</span> <span class=p>(</span><span class=nx>easyWord</span> <span class=o>+</span> <span class=nx>difficultWord</span> <span class=o>*</span> <span class=mi>3</span><span class=p>)</span> <span class=o>/</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>roughTextFirst100</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>number</span> <span class=o>&lt;=</span> <span class=mi>20</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>number</span> <span class=o>-=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>number</span> <span class=o>/</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><p>Yeah, it&rsquo;s a bit messy. The problem is that the &ldquo;easy words&rdquo; and &ldquo;difficult words&rdquo; need to be calculated from the lexicon without any punctuation, and the sentence count needs to be calculated from a sample with punctuation intact.</p><p>In any case, the end result is the Linsear Write score for the text input with decent accuracy.</p><h4 id=7-rix>7. Rix</h4><p><a href=https://readable.com/features/readability-formulas/#rix>Rix</a> is quite plainly the number of long words divided by the number of sentences in the text. A long word is a word with more than six characters.</p><p>The resulting score can be <a href=https://readable.com/features/readability-formulas/#rix>converted to U.S. grade-level</a>.</p><p>In JavaScript, you can calculate Rix like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>var</span> <span class=nx>rix</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>words</span> <span class=o>=</span> <span class=nx>getWords</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>longCount</span> <span class=o>=</span> <span class=nx>words</span><span class=p>.</span><span class=nx>filter</span><span class=p>(</span><span class=kd>function</span><span class=p>(</span><span class=nx>word</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>word</span><span class=p>.</span><span class=nx>length</span> <span class=o>&gt;</span> <span class=mi>6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}).</span><span class=nx>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>sentencesCount</span> <span class=o>=</span> <span class=nx>sentenceCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>longCount</span> <span class=o>/</span> <span class=nx>sentencesCount</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span></span></span></code></pre></div><h4 id=8-reading-time>8. Reading time</h4><p>To calculate reading time of the text, we use <a href=https://www.healthguidance.org/entry/13263/1/What-Is-the-Average-Reading-Speed-and-the-Best-Rate-of-Reading.html>the benchmark</a> of <strong>250 words per minute</strong> read by the average adult. This translates to <strong>4.17</strong> words per second.</p><p>The algorithm is simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>readingTime</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>var</span> <span class=nx>wordsPerSecond</span> <span class=o>=</span> <span class=mf>4.17</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>// To get full reading time, ignore cache and sample
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>return</span> <span class=nx>legacyRound</span><span class=p>(</span><span class=nx>lexiconCount</span><span class=p>(</span><span class=nx>text</span><span class=p>,</span> <span class=kc>false</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span> <span class=o>/</span> <span class=nx>wordsPerSecond</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span></span></span></code></pre></div><p>This outputs a value in <strong>seconds</strong> corresponding to the time it would take for the average adult to read the text.</p><h4 id=median-grade>Median grade</h4><p>The median grade is calculated by pushing all the <strong>grades</strong> (both lower and upper bound integers for floating point values), and then taking the <strong>median</strong> grade.</p><p>This is not a scientific result in any way. Heck, the whole concept of <strong>readability</strong> escapes scientific scrutiny (just look at the number of different tests with different values!). If you want to modify it, you could use the <strong>average</strong> grade as well (take both rounded down and rounded up to get the grade spread). Or you could find what grade is the <strong>most common</strong> in the whole spread and use that instead.</p><p>Regardless, I&rsquo;ve chosen <strong>median</strong> as it excludes the outliers nicely and typically the grades would converge enough to have the median reflect the average anyway.</p><h3 id=how-to-use-the-utility-variable>How to use the utility variable</h3><p>Once you create and save the Custom JavaScript variable, you can invoke it from other Custom JavaScript variables or Custom HTML tags.</p><p>For example, let&rsquo;s say you have all the main content of any given page stored in an HTML element that can be accessed with the <a href=https://www.simoahava.com/amp/analytics/css-selector-guide-google-tag-manager/>CSS selector</a> <code>.post-content .main-content-wrap</code>.</p><p>Here&rsquo;s what a handful of different Custom JavaScript variables would look like, each returning a different value from the <code>readabilityFunction</code> output.</p><p>There are many ways to skin this cat, so feel free to get creative.</p><h4 id=get-the-flesch-kincaid-score>Get the Flesch-Kincaid Score</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>el</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.post-content .main-content-wrap&#39;</span><span class=p>).</span><span class=nx>textContent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}}(</span><span class=nx>el</span><span class=p>).</span><span class=nx>fleschKincaidGrade</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h4 id=get-the-median-grade>Get the median grade</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>el</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.post-content .main-content-wrap&#39;</span><span class=p>).</span><span class=nx>textContent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}}(</span><span class=nx>el</span><span class=p>).</span><span class=nx>medianGrade</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h4 id=get-the-reading-time-in-minutes-and-seconds>Get the reading time in minutes and seconds</h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>el</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.post-content .main-content-wrap&#39;</span><span class=p>).</span><span class=nx>textContent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>readingTime</span> <span class=o>=</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}}(</span><span class=nx>el</span><span class=p>).</span><span class=nx>readingTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>readingTime</span> <span class=o>/</span> <span class=mi>60</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;m&#34;</span> <span class=o>+</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>readingTime</span> <span class=o>%</span> <span class=mi>60</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;s&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>This would convert a reading time (in seconds) of <code>129.67</code> to <code>"2m10s"</code>.</p><h3 id=google-analytics-setup>Google Analytics setup</h3><p>Once you have the values you want to access, all you need to do is send them to Google Analytics.</p><p>Here&rsquo;s a sample setup. It sends the <a href=#get-the-median-grade><strong>median grade</strong></a> to Google Analytics as a Custom Metric, and it collects the <a href=#8-reading-time><strong>reading time</strong></a> as another Custom Metric. To make results easier to scan at a glance, we&rsquo;ll also send the median grade as a Custom Dimension.</p><p>But before we start, here&rsquo;s a caveat you need to be aware of.</p><h4 id=dom-ready>DOM Ready</h4><p>If you use <strong>DOM methods</strong> to check the readability of content from the web page, you might not be able to use a Google Analytics tag that fires on the <strong>All Pages</strong> trigger.</p><p>This is because a potential <em>race condition</em> can emerge where the <strong>All Pages</strong> trigger can fire before your DOM content is available for Google Tag Manager.</p><p>In this case, you are left with two options:</p><ol><li>Send the readability data with an event (or another pageview) where you set the <code>nonInteraction</code> field to <code>true</code>.</li><li>Delay the Page View hit a bit to fire on a <strong>DOM Ready</strong> trigger instead.</li></ol><p>The main problem with (1) is that you won&rsquo;t be able to parse the data in your main Page View report (which is the logical place for it), and would need to join the data outside Google Analytics instead (or perhaps use a <strong>custom report</strong> creatively).</p><p>The main problem with (2) is that you risk missing a fraction of your pageviews because the hit is delayed a bit.</p><p>If it&rsquo;s a <strong>single-page app</strong>, you are in luck as you can instruct the developers not to fire <a href=https://www.bounteous.com/insights/2018/03/30/single-page-applications-google-analytics/#page-paths-or-page-titles-are-incongruent-with-application-state>the virtual pageview event</a> until the content has been fully rendered on the page.</p><h4 id=1-custom-javascript-variable-for-median-grade>1. Custom JavaScript variable for median grade</h4><p>Remember to change the <code>el</code> variable assignment to match whatever content you want to evaluate. In this example, it&rsquo;s an HTML element accessible with the <a href=https://www.simoahava.com/amp/analytics/css-selector-guide-google-tag-manager/>CSS selector</a> <code>.post-content .main-content-wrap</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>el</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.post-content .main-content-wrap&#39;</span><span class=p>).</span><span class=nx>textContent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}}(</span><span class=nx>el</span><span class=p>).</span><span class=nx>medianGrade</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h4 id=2-custom-javascript-variable-for-reading-time>2. Custom JavaScript variable for reading time</h4><p>Remember to change the <code>el</code> variable assignment to match whatever content you want to evaluate. In this example, it&rsquo;s an HTML element accessible with the <a href=https://www.simoahava.com/amp/analytics/css-selector-guide-google-tag-manager/>CSS selector</a> <code>.post-content .main-content-wrap</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>el</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;.post-content .main-content-wrap&#39;</span><span class=p>).</span><span class=nx>textContent</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=p>{{</span><span class=nx>readabilityFunction</span><span class=p>}}(</span><span class=nx>el</span><span class=p>).</span><span class=nx>readingTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><h4 id=3-google-analytics---admin---custom-definitions>3. Google Analytics - Admin - Custom Definitions</h4><p>Here&rsquo;s what the <strong>Custom Metric</strong> for Reading Time looks like in Google Analytics admin:</p><a href=https://www.simoahava.com/amp/images/2019/10/custom-met-in-ga.jpg title="Custom metric in GA"><amp-img src=https://www.simoahava.com/amp/images/2019/10/custom-met-in-ga.jpg layout=responsive alt="Custom metric in GA" height=477 width=796></amp-img></a><p>If you want, you can build a <strong>Calculated Metric</strong> to get the <em>average</em> reading time across pageviews.</p><a href=https://www.simoahava.com/amp/images/2019/10/calculated-metric-in-ga.jpg title="Calculated metric in GA"><amp-img src=https://www.simoahava.com/amp/images/2019/10/calculated-metric-in-ga.jpg layout=responsive alt="Calculated metric in GA" height=409 width=645></amp-img></a><p>Here&rsquo;s what the <strong>Custom Metric</strong> for Median Grade looks like:</p><a href=https://www.simoahava.com/amp/images/2019/11/custom-metric-median.jpg title="Custom Metric Median Grade"><amp-img src=https://www.simoahava.com/amp/images/2019/11/custom-metric-median.jpg layout=responsive alt="Custom Metric Median Grade" height=411 width=490></amp-img></a><p>Here&rsquo;s what the <strong>Custom Dimension</strong> for Median Grade looks like in Google Analytics admin:</p><a href=https://www.simoahava.com/amp/images/2019/10/custom-dim-in-ga.jpg title="Custom dimension in GA"><amp-img src=https://www.simoahava.com/amp/images/2019/10/custom-dim-in-ga.jpg layout=responsive alt="Custom dimension in GA" height=432 width=781></amp-img></a><h4 id=4-google-analytics-tag>4. Google Analytics tag</h4><p>Finally, here&rsquo;s what a sample Page View tag would look like, modified.</p><a href=https://www.simoahava.com/amp/images/2019/11/sample-ga-tag.jpg title="Sample GA Tag"><amp-img src=https://www.simoahava.com/amp/images/2019/11/sample-ga-tag.jpg layout=responsive alt="Sample GA Tag" height=638 width=889></amp-img></a><p>Just remember the <a href=#dom-ready>caveat</a> about <em>DOM ready triggering</em> I mentioned above.</p><h4 id=5-how-to-access-the-results>5. How to access the results</h4><p>The <strong>Custom Dimension</strong> will be available as a secondary dimension or in a custom report.</p><a href=https://www.simoahava.com/amp/images/2019/11/custom-report.jpg title="Custom report"><amp-img src=https://www.simoahava.com/amp/images/2019/11/custom-report.jpg layout=responsive alt="Custom report" height=370 width=949></amp-img></a><p>The <strong>Custom Metrics</strong> (and the Calculated Metric if you opted to create one) will be available in custom reports as well.</p><p>Note that instead of messing around with awkward custom reports, you might want to extract the data out of Google Analytics using e.g. the <a href=https://developers.google.com/analytics/solutions/google-analytics-spreadsheet-add-on>Google Sheets add-on</a> as this gives you far more flexibility in building your own reports.</p><h3 id=google-analytics-app--web-setup>Google Analytics: App + Web setup</h3><p>If you want to send the data to the new <a href=https://www.simoahava.com/amp/analytics/getting-started-with-google-analytics-app-web/>App + Web</a> then all the power to you! Setting it up is easy - just create a new <strong>App + Web event tag</strong> for your Page View (you might want to disable the default Page View from the <em>config</em> tag), and add the variables as new event parameters.</p><p>Make sure this tag, too, triggers on DOM Ready.</p><a href=https://www.simoahava.com/amp/images/2019/10/app-web-pageview.jpg title="App+Web Pageview"><amp-img src=https://www.simoahava.com/amp/images/2019/10/app-web-pageview.jpg layout=responsive alt="App+Web Pageview" height=613 width=898></amp-img></a><p>Once you do this, the events should start showing up in the App + Web streams:</p><a href=https://www.simoahava.com/amp/images/2019/11/parameter-in-real-time.jpg title="App+web real time"><amp-img src=https://www.simoahava.com/amp/images/2019/11/parameter-in-real-time.jpg layout=responsive alt="App+web real time" height=418 width=520></amp-img></a><p>In order to build reports for these parameters, you need to <strong>include them in parameter reporting</strong>.</p><p>Once you&rsquo;ve collected some data, head over to <strong>Events</strong> -> <strong>All Events</strong>, and click the little action menu at the end of the row with the <code>page_view</code> event. Select <strong>Edit parameter reporting</strong> from this menu.</p><a href=https://www.simoahava.com/amp/images/2019/10/parameter-menu.jpg title="Parameter menu"><amp-img src=https://www.simoahava.com/amp/images/2019/10/parameter-menu.jpg layout=responsive alt="Parameter menu" height=192 width=1408></amp-img></a><p>In the overlay that appears, find the two <code>readability_*</code> parameters to add them to the list of parameters included in reporting. Set the type of the <em>median grade</em> parameter to <strong>Text</strong>, and the type of the <em>reading time</em> parameter to <strong>Number / Seconds</strong>.</p><a href=https://www.simoahava.com/amp/images/2019/11/parameter-reporting-setup.jpg title="Parameter reporting setup"><amp-img src=https://www.simoahava.com/amp/images/2019/11/parameter-reporting-setup.jpg layout=responsive alt="Parameter reporting setup" height=405 width=1152></amp-img></a><p>Once you&rsquo;ve done these, and once you&rsquo;ve accumulated some new data, you&rsquo;ll be able to find the two parameters as their own widgets when you select the <strong>page_view</strong> event in the event list, and when moving through the <strong>Analysis</strong> reports.</p><p>Note that if you&rsquo;ve configured a <a href=https://www.simoahava.com/amp/analytics/enable-bigquery-export-google-analytics-app-web/>BigQuery export</a>, the parameters will be included whether or not you add them via the event parameter reporting user interface!</p><a href=https://www.simoahava.com/amp/images/2019/11/bigquery-result.jpg title="BigQuery result"><amp-img src=https://www.simoahava.com/amp/images/2019/11/bigquery-result.jpg layout=responsive alt="BigQuery result" height=658 width=803></amp-img></a><h2 id=summary>Summary</h2><p>Let&rsquo;s discuss the caveats first.</p><p>The script itself is fairly simple, basically chopping down the text into constituent parts and then performing calculations with those parts. However, it can <strong>perform poorly</strong> if its fed a lot of content to process. Performance of regular expressions degrade in correlation with the amount of content, and with a large body of text the parsing can disrupt your page load. This is mitigated with the use of a <strong>cache</strong> and a <strong>sampling threshold</strong>, but you&rsquo;ll need to tinker with these to get the best accuracy and the best performance.</p><p>The <strong>regular expressions are not perfect</strong>. Particularly parsing sentences turns out to be quite difficult to manage with clarity, and I have opted for a fairly simple algorithm in the script.</p><p>All in all, <strong>readability scores</strong> need to be taken with a grain of salt. They abstract away much of what is gained with context, and they know nothing about the background of the reader. They count things like syllables, long words, and short words, and try to assign labels like &ldquo;easy&rdquo; and &ldquo;difficult&rdquo; based on these calculations.</p><p>The grade-level abstractions are also calculated based on U.S. averages. Whether you want to draw any conclusions is totally up to you, but I do think how much different the levels would be in a country like Finland, where the education system is somewhat different.</p><p>Having said all that, it&rsquo;s still a fun idea to play around with especially if you&rsquo;re in the business of creating content. <strong>Readability</strong> is a great concept to work towards, and the grades for my own content (almost categorically past college-level) have given me some pause. I think it&rsquo;s a great way to design content to be as readable as possible, and tools like this should give you some insight.</p><p>Whether or not Google Analytics is the right place to measure this remains to be seen. But I would imagine there to be benefits to correlating readability and reading time with overall engagement metrics. Something to optimize against, I think!</p><p>Let me know in the comments what you think about this approach!</p></section><footer class=post-footer><figure class=author-image><a class=img href=https://www.simoahava.com/amp/></a></figure><section class=author><h4>Simo Ahava</h4><p>Husband | Father | Analytics developer</p><div class=author-meta><span class="author-location icon-location">Espoo, Finland</span>
<span class="author-link icon-link"><a href=https://www.simoahava.com/>https://www.simoahava.com/</a></span></div></section><div class=social><amp-social-share type=twitter width=60 height=44></amp-social-share><amp-social-share type=linkedin width=60 height=44></amp-social-share><amp-social-share type=facebook width=60 height=44></amp-social-share></div></footer></article></main></div></body></html>